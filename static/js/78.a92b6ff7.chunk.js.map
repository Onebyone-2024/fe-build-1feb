{"version":3,"sources":["Page/StockEntry/AdditionalInbound/AddSKU.jsx"],"names":["withRouter","props","thereAreRequest","useSelector","state","dispatch","useDispatch","warehouseUuid","user","status","isLoading","inboundEntryData","warehouseArea","selectedSkuCheck","moduleEntry","moduleName","areaId","inboundAddSku","summary","setSummary","useState","isSkusNumber","setSkusNumber","firstLoadCheck","setFirstLoadCheck","isSelectedData","setIsSelectedData","search","setSearch","useEffect","getRipenessLevel","getWarehouseArea","undefined","history","push","_inboundEntryData$job","_inboundEntryData$job2","jobPost","list","map","data","idx","skuNumber","areaData","areaSource","areaName","setAreaId","selected","category","setCategory","dimention","document","documentElement","clientHeight","height","emptyItem","length","React","createElement","className","PopUp","Dropdown","show","title","placeholder","options","onChangeDropdown","selectedValue","showTitle","concat","Search","filter","searchHandler","desc","getStockTakeSummaryAddSku","setModule","selectedSkusNumber","style","minHeight","SKUItem","key","img","photo","skuDescription","skuName","uomLabel","uomValue","totalQty","uom","unitOfMeassures","isCheckedHandler","checked","preAddSku","moduleSummary","preAddHandler","check","maxHeight","responseCheck","label","src","loading","alt","onClick","type","Link","to","e","preventDefault","addSku"],"mappings":"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","file":"static/js/78.a92b6ff7.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { withRouter } from \"react-router\";\nimport Dropdown from \"Component/Dropdown\";\nimport Search from \"Component/Search\";\nimport { getStockTakeSummaryAddSku } from \"apiServices\";\nimport { getWarehouseArea, getRipenessLevel } from \"apiServices/dropdown\";\nimport SKUItem from \"Component/SKUItem\";\nimport loading from \"assets/icons/loading/LOADING-MLS-GRAY.gif\";\nimport \"./index.scss\";\nimport { preAddSku } from './services'\nimport { responseCheck, selectedSkuCheck, setAreaId, addSku } from \"Page/StockEntry/GeneralServices/moduleServices\";\nimport PopUp from \"Component/Modal/PopUp\";\nimport { Link } from \"react-router-dom\";\n\nconst AddSKU = (props) => {\n    const thereAreRequest = useSelector(state => state.thereAreRequest);\n    const dispatch = useDispatch();\n    const warehouseUuid = useSelector((state) => state.user.warehouseUuid);\n    const status = useSelector((state) => state.status);\n    const isLoading = useSelector((state) => state.isLoading);\n    const inboundEntryData = useSelector((state) => state.inboundEntryData);\n    const isCheckedTotal = selectedSkuCheck({ moduleEntry: inboundEntryData, moduleName: 'inbound' });\n    const warehouseArea = useSelector(state => state.warehouseArea);\n    const areaId = useSelector(state => state.areaId)\n    const inboundAddSku = useSelector(state => state.inboundAddSku)\n    const [summary, setSummary] = useState(null)\n    const [isSkusNumber, setSkusNumber] = useState(null)\n    const [firstLoadCheck, setFirstLoadCheck] = useState(true)\n    const [isSelectedData, setIsSelectedData] = useState([])\n    const [search, setSearch] = useState()\n\n    useEffect(() => {\n        getRipenessLevel({ dispatch })\n        getWarehouseArea({ dispatch, warehouseUuid })\n    }, []);\n    \n\n    if (!inboundEntryData || inboundEntryData === undefined) {\n        props.history.push(\"/inventory-entry/additional-inbound\")\n    }\n\n    if (firstLoadCheck === true && inboundEntryData !== undefined) {\n        //get sku number only\n        let skusNumber = inboundEntryData.jobPost.list.map((data, idx) => {\n            return data.skuNumber\n        });\n        setSkusNumber(skusNumber)\n\n        //get area source from selected data\n        let areaData = {}\n        areaData['value'] = inboundEntryData?.jobPost?.areaSource\n        areaData['label'] = inboundEntryData?.jobPost?.areaName\n        \n        setAreaId({ selected: areaData, dispatch })\n        setFirstLoadCheck(false)\n    }\n\n    //search\n    const [category, setCategory] = useState()\n\n    const dimention = document.documentElement.clientHeight\n    const height = dimention - 290\n    const emptyItem = dimention - 290\n\n    if (inboundAddSku === false && inboundEntryData?.jobPost.list.length > 0 ) props.history.push(\"/inventory-entry/additional-inbound/weight-entry\")\n    return (\n        <div className=\"w-100  stock-take-summary\">\n            <PopUp status={status} />\n            <div className=\" bg-white border-all radius-all d-md-flex dd-group d-none\">\n                <div className=\"col-lg-3 px-0 stock-take-dropdown\">\n                    <Dropdown\n                        show={true}\n                        title=\"Select Area\"\n                        placeholder='Select Area'\n                        options={warehouseArea}\n                        onChangeDropdown={(selected) => setAreaId({ selected, dispatch })}\n                        selectedValue={areaId}\n                        showTitle={true}\n                    />\n                </div>\n            </div>\n\n            <div className=\"pt-3 pb-0 pl-3 pr-3 bg-white   border-all radius-all mb-3\">\n                <div className=\"d-md-flex d-lg-flex mb-3 justify-content-between\">\n                    <div className=\"text LatoBold d-flex justify-content-between align-items-center sku-des\">\n                        <div>\n                            Search & check SKU(s) that you want add to entries{\" \"}\n                            <span className=\"green\">{`(${isSelectedData.length} Selected SKU${isSelectedData.length> 1 ? \"s\" : \"\"})`}</span>\n                        </div>\n                    </div>\n                </div>\n                <Search\n                    category={category}\n                    setCategory={setCategory}\n                    placeholder={\"Enter SKU\"}\n                    filter={false}\n                    searchHandler={(desc) =>\n                        getStockTakeSummaryAddSku({\n                            category,\n                            dispatch,\n                            desc,\n                            warehouseUuid,\n                            areaId,\n                            setModule: setSummary,\n                            selectedSkusNumber: isSkusNumber\n                        },setSearch(desc))\n                        // areaId\n                        // ? getStockTakeSummary({dispatch, desc, warehouseUuid, areaId})\n                        // : setAreaId(\"empty\")\n                    }\n                />\n                <div\n                    className={`mb-3 mt-3 d-flex align-items-center ${summary?.length ? \"flex-column\" : \"flex-row\"\n                        } w-100 text-center`}\n                    style={{ minHeight: height }}\n                >\n                    {summary?.length ? (\n                        summary?.map((data, idx) => {\n                            return (\n                                <SKUItem\n                                    key={idx}\n                                    img={data?.photo}\n                                    skuDescription={data?.skuName}\n                                    skuNumber={data?.skuNumber}\n                                    uomLabel=\"weight\"\n                                    uomValue={data?.totalQty}\n                                    uom={data?.unitOfMeassures}\n                                    isCheckedHandler={(checked) =>\n                                        preAddSku({\n                                            idx,\n                                            checked,\n                                            dispatch,\n                                            moduleSummary: summary,\n                                            moduleEntry: isSelectedData,\n                                            moduleName: 'inbound',\n                                            warehouseUuid,\n                                            areaId,\n                                            preAddHandler: setIsSelectedData\n                                        })\n                                    }\n                                    check={data?.checked}\n                                />\n                            );\n                        })\n                    ) : (\n                            <div className=\"w-100 text-center emptyTextField d-flex flex-column align-items-center justify-content-center\" style={{ minHeight: emptyItem, maxHeight:emptyItem }}>\n                                {!responseCheck({ isLoading, summary }) ? (\n                                    <img className=\"loading\" src={loading} alt=\"loading\" />\n                                ) :  areaId && summary?.length === 0 ? (\n                                    <div>\n                                      Sorry, we couldn't find any matches\n                                      for '<span className='LatoBold'>{search}</span>' in {areaId?.label} area.\n                                      <br/>\n                                      Please Try search with another term.\n                                    </div>\n                                  ) : 'Enter SKU'}\n                            </div>\n                        )}\n                </div>\n            </div>\n            <div className=\"h-screen-summary-footer d-flex flex-column justify-content-start\">\n                <div className=\"w-100 d-flex align-items-center justify-content-between mb-1\">\n                    <button\n                        onClick={() => props.history.push(\"/inventory-entry/additional-inbound/weight-entry\")}\n                        type=\"button\"\n                        className=\"btn px-4 no-shadow border-all bg-white fontSizeButton\"\n                    >\n                        Cancel\n          </button>\n                    <Link to='/inventory-entry/additional-inbound/weight-entry' onClick={(e) => thereAreRequest === 0 && isSelectedData?.length > 0 ? true : e.preventDefault()}>\n                        <button\n                            onClick={() => thereAreRequest === 0 && isSelectedData?.length > 0 ? addSku({ dispatch, moduleEntry: isSelectedData, moduleSummary: inboundEntryData, moduleName: 'inbound' }) : null}\n                            type=\"button\"\n                            className={`btn px-5 fontSizeButton no-shadow text-white ${thereAreRequest === 0 && isSelectedData?.length > 0 ? \"bg-green\" : \"bg-lineGrey\"\n                                }`}\n                        >\n                            {isSelectedData?.length === 0 ? 'Update' :thereAreRequest === 0 && isSelectedData?.length > 0? 'Update' : 'Processing...'}\n          </button>\n                    </Link>\n                </div>\n            </div>\n        </div >\n    );\n};\n\nexport default withRouter(AddSKU);\n"],"sourceRoot":""}