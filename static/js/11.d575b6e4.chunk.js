(this["webpackJsonp@coreui/coreui-pro-react-admin-template"]=this["webpackJsonp@coreui/coreui-pro-react-admin-template"]||[]).push([[11],{547:function(t,e,a){"use strict";a.d(e,"u",(function(){return c})),a.d(e,"a",(function(){return v})),a.d(e,"l",(function(){return p})),a.d(e,"C",(function(){return m})),a.d(e,"A",(function(){return y})),a.d(e,"o",(function(){return g})),a.d(e,"B",(function(){return h})),a.d(e,"c",(function(){return k})),a.d(e,"t",(function(){return b})),a.d(e,"p",(function(){return f})),a.d(e,"z",(function(){return w})),a.d(e,"q",(function(){return I})),a.d(e,"s",(function(){return L})),a.d(e,"v",(function(){return P})),a.d(e,"d",(function(){return j})),a.d(e,"e",(function(){return N})),a.d(e,"x",(function(){return U})),a.d(e,"k",(function(){return D})),a.d(e,"y",(function(){return E})),a.d(e,"g",(function(){return S})),a.d(e,"f",(function(){return x})),a.d(e,"h",(function(){return O})),a.d(e,"j",(function(){return M})),a.d(e,"i",(function(){return T})),a.d(e,"w",(function(){return R})),a.d(e,"m",(function(){return C})),a.d(e,"n",(function(){return W})),a.d(e,"E",(function(){return q})),a.d(e,"r",(function(){return Q})),a.d(e,"b",(function(){return A})),a.d(e,"D",(function(){return F}));var o=a(0),i=a.n(o),n=a(16),s=a(549),l=a(559),d=a(14),r=a.n(d),u=a(218);const c=t=>{let{moduleEntry:e}=t,a=0;return e&&e.jobPost.list.map(t=>{t.checked&&(a+=1)}),a},v=async t=>{var e;let{dispatch:a,moduleEntry:o,moduleSummary:i,moduleName:s}=t,l={...i};o.map(t=>{l.jobPost.list.push(t)});const d=null===(e=l.jobPost.list)||void 0===e?void 0:e.sort((function(t,e){return S(t,e)}));l.jobPost.list=d,a({type:n.b,["".concat(s,"EntryData")]:l.jobPost.list.length>0?l:null})},p=t=>{var e;let{data:a}=t,o=!1;null===a||void 0===a||null===(e=a.poList)||void 0===e||e.map(t=>{t.edited&&(o=!0)});return o},m=t=>{let{moduleEntry:e,activeSku:a}=t,o=0;return e&&e.jobPost.list[a].poList.map(t=>{t.itemList.map(t=>{const e=Number.isInteger(t.qty)?parseInt(t.qty):Number.parseFloat(t.qty?t.qty:0);o+=e})}),o=Number.isInteger(o)?o:Number.parseFloat(o).toFixed(2),o},y=t=>{let{moduleEntry:e,activeSku:a}=t,o=0;return e&&e.jobPost.list[a].poList.map(t=>{t.itemList.map(t=>{const e=Number.isInteger(t.pack)?parseInt(t.pack):Number.parseFloat(t.pack?t.pack:0);o+=e})}),o=Number.isInteger(o)?o:Number.parseFloat(o).toFixed(2),o},g=t=>{var e,a;let{moduleEntry:o}=t,i=!1;null===o||void 0===o||null===(e=o.jobPost)||void 0===e||null===(a=e.list)||void 0===a||a.map(t=>{p({data:t})&&(i=!0)});return i},h=t=>t?Number.isInteger(t)?t:Number.parseFloat(t).toFixed(2):0,k=t=>{let e=!1;return t.poList.map(t=>{t.itemList.map(t=>{(t.qtyIsEmpty||t.noteIsEmpty||t.outboundTypeIsEmpty||t.ripenessIsEmpty||t.gradeIsEmpty||t.packIsEmpty||t.packThresholdIsEmpty)&&(e=!0)})}),e},b=t=>{let{isLoading:e,summaryData:a=null}=t;return!a&&!e||!e},f=t=>{let{dispatch:e,moduleEntry:a,moduleName:o,idx:i,checked:s}=t,l={...a};l.jobPost.list[i].checked=s,e({type:n.b,["".concat(o,"EntryData")]:l})},w=t=>{let{moduleList:e}=t,a=0;return e&&e.map(t=>{const e=Number.isInteger(t.qty)?parseInt(t.qty):Number.parseFloat(t.qty?t.qty:0);a+=e}),a=Number.isInteger(a)?a:Number.parseFloat(a).toFixed(2),a},I=async t=>{let{dispatch:e,moduleEntry:a,moduleName:o}=t,i={...a};const l=a.jobPost.list.filter(t=>{if(t.checked)return t});i.jobPost.list=l,l.length>0?e({type:n.b,["".concat(o,"EntryData")]:i}):0===l.length&&Object(s.n)({id:i.jobPost.id,moduleName:o,dispatch:e})},L=t=>{let{dispatch:e,moduleSummary:a,moduleName:o}=t,i={...a};i.jobPost.list.map(t=>{t.checked=!0}),e({type:n.b,["".concat(o,"EntryData")]:i})},P=t=>{let{dispatch:e,selected:a}=t;a&&e({type:n.j,areaId:a})},j=t=>{let{activeSku:e,moduleEntry:a,poListIdx:o,entryListIdx:i}=t,n=parseInt(0);return a.jobPost.list[e].poList[o].itemList.map((t,e)=>{e!==i&&(n+=Number.isInteger(null===t||void 0===t?void 0:t.qty)?null===t||void 0===t?void 0:t.qty:parseFloat(null===t||void 0===t?void 0:t.qty))}),n},N=t=>{let{dispatch:e,moduleEntry:a,moduleName:o,activeSku:i,poListIdx:s,entryListIdx:l,e:d,countQty:r}=t,u={...a};const c=r({moduleEntry:a,activeSku:i,poListIdx:s,entryListIdx:l}),v=u.jobPost.list[i].poList[s].initialWeight;u.jobPost.list[i].poList[s].initialWeightScreenUpdate=v-c,u.jobPost.list[i].poList[s].itemList.splice(l,1),0===u.jobPost.list[i].poList[s].itemList.length&&(u.jobPost.list[i].poList[s].edited=!1),e({type:n.b,["".concat(o,"EntryData")]:u})},U=t=>{let{moduleName:e,search:a,updateList:o,dispatch:i,zeroQuantity:n,stockMovementTargetRepack:s,isMovement:l,setSummary:d}=t;l||((t=>{let{dispatch:e,zeroQuantity:a}=t;e({type:"SET_ZERO_QUANTITY",data:!a})})({dispatch:i,zeroQuantity:n}),"function"===typeof d&&d([])),l&&(t=>{let{dispatch:e,stockMovementTargetRepack:a}=t;e({type:"SET_MOVEMENT_TARGET_REPACK",data:!a})})({dispatch:i,stockMovementTargetRepack:s}),a&&o(!n,!s,e)},D=(t,e,a,o,n,s)=>{var l,d;const r=document.documentElement.clientWidth<=500?100:"auto";let u=null===e||void 0===e?void 0:e.map(t=>t.value),c=null===t||void 0===t?void 0:t.map((t,i)=>{if(u.includes(t.skuUuid)){let n=null;e.map(e=>{e.value===t.skuUuid&&(n=e.label)});const l=Number(s?null===t||void 0===t?void 0:t.totalMove:null===t||void 0===t?void 0:t.totalPack)+(s?(t=>{let{activeSku:e,moduleEntry:a,grade:o,slot:i}=t,n=0;return a.jobPost.list[e].poList.map(t=>{t.itemList.map(t=>{(null===t||void 0===t?void 0:t.qty)&&t.grade.label===o&&(n+=Number(null===t||void 0===t?void 0:t.qty))})}),n})({activeSku:a,moduleEntry:o,grade:n,slot:null===t||void 0===t?void 0:t.slot}):(t=>{let{activeSku:e,moduleEntry:a,grade:o,slot:i}=t,n=0;return a.jobPost.list.forEach(t=>{t.poList[0]&&t.poList[0].itemList.forEach(t=>{var e;(null===t||void 0===t?void 0:t.pack)&&t.grade.label===o&&(null===(e=t.slot)||void 0===e?void 0:e.value)==i&&(n+=Number(null===t||void 0===t?void 0:t.pack))})}),n})({activeSku:a,moduleEntry:o,grade:n,slot:null===t||void 0===t?void 0:t.slot})),d=t.targetUom,r=t.targetUos,u=l/Number(s?r:d)*100,c=l-t.targetUos,v=l-t.targetUom;return{warehouse:t.warehouse,skuUuid:t.skuUuid,skuName:t.skuName,targetDate:t.targetDate,targetUom:t.targetUom,targetUos:t.targetUos,repackTargetRemaining:v>0?"+".concat(v):v,movementTargetRemaining:c>0?"+".concat(c):c,slot:t.slot,totalPack:l,totalMove:t.totalMove,no:i+1,grade:n,[s?"%Moved":"%Repack"]:"".concat(null===u||void 0===u?void 0:u.toFixed(2),"%")}}});if(c=null===(l=c)||void 0===l?void 0:l.filter(t=>void 0!==t),null===n||void 0===n?void 0:n.length){const t=n.map(t=>Number.parseInt(null===t||void 0===t?void 0:t.value));t.includes(null)||(c=c.filter(e=>t.includes(Number.parseInt(e.slot))))}c=null===(d=c)||void 0===d?void 0:d.map((t,e)=>(t.no=e+1,t)),c||(c=[]);return{data:c,columns:s?[{Header:"Grade",placeholder:"Grade",accessor:"grade",width:300},{Header:"Total Movement",placeholder:"Total Movement",accessor:"totalPack",width:r,style:{textAlign:"right !important",display:"flex",justifyContent:"flex-end"},className:"flex-end !important",headerClassName:"flex-end !important"},{Header:"Target Remaining",placeholder:"Target Remaining",accessor:"movementTargetRemaining",Cell:t=>{let{value:e}=t;return i.a.createElement("div",{className:e<0?"red":"green"},e)},style:{textAlign:"right",display:"flex",justifyContent:"flex-end"},width:r},{Header:"Target Movement",placeholder:"Target Movement",accessor:"targetUos",width:r,style:{textAlign:"right !important",display:"flex",justifyContent:"flex-end"}},{Header:"%Moved",placeholder:"%Moved",accessor:"%Moved",width:r,style:{textAlign:"right",display:"flex",justifyContent:"flex-end"}}]:[{Header:"Slot",placeholder:"Slot",accessor:"slot",width:70,style:{textAlign:"left",display:"end",justifyContent:"flex-end"}},{Header:"Grade",placeholder:"Grade",accessor:"grade",width:300},{Header:"Total Pack",placeholder:"Total Pack",accessor:"totalPack",style:{textAlign:"right",display:"flex",justifyContent:"flex-end"},width:r},{Header:"Target Remaining",placeholder:"Target Remaining",accessor:"repackTargetRemaining",Cell:t=>{let{value:e}=t;return i.a.createElement("div",{className:e<0?"red":"green"},e)},style:{textAlign:"right",display:"flex",justifyContent:"flex-end"},width:r},{Header:"Target Pack",placeholder:"Target Pack",accessor:"targetUom",width:r,style:{textAlign:"right !important",display:"flex",justifyContent:"flex-end"}},{Header:"%Repack",placeholder:"%Repack",accessor:"%Repack",width:r,style:{textAlign:"right",display:"flex",justifyContent:"flex-end"}}]}},E=t=>{let{moduleEntry:e,dispatch:a}=t,o=[];e.jobPost.list.map(t=>{var e,a;(null===t||void 0===t||null===(e=t.poList[0])||void 0===e||null===(a=e.targetRepacks)||void 0===a?void 0:a.length)&&(o=o.concat(t.poList[0].targetRepacks))}),a({type:"IS_LOADING",targetRepacks:o})},S=(t,e,a)=>{var o=t.skuName.toUpperCase(),i=e.skuName.toUpperCase();return o<i?"desc"===a?1:-1:o>i?"desc"===a?-1:1:0},x=(t,e,a,o)=>{var i,n,s,l,d="stockMovement"===o?null===(i=t.targetMovementProgress[0])||void 0===i?void 0:i.totalMove:null===(n=t.targetRepackProgress[0])||void 0===n?void 0:n.totalPack,r="stockMovement"===o?null===(s=t.targetMovementProgress[0])||void 0===s?void 0:s.totalMove:null===(l=e.targetRepackProgress[0])||void 0===l?void 0:l.totalPack;return d<r?"tdesc"===a?-1:1:d>r?"tdesc"===a?1:-1:0},O=t=>{let{data:e,unfinishedTarget:a}=t;if(!a)return e;let o=0,i=0;return e.targetRepackProgress.length&&e.targetRepackProgress.forEach(t=>{o+=Number(t.totalPack),i+=Number(t.totalUom)}),Object(u.e)(o/i*100)<100?e:void 0},M=t=>{var e,a,o;let{localEntryData:i,moduleName:s,summary:l,dispatch:d,setLocalEntryData:r,warehouseUuid:u,areaId:c,areaIdDesposition:v}=t;const p=null===l||void 0===l?void 0:l.filter(t=>t.checked);let m={jobPost:{id:0,warehouseSource:u,warehouseDestination:u,areaSource:null===c||void 0===c?void 0:c.value,areaName:null===c||void 0===c?void 0:c.label,areaDestination:null===v||void 0===v?void 0:v.value,areaDestinationName:null===v||void 0===v?void 0:v.label,list:p}};const y=[];null===i||void 0===i||null===(e=i.jobPost)||void 0===e||e.list.map(t=>y.push(t.skuName));if(null===i||void 0===i||null===(a=i.jobPost)||void 0===a||null===(o=a.list)||void 0===o?void 0:o.length){m={...i};const t=null===p||void 0===p?void 0:p.filter(t=>!y.includes(t.skuName));m.jobPost.list=m.jobPost.list.concat(t)}r(m),d({type:n.b,["".concat(s,"EntryData")]:m})},T=t=>{var e,a,o;let{localEntryData:i,moduleEntry:s,moduleName:l,summary:d,dispatch:r,setLocalEntryData:u,warehouseUuid:c,areaId:v,areaIdDesposition:p}=t,m=null===d||void 0===d?void 0:d.filter(t=>t.checked);null===v||void 0===v||v.value,null===v||void 0===v||v.label,null===p||void 0===p||p.value,null===p||void 0===p||p.label;const y={...s};var g,h,k;(null===(e=m)||void 0===e?void 0:e.length)&&(m=null===(g=m)||void 0===g?void 0:g.map(t=>(t.isNewItem=!0,t)),y.jobPost.list=y.jobPost.list.concat(m));(null===i||void 0===i||null===(a=i.jobPost)||void 0===a||null===(o=a.list)||void 0===o?void 0:o.length)&&(m=null===i||void 0===i||null===(h=i.jobPost)||void 0===h||null===(k=h.list)||void 0===k?void 0:k.map(t=>(t.isNewItem=!0,t)),y.jobPost.list=y.jobPost.list.concat(m));r({type:n.b,["".concat(l,"EntryData")]:y})},R=async t=>{let{summary:e,setLocalEntryData:a,warehouseUuid:o,areaId:i,areaIdDesposition:n,skuUuId:d,dispatch:u,moduleName:c}=t,v=null===e||void 0===e?void 0:e.filter(t=>t.skuUuid===d);const p=await Object(l.a)({skuId:v[0].skuUuid}),m=await Object(s.e)({skuId:v[0].skuUuid,warehouseUuid:o,dispatch:u,areaId:i.value,moduleName:c});if(m){v[0].gradeList=p;const t=null===m||void 0===m?void 0:m.poItems.map(t=>{t.itemList=[];const e=t.expiryDate?r()(t.expiryDate).valueOf():null,a=t.inboundDate?r()(t.inboundDate).valueOf():null;return t.targetMovements=null===m||void 0===m?void 0:m.targetMovements,t.expiryDate=e,t.inboundDate=a,t.skuUuid=v[0].skuUuid,t.uom=v[0].unitOfMeassures,t.category=v[0].category,t.initialWeight=Number.isInteger(t.initialWeight)?parseInt(t.initialWeight):parseFloat(t.initialWeight),t});v[0].poList=t}a({jobPost:{id:0,warehouseSource:o,warehouseDestination:o,areaSource:null===i||void 0===i?void 0:i.value,areaName:null===i||void 0===i?void 0:i.label,areaDestination:null===n||void 0===n?void 0:n.value,areaDestinationName:null===n||void 0===n?void 0:n.label,list:v}})},C=async t=>{let{dispatch:e,moduleName:a,moduleEntry:o,activeSku:i}=t,d={...o};const{areaSource:u}=d.jobPost,{skuUuid:c,warehouseId:v,poList:p}=d.jobPost.list[i];if(!(null===p||void 0===p?void 0:p.length))try{const t=await Object(l.a)({skuId:d.jobPost.list[i].skuUuid}),o=await Object(s.e)({skuId:c,warehouseUuid:v,dispatch:e,areaId:u,moduleName:a});if(o){d.jobPost.list[i].gradeList=t;const e=null===o||void 0===o?void 0:o.poItems.map(t=>{t.itemList=[];const e=t.expiryDate?r()(t.expiryDate).valueOf():null,a=t.inboundDate?r()(t.inboundDate).valueOf():null;return t.targetMovements=null===o||void 0===o?void 0:o.targetMovements,t.expiryDate=e,t.inboundDate=a,t.skuUuid=d.jobPost.list[i].skuUuid,t.uom=d.jobPost.list[i].unitOfMeassures,t.category=d.jobPost.list[i].category,t.initialWeight=Number.isInteger(t.initialWeight)?parseInt(t.initialWeight):parseFloat(t.initialWeight),t});d.jobPost.list[i].poList=e}e({type:n.b,["".concat(a,"EntryData")]:d})}catch(m){console.log(m)}},W=async t=>{let{dispatch:e,moduleName:a,moduleEntry:o,activeSku:i}=t,d={...o};const{skuUuid:r,warehouseId:u,poList:c,unitOfMeassures:v,packSize:p,category:m}=d.jobPost.list[i];if(!(null===c||void 0===c?void 0:c.length))try{var y;const t=await Object(l.a)({skuId:r}),o=await Object(s.c)({skuId:r,warehouseId:u,uom:v});d.jobPost.list[i].gradeList=t;const c=[{itemList:[],expiryMs:null,inBoundyMs:null,expiryDate:null,inboundDate:null,packSize:p,category:m,initialWeight:Number.isInteger(null===o||void 0===o?void 0:o.data.totalWeight)?parseInt(null===o||void 0===o?void 0:o.data.totalWeight):parseFloat(null===o||void 0===o?void 0:o.data.totalWeight),targetRepacks:null===o||void 0===o?void 0:o.data.targetRepacks,skuUuid:r,uom:null===o||void 0===o||null===(y=o.data)||void 0===y?void 0:y.uom}];d.jobPost.list[i].poList=c,e({type:n.b,["".concat(a,"EntryData")]:d})}catch(g){console.log(g)}},q=t=>{let{summary:e,setSummary:a,idx:o,checked:i}=t,n=[...e];n[o].checked=i,a(n)},Q=t=>{let{localEntryData:e,dispatch:a}=t,o={...e};o.jobPost.list=o.jobPost.list.map(t=>(t.poList.map(t=>(t.itemList.map(e=>(e.qtyIsEmpty=!1,e.qtyIsEmpty=!1,e.gradeIsEmpty=!1,e.ripenessIsEmpty=!1,e.noteIsEmpty=!1,e.qtyToCompareIsEmpty=!1,e.qty=t.initialWeight,e.ripeness={},e.expiryDate=null===t||void 0===t?void 0:t.expiryDate,e.expiryDateText=Object(u.a)({date:null===t||void 0===t?void 0:t.expiryDate}),e)),t)),t)),a({type:n.b,stockTakeEntryData:e})},A=async t=>{let{setActiveSKU:e,moduleEntry:a}=t;const{requiredSku:o,requiredName:i,requiredPo:n,requiredItem:s}=await(t=>{let{moduleEntry:e}=t,a=[],o=[],i=[],n=[];return e.jobPost.list.map((t,e)=>{t.poList.map((t,s)=>{t.itemList.map((l,d)=>{(l.qtyIsEmpty||l.gradeIsEmpty||l.ripenessIsEmpty||l.reasonIsEmpty||l.noteIsEmpty||l.packIsEmpty||l.packThresholdIsEmpty)&&(a.push(e),i.push(s),n.push(d),l.gradeIsEmpty&&o.push("Grade"),(l.packIsEmpty||l.packThresholdIsEmpty)&&o.push("pack"),l.qtyIsEmpty&&("gram"===t.uom||"kg"===t.uom?o.push("wgt"):o.push("qty")),l.reasonIsEmpty&&o.push("Reason"),l.ripenessIsEmpty&&o.push("Ripeness"),l.noteIsEmpty&&o.push("note"))})})}),{requiredSku:a,requiredName:o,requiredPo:i,requiredItem:n}})({moduleEntry:a});if(null===o||void 0===o?void 0:o.length){"function"===typeof e&&await e(o[0]);const t=await document.getElementById("".concat(i[0],"_").concat(n[0],"_").concat(s[0]));t&&t.focus()}},F=t=>{var e,a;let{data:o,moduleEntry:i,moduleName:n}=t;const s={...null===o||void 0===o?void 0:o.data},l=Object.assign({},JSON.parse(JSON.stringify(i)));return s.list.map(t=>{t.poList.map(e=>{l.jobPost.list=l.jobPost.list.map(a=>(a.poList.map(o=>{let i=0;const s=(null===e||void 0===e?void 0:e.expiryDate)?e.expiryDate:null;if(o.itemList.map(t=>i+=Number(t.qty)),t.skuUuid===a.skuUuid&&e.wmsPoSkuCode===o.wmsPoSkuCode&&o.codeGrade===e.codeGrade&&(null===o||void 0===o?void 0:o.expiryDate)===s&&e.initialWeight!==o.initialWeight&&"repack"!==n){const t=e.initialWeight?e.initialWeight:o.initialWeight;return o.initialWeight=t,o.initialWeightFormatted=null===t||void 0===t?void 0:t.toString(),o.initialWeightScreenUpdate=(t-i).toString(),o}if(t.skuUuid===a.skuUuid&&e.wmsPoSkuCode===o.wmsPoSkuCode&&o.codeGrade===e.codeGrade&&(null===o||void 0===o?void 0:o.expiryDate)===s&&e.initialWeight===o.initialWeight&&"repack"!==n)return o;if(t.skuUuid===a.skuUuid&&e.wmsPoSkuCode===o.wmsPoSkuCode&&o.codeGrade===e.codeGrade&&(null===o||void 0===o?void 0:o.expiryDate)===s&&"repack"===n){const e=t.totalQty>0?t.totalQty:a.totalQty;return o.initialWeight=e,o.totalQty=e,o.initialWeightFormatted=null===e||void 0===e?void 0:e.toString(),o.initialWeightScreenUpdate=(e-i).toString(),o}return o}),a))})}),console.log(l),l.jobPost.list=null===l||void 0===l||null===(e=l.jobPost)||void 0===e||null===(a=e.list)||void 0===a?void 0:a.map(t=>{let e=0;return t.poList.map(t=>e+=Number(t.initialWeight)),t.totalQty=e>0?e:t.totalQty,t}),l}},549:function(t,e,a){"use strict";a.d(e,"a",(function(){return u})),a.d(e,"k",(function(){return c})),a.d(e,"v",(function(){return v})),a.d(e,"d",(function(){return p})),a.d(e,"f",(function(){return m})),a.d(e,"g",(function(){return y})),a.d(e,"j",(function(){return g})),a.d(e,"c",(function(){return h})),a.d(e,"n",(function(){return k})),a.d(e,"e",(function(){return b})),a.d(e,"w",(function(){return f})),a.d(e,"x",(function(){return w})),a.d(e,"y",(function(){return I})),a.d(e,"r",(function(){return L})),a.d(e,"p",(function(){return P})),a.d(e,"u",(function(){return j})),a.d(e,"o",(function(){return N})),a.d(e,"m",(function(){return U})),a.d(e,"l",(function(){return D})),a.d(e,"h",(function(){return E})),a.d(e,"i",(function(){return S})),a.d(e,"t",(function(){return x})),a.d(e,"b",(function(){return O})),a.d(e,"s",(function(){return M})),a.d(e,"q",(function(){return T}));var o=a(56),i=a.n(o),n=a(883),s=a(218),l=a(16),d=a(559),r=a(547);const u=async t=>{let{dispatch:e,version:a}=t;try{const{data:t}=await i()("/");if(t){const o=null===t||void 0===t?void 0:t.version;"function"===typeof e&&a!==o&&e({type:l.g,version:o})}}catch(o){console.log(o)}},c=async t=>{let{dispatch:e,sessionId:a,setComplete:o}=t;console.log("calling get user data");return e({type:l.e,user:{email:"dev@onebyone.io",warehouseName:"Kebon Jeruk Warehouse",warehouseUuid:"c78a5512-8e78-11e9-9220-42010ace9102",warehouseCode:"JKT01",warehouseTypeName:"Storage",inventoryRole:"operator",sessionId:"session123",modules:["stock_take","stock_transfer","waste","outbound","additional_inbound","stock_movement","repacking"],role:"operator"},status:null}),o(!0),!0},v=async t=>{let{dispatch:e,email:a,history:o}=t;try{return o.push("/authenticate"),e({type:l.m,user:null}),!0}catch(i){}},p=async t=>{let{moduleName:e,setModule:a,dispatch:o,poNumber:n,warehouseUuid:l,areaId:r,areaName:u,setSkuList:c,setLocalEntryData:v,areaDestination:p}=t;try{var m;let t="";n.length>0&&(t="&wmsPoSkuCode=".concat(n)),l&&(t+="&warehouseUuid=".concat(l)),r&&(t+="&areaId=".concat(null===r||void 0===r?void 0:r.value));let a="/".concat(null===e||void 0===e?void 0:e.toLowerCase(),"/poByPoSkuCode? ").concat(t);const{data:o}=await i()(a);if(null===o||void 0===o||null===(m=o.data)||void 0===m?void 0:m.length){let t={jobPost:{}};t.jobPost.list=[];const a=o.data.map(async a=>{var o,i,n,u,c;const{ripeness:v,expiryDate:m,codeGrade:y,inboundDate:g,inboundQty:h,initialWeight:k,photo:b,skuName:f,skuUuid:w,skuNumber:I,supplierId:L,supplierName:P,totalPack:j,uom:N,wmsPoSkuCode:U,slot:D,category:E}=a,S=await Object(d.a)({skuId:w});let x=null===S||void 0===S?void 0:S.filter(t=>t.label===f);if(x=(null===(o=x)||void 0===o?void 0:o.length)?x[0]:{label:null,value:null},t.jobPost.id=0,t.jobPost.warehouseSource=l,t.jobPost.warehouseDestination=l,t.jobPost.areaSource=null===r||void 0===r?void 0:r.value,t.jobPost.areaName=null===r||void 0===r?void 0:r.label,"stockMovement"===e?(t.jobPost.areaDestinationName=null===p||void 0===p?void 0:p.label,t.jobPost.areaDestination=null===p||void 0===p?void 0:p.value):t.jobPost.areaDestination=null===r||void 0===r?void 0:r.value,null===t||void 0===t||null===(i=t.jobPost)||void 0===i||null===(n=i.list)||void 0===n?void 0:n.length){var O;const e=null===t||void 0===t||null===(O=t.jobPost.list)||void 0===O?void 0:O.findIndex((t,e)=>(null===t||void 0===t?void 0:t.skuName)===f);-1===e&&t.jobPost.list.push({category:E,packSize:j,checked:!0,gradeList:S,slot:D,skuUuid:w,skuNumber:I,skuName:f,warehouseId:l,unitOfMeassures:N,totalQty:k,photo:b,poList:[{wmsPoSkuCode:U,skuUuid:w,inboundDate:g,initialWeight:k,uom:N,expiryDate:m,supplierId:L,supplierName:P,codeGrade:y,inboundQty:h,totalPack:j,packSize:j,category:E,itemList:[{qty:k,grade:x,ripeness:{label:v,value:v},expiryDate:m,expiryDateText:Object(s.a)({date:m})}]}]}),e>=0&&(t.jobPost.list[e].totalQty+=k,t.jobPost.list[e].poList.push({wmsPoSkuCode:U,skuUuid:w,inboundDate:g,initialWeight:k,uom:N,expiryDate:m,supplierId:L,supplierName:P,codeGrade:y,inboundQty:h,totalPack:j,category:E,itemList:[{qty:k,grade:x,ripeness:{label:v,value:v},expiryDate:m,expiryDateText:Object(s.a)({date:m})}]}))}(null===t||void 0===t||null===(u=t.jobPost)||void 0===u||null===(c=u.list)||void 0===c?void 0:c.length)||t.jobPost.list.push({checked:!0,category:E,packSize:j,gradeList:S,skuUuid:w,skuNumber:I,skuName:f,warehouseId:l,unitOfMeassures:N,totalQty:k,photo:b,poList:[{wmsPoSkuCode:U,skuUuid:w,inboundDate:g,initialWeight:k,uom:N,expiryDate:m,supplierId:L,supplierName:P,codeGrade:y,inboundQty:h,totalPack:j,category:E,itemList:[{qty:k,grade:x,ripeness:{label:v,value:v},expiryDate:m,expiryDateText:Object(s.a)({date:m})}]}]})});await Promise.all(a),await v(t)}}catch(y){console.log(y)}},m=async t=>{let{category:e,stockMovementTargetRepack:a,targetRepack:o,moduleName:n,zeroQuantity:d,singleView:u,module:c,setModule:v,dispatch:p,desc:m,warehouseUuid:y,areaId:g,areaIdDestination:h,transaction:k}=t;try{var b;let t="";if(m.length>0&&(t="&desc=".concat(m)),0===m.length&&(t="&desc="),y&&(t+="&warehouseUuid=".concat(y)),g&&(t+="&areaId=".concat(null===g||void 0===g?void 0:g.value)),"waste"===k&&(t+="&transaction=".concat(k)),"movement"===h&&(t+="&areaId=".concat(null===h||void 0===h?void 0:h.value)),"stockMovement"===n&&a&&(t+="&haveTargetMovement=".concat(a)),"repack"===n&&o&&(t+="&haveTargetRepack=".concat(o)),null===e||void 0===e?void 0:e.length){let a="";e.map(t=>{a+="&categoryUuid=".concat(null===t||void 0===t?void 0:t.value)}),t+=a}let I=localStorage.getItem("persist:sbroot");var f,w;if(I)I="&email=".concat(null===(f=JSON.parse(null===(w=JSON.parse(I))||void 0===w?void 0:w.user))||void 0===f?void 0:f.email),t+=I;let L="oss/skus?".concat(t);p({type:l.c,isLoading:!0});let P=[];v(P);const{data:j}=await i()(L),N=null===c||void 0===c||null===(b=c.jobPost)||void 0===b?void 0:b.list;(null===j||void 0===j?void 0:j.data)||p({type:l.c,isLoading:!1});null===j||void 0===j||j.data.map(t=>{if(Object(s.e)(t.totalQty)<=0&&d&&"stockTake"===n){var e,a,o;let i=null===N||void 0===N?void 0:N.filter(e=>e.skuUuid===t.skuUuid);u&&(i=[]),P.push({targetMovementProgress:(null===(e=t.targetMovementProgress)||void 0===e?void 0:e.length)?t.targetMovementProgress:[],targetRepackProgress:(null===(a=t.targetRepackProgress)||void 0===a?void 0:a.length)?t.targetRepackProgress:[],checked:(null===(o=i)||void 0===o?void 0:o.length)>0,gradeList:t.gradeList,photo:t.photo,poList:t.poList?t.poList:[],packSize:t.packSize,category:t.category,skuName:t.skuName,skuNumber:parseInt(t.skuNumber),skuUuid:t.skuUuid,totalQty:Object(s.e)(t.totalQty),unitOfMeassures:t.unitOfMeassures,warehouseId:t.warehouseId,originalUom:t.originalUom})}if(Object(s.e)(t.totalQty)>0&&("stockTake"!==n||!d)){var i,l,r;let e=null===N||void 0===N?void 0:N.filter(e=>e.skuUuid===t.skuUuid);u&&(e=[]),P.push({targetMovementProgress:(null===(i=t.targetMovementProgress)||void 0===i?void 0:i.length)?t.targetMovementProgress:[],targetRepackProgress:(null===(l=t.targetRepackProgress)||void 0===l?void 0:l.length)?t.targetRepackProgress:[],checked:(null===(r=e)||void 0===r?void 0:r.length)>0,gradeList:t.gradeList,photo:t.photo,poList:t.poList?t.poList:[],packSize:t.packSize,category:t.category,skuName:t.skuName,skuNumber:parseInt(t.skuNumber),skuUuid:t.skuUuid,totalQty:Object(s.e)(t.totalQty),unitOfMeassures:t.unitOfMeassures,warehouseId:t.warehouseId,originalUom:t.originalUom})}});P=P.sort((function(t,e){return Object(r.g)(t,e)})),v(P),p({type:l.c,isLoading:!1})}catch(I){}},y=async t=>{let{category:e,zeroQuantity:a,moduleName:o,setModule:n,dispatch:d,desc:u,warehouseUuid:c,areaId:v,selectedSkusNumber:p,transaction:m,stockMovementTargetRepack:y,targetRepack:g}=t;try{let t="";if(u&&(t="&desc=".concat(u)),c&&(t+="&warehouseUuid=".concat(c)),v&&(t+="&areaId=".concat(null===v||void 0===v?void 0:v.value)),"waste"===m&&(t+="&transaction=".concat(m)),"stockMovement"===o&&y&&(t+="&haveTargetMovement=".concat(y)),"repack"===o&&g&&(t+="&haveTargetRepack=".concat(g)),null===e||void 0===e?void 0:e.length){let a="";e.map(t=>{a+="&categoryUuid=".concat(null===t||void 0===t?void 0:t.value)}),t+=a}let b=localStorage.getItem("persist:sbroot");var h,k;if(b)b="&email=".concat(null===(h=JSON.parse(null===(k=JSON.parse(b))||void 0===k?void 0:k.user))||void 0===h?void 0:h.email),t+=b;let f="oss/skus? ".concat(t);d({type:l.c,isLoading:!0}),n(I);const{data:w}=await i()(f);let I=[];null===w||void 0===w||w.data.map((t,e)=>{if(p.includes(parseInt(t.skuNumber)))return!1;var i;Object(s.e)(t.totalQty)<=0&&a&&"stockTake"===o&&I.push({targetMovement:(null===(i=t.targetMovementProgress)||void 0===i?void 0:i.length)?t.targetMovementProgress:[],gradeList:t.gradeList,photo:t.photo,poList:t.poList?t.poList:[],packSize:t.packSize,category:t.category,skuName:t.skuName,skuNumber:parseInt(t.skuNumber),skuUuid:t.skuUuid,totalQty:Object(s.e)(t.totalQty),unitOfMeassures:t.unitOfMeassures,warehouseId:t.warehouseId,originalUom:t.originalUom});if(Object(s.e)(t.totalQty)>0&&("stockTake"!==o||!a)){var n,l;let e={targetMovement:(null===(n=t.targetMovementProgress)||void 0===n?void 0:n.length)?t.targetMovementProgress:[],targetRepackProgress:(null===(l=t.targetRepackProgress)||void 0===l?void 0:l.length)?t.targetRepackProgress:[],checked:t.checked,gradeList:t.gradeList,photo:t.photo,poList:t.poList?t.poList:[],skuName:t.skuName,skuNumber:parseInt(t.skuNumber),packSize:t.packSize,category:t.category,skuUuid:t.skuUuid,totalQty:Object(s.e)(t.totalQty),unitOfMeassures:t.unitOfMeassures,warehouseId:t.warehouseId,originalUom:t.originalUom};I.push(e)}});I=I.sort((function(t,e){return Object(r.g)(t,e)})),n(I),d({type:l.c,isLoading:!1})}catch(b){}},g=async t=>{let{dispatch:e,moduleName:a,isExist:o,ripeness:n}=t;if(o)e({type:l.g,isLoading:!1,["".concat(a,"FirstLoad")]:!0});else try{var r,u,c;e({type:l.g,isLoading:!0});const t="".concat(a.toLowerCase(),"/unfinishedEntries"),{data:o}=await i()(t);if(0===(null===(r=o.data)||void 0===r?void 0:r.length)||!o.data[0].list||0===(null===(u=o.data[0])||void 0===u||null===(c=u.list)||void 0===c?void 0:c.length))return void e({type:l.g,isLoading:!1,["".concat(a,"FirstLoad")]:!0});let v={jobPost:{...o.data[0]}},p=[];if(o){const t=v.jobPost.list.map(async t=>{t.checked=!0,"outbound"===a&&(t.outboundTypeList=await Object(d.d)({dispatch:e})),"stockTake"===a&&(t.gradeList=await Object(d.a)({skuId:t.skuUuid,dispatch:e})),"repack"===a&&(t.gradeList=await Object(d.a)({skuId:t.skuUuid,dispatch:e})),"waste"===a&&(t.gradeList=await Object(d.a)({skuId:t.skuUuid,dispatch:e})),"stockMovement"===a&&(t.gradeList=await Object(d.a)({skuId:t.skuUuid,dispatch:e})),"stockTransfer"===a&&(t.gradeList=await Object(d.a)({skuId:t.skuUuid,dispatch:e})),t.poList.map(e=>{e.category=t.category,e.skuUuid=t.skuUuid,e.uom=t.unitOfMeassures,e.ripenessLevel=0;const o=(t.unitOfMeassures,parseFloat(e.initialWeight));e.initialWeight=o;let i=0;return e.edited=e.itemList.length>0,e.itemList.map(o=>(o.expiryDate=null===e||void 0===e?void 0:e.expiryDate,o.expiryDateText=Object(s.a)({date:null===e||void 0===e?void 0:e.expiryDate}),"stockTake"===a&&(o.ripeness=n.filter(t=>{var e;return(null===t||void 0===t?void 0:t.value)===(null===o||void 0===o||null===(e=o.ripeness)||void 0===e?void 0:e.value)}),o.ripeness=o.ripeness[0],o.grade=t.gradeList.filter(t=>{var e;return(null===t||void 0===t?void 0:t.value)===(null===o||void 0===o||null===(e=o.grade)||void 0===e?void 0:e.value)}),o.grade=o.grade[0]),"repack"===a&&(o.grade=t.gradeList.filter(t=>{var e;return(null===t||void 0===t?void 0:t.value)===(null===o||void 0===o||null===(e=o.grade)||void 0===e?void 0:e.value)}),o.grade=o.grade[0]),"outbound"===a&&(o.outboundType=t.outboundTypeList.filter(t=>{var e;return(null===t||void 0===t?void 0:t.value)===(null===o||void 0===o||null===(e=o.outboundType)||void 0===e?void 0:e.value)}),o.outboundType=o.outboundType[0]),"gram"===t.unitOfMeassures&&"kg"===t.unitOfMeassures||isNaN(o.qty)||(i+=parseInt(o.qty)),o)),e.initialWeightUpdate=e.inboundQty-i<=0?0:e.inboundQty-i,i>=e.inboundQty?e.initialWeightOver=i:e.initialWeightOver=0,e}),p.push(t)});await Promise.all(t);v.jobPost.list=p,e({type:l.b,["".concat(a,"EntryData")]:v,isLoading:!1,["".concat(a,"FirstLoad")]:!0})}}catch(v){e({type:l.k,["".concat(a,"FirstLoad")]:!0}),console.log(v)}},h=async t=>{let{skuId:e,warehouseId:a,uom:o}=t;const n="repack/totalWeightBySku?warehouseUuid=".concat(a,"&skuId=").concat(e,"&uom=").concat(o),s=await i()(n);if(s.data)return s.data},k=async t=>{let{id:e,moduleName:a,dispatch:o,setDiscard:n}=t;if(0===e)return o({type:l.b,["".concat(a,"EntryData")]:null}),"function"===typeof n&&n(!1),!0;try{o({type:l.b,["".concat(a,"EntryData")]:null});const t="".concat(a.toLowerCase(),"/discard?jobId=").concat(e),{data:s}=await i()(t);return"function"===typeof n&&n(!1),!0}catch(s){return!1}},b=async t=>{let{skuId:e,warehouseUuid:a,areaId:o,dispatch:n,moduleName:s,zeroQuantity:l}=t;try{var d,r,u;const t="".concat(null===s||void 0===s?void 0:s.toLowerCase(),"/poBySkuId?skuId=").concat(e,"&warehouseUuid=").concat(a,"&areaId=").concat(o,"&zeroQuantity=").concat(l),{data:c}=await i()(t);return(null===c||void 0===c||null===(d=c.data)||void 0===d||null===(r=d.poItems)||void 0===r?void 0:r.length)||n({type:"STATUS",status:{code:500,message:"There is no PO"}}),"stockMovement"===s?{poItems:null===c||void 0===c?void 0:c.data.poItems,targetMovements:null===c||void 0===c?void 0:c.data.targetMovements}:null===c||void 0===c||null===(u=c.data)||void 0===u?void 0:u.poItems}catch(c){return}},f=async t=>{let{dispatch:e,skuData:a,status:o,bulk:n=!0}=t;if((!1===o||null===o||null===a)&&!0===n)return 0;try{const t="/stocktake/rowValidationUpload";await i()({method:"post",url:t,data:{data:a}}).then((function(t){if(!0!==n)return null===t||void 0===t?void 0:t.data.data;e({type:l.n,skuCodeValidated:null===t||void 0===t?void 0:t.data.data})}))}catch(s){console.log(s)}},w=async t=>{let{dispatch:e,skuData:a}=t;try{const t="/stocktransfer/rowValidationUpload";await i()({method:"post",url:t,data:{data:a}}).then((function(t){e({type:l.n,skuCodeValidated:null===t||void 0===t?void 0:t.data.data})}))}catch(o){console.log(o)}},I=async t=>{let{dispatch:e,skuNumberData:a,bulk:o=!0,status:n}=t;if((!1===n||null===n||null===a)&&!0===o)return 0;try{const t="/oss/skuByNumbers";await i()({method:"post",url:t,data:{skuList:a}}).then((function(t){if(!0!==o)return null===t||void 0===t?void 0:t.data.data;e({type:l.n,skuNumberValidated:null===t||void 0===t?void 0:t.data.data})}))}catch(s){console.log(s)}},L=async t=>{let{dispatch:e,dataCsv:a,setSubmitStatus:o,transaction:n}=t,s=null;"stockTake"==n?s="/stocktake/submit":"movement"==n?s="/stockmovement/submit":"additionalOutbound"==n?s="/outbound/submit":"repacking"==n?s="/repack/submit":"waste"==n&&(s="/waste/submit");try{return await i()({method:"post",url:s,data:{source:"upload",jobPost:a[0]}}).then((function(t){var a,i;return!0===(null===t||void 0===t||null===(a=t.data)||void 0===a?void 0:a.isSuccess)?(e({type:l.k,status:200}),o("success")):!1===(null===t||void 0===t||null===(i=t.data)||void 0===i?void 0:i.isSuccess)?(e({type:l.k,status:200}),o("failed")):o(!1),null===t||void 0===t?void 0:t.data}))}catch(d){return o(!1),"error"}},P=async t=>{let{moduleEntry:e,moduleName:a,setIsSuccess:o,dispatch:n,name:d,setActiveSKU:u,submitValidation:c}=t;try{let t=Object.assign({},JSON.parse(JSON.stringify(e)));"submit"===d&&(t.jobPost.list=t.jobPost.list.filter(t=>{if(t.poList=t.poList.filter(t=>t.itemList.length),t.poList.length)return t})),n({type:l.g,isLoading:!0});const s="".concat(a.toLowerCase()).concat("submit"===d?"/submit":"/save"),{data:v}=await i.a.post(s,t);if(0===(null===v||void 0===v?void 0:v.length)||!1===(null===v||void 0===v?void 0:v.isSuccess)){if(o({success:!0,name:d,status:500}),n({type:l.g,isLoading:!1}),null===v||void 0===v?void 0:v.data){const t=Object(r.D)({data:v,moduleEntry:e});await n({type:l.b,["".concat(a,"EntryData")]:t}),await c({setActiveSKU:u,moduleEntry:t,moduleName:a,dispatch:n})}return}let p={...t};return"submit"===d?(o({success:!0,name:d,status:200}),n({type:l.g,isLoading:!1})):(p.jobPost.id=v.data.id,n({type:l.b,["".concat(a,"EntryData")]:p}),o({success:!0,name:d,status:200}),n({type:l.g,isLoading:!1})),!0}catch(v){console.log(v);Object(s.i)(v);return o({success:!0,name:null,status:500,isLoading:!1}),!1}},j=async t=>{let{moduleEntry:e,moduleName:a,dispatch:o,setUpdateEntry:n}=t;o({type:l.g,isLoading:!0});let s=Object.assign({},JSON.parse(JSON.stringify(e)));const d="".concat(a.toLowerCase(),"/reload_quantity"),{data:u}=await i.a.post(d,s);if(null===u||void 0===u?void 0:u.isSuccess){if(o({type:l.g,isLoading:!1}),null===u||void 0===u?void 0:u.data){const t=await Object(r.D)({data:u,moduleEntry:e,moduleName:a});await o({type:l.b,["".concat(a,"EntryData")]:t}),"function"===typeof n&&await n(!0)}}else"function"===typeof n&&n(!1)},N=async t=>{let{e:e,dispatch:a}=t;try{"function"===typeof a&&a({type:l.g,isLoading:!0});let t=e.target.files[0];const o=await Object(n.a)(t,{maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0,fileType:"jpeg"}),s=new File([o],o.name);let d=new FormData;d.append("files",s);const r="waste/uploadImages",{data:u}=await i.a.post(r,d);return"function"===typeof a&&a({type:l.g,isLoading:!1}),u.data[0]}catch(e){console.log(e)}},U=async t=>{let{warehouseUuid:e,setAreaId:a}=t;try{const t="inventory/wasteArea?warehouseUuid=".concat(e),{data:o}=await i()(t),n=null===o||void 0===o?void 0:o.data.map(t=>({label:t.areaName,value:t.id}));return n&&a(n[0]),n[0]}catch(o){return!1}},D=async t=>{let{dispatch:e}=t;try{const t="/oss/warehouses",{data:a}=await i()(t);e({type:"DATA_WAREHOUSE",data:a})}catch(a){console.log(a)}},E=async t=>{let{dispatch:e,warehouseUuid:a}=t;const o="inventory/syncHistories?warehouseUuid=".concat(a),n=await i()(o);if(n){var d,r;let t=[...null===n||void 0===n||null===(d=n.data)||void 0===d?void 0:d.data];t=null===(r=t)||void 0===r?void 0:r.map(t=>(t.updatedAt=Object(s.b)({date:t.updatedAt}),t)),e({type:l.g,syncHistories:t})}},S=async t=>{var e,a,o;let{setDetail:n,id:l}=t;const d="inventory/syncHistoryDetail?historyId=".concat(l),r=await i()(d);if(null===r||void 0===r||null===(e=r.data)||void 0===e||null===(a=e.data)||void 0===a||null===(o=a.syncDetailDto)||void 0===o?void 0:o.length){var u,c,v;let t=[...null===r||void 0===r||null===(u=r.data)||void 0===u||null===(c=u.data)||void 0===c?void 0:c.syncDetailDto];t=null===(v=t)||void 0===v?void 0:v.map(t=>(t.updatedAt=Object(s.b)({date:t.updatedAt}),t)),n(t)}},x=async t=>{let{warehouseUuid:e,setSubmit:a}=t;const o="/inventory/syncAllHistories?warehouseUuid=".concat(e);a(await i.a.post(o))},O=async t=>{var e,a;let{dispatch:o,categoryList:n}=t;const s=await i()("/oss/categories");s&&o({type:l.g,categoryList:null===s||void 0===s||null===(e=s.data)||void 0===e||null===(a=e.data)||void 0===a?void 0:a.map(t=>({value:null===t||void 0===t?void 0:t.id,label:null===t||void 0===t?void 0:t.name}))})},M=async t=>{let{user:e,dispatch:a,setUser:o}=t;try{var n;const t="/".concat("usermanagement","/submit"),a=await i.a.post(t,e);if(null===a||void 0===a||null===(n=a.data)||void 0===n?void 0:n.isSuccess){o({...e,submitted:!0,code:200})}}catch(l){const t=Object(s.i)(l);o({...e,submitted:!0,code:null===t||void 0===t?void 0:t.code,message:null===t||void 0===t?void 0:t.message})}},T=async t=>{let{search:e,setUserList:a}=t;try{var o;const t="/".concat("usermanagement","/email?search=").concat(e);a([]);const n=await i()(t);let s=[...null===n||void 0===n||null===(o=n.data)||void 0===o?void 0:o.data];s=s.map((t,e)=>(t.key=e,t.role={label:t.role,value:t.role},t.listCategoryUuid=t.categories,t.listModuleAccess=t.modules,t)),a(s)}catch(n){console.log(n)}}},559:function(t,e,a){"use strict";a.d(e,"h",(function(){return s})),a.d(e,"e",(function(){return l})),a.d(e,"a",(function(){return d})),a.d(e,"b",(function(){return r})),a.d(e,"d",(function(){return u})),a.d(e,"g",(function(){return c})),a.d(e,"i",(function(){return v})),a.d(e,"f",(function(){return p})),a.d(e,"c",(function(){return m}));var o=a(56),i=a.n(o),n=a(16);const s=async t=>{let{warehouseUuid:e,dispatch:a,type:o="dropdown"}=t;try{let t="/inventory/warehouseArea?warehouseUuid=".concat(e);const{data:s=null}=await i()(t);if("csvValidator"!=o)return null===s||void 0===s?void 0:s.data.map(t=>({label:null===t||void 0===t?void 0:t.areaName,value:null===t||void 0===t?void 0:t.id,warehouseCode:null===t||void 0===t?void 0:t.warehouseCode,typeId:null===t||void 0===t?void 0:t.typeId}));a({type:n.o,warehouseAreaCsv:null===s||void 0===s?void 0:s.data.map(t=>({label:null===t||void 0===t?void 0:t.areaName,value:null===t||void 0===t?void 0:t.id}))})}catch(s){console.log(s)}},l=async t=>{let{dispatch:e}=t;try{const t="/inventory/ripenessLevel",{data:a}=await i()(t),o=null===a||void 0===a?void 0:a.data.map((t,e)=>({label:t,value:String(t)}));return e({type:n.i,ripenessLevel:o}),o}catch(a){console.log(a)}},d=async t=>{let{skuId:e,dispatch:a}=t;try{const t="/inventory/grade?skuId=".concat(e),{data:a}=await i()(t);if(a)return a.data.map(t=>({label:t.skuDescription,value:t.id,multiplier:t.parentToChildMultiplier,uom:t.uom,qtyUos:t.qtyUos,uom:t.uom}))}catch(o){console.log(o)}},r=async t=>{let{skuId:e,dispatch:a}=t;const o="/inventory/gradeRepacking?skuId=".concat(e),{data:n}=await i()(o);if(n)return n.data.map(t=>{const{relationType:e}=t;if(!e||"CHANGE_PACKSIZE"===e||"CHANGE_GRADE"===e)return{label:t.skuDescription,value:t.id,multiplier:t.parentToChildMultiplier,uom:t.uom}})},u=async t=>{let{type:e="dropdown",dispatch:a}=t;try{const t="/inventory/outboundType",{data:o}=await i()(t);let s=[];return o&&("csvValidator"==e?a({type:n.h,outboundTypeCsv:null===o||void 0===o?void 0:o.data.map(t=>({label:t.description,value:t.code}))}):s=o.data.map(t=>({label:t.description,value:t.code}))),s}catch(o){console.log(o)}},c=async()=>{try{const t="/oss/warehouses",{data:e}=await i()(t);if(e)return null===e||void 0===e?void 0:e.data.map(t=>({label:t.name,value:t.id}))}catch(t){console.log(t)}},v=async t=>{let{dispatch:e}=t;try{const t="/inventory/wasteReasons",{data:o}=await i()(t);if(o){var a;const t=null===o||void 0===o||null===(a=o.data)||void 0===a?void 0:a.map(t=>({value:t.code,label:t.description}));"function"===typeof e&&e({type:n.i,wasteReasonList:t})}}catch(o){console.log(o)}},p=async t=>{let{dispatch:e}=t;try{const t="/inventory/userRoles",{data:o}=await i()(t);if(o){var a;const t=null===o||void 0===o||null===(a=o.data)||void 0===a?void 0:a.map(t=>({value:t.code,label:t.description}));e({type:n.i,userRoles:t})}}catch(o){console.log(o)}},m=async t=>{let{dispatch:e}=t;try{const t="/inventory/modules",{data:o}=await i()(t);if(o){var a;const t=null===o||void 0===o||null===(a=o.data)||void 0===a?void 0:a.map(t=>({value:t.code,label:t.name}));e({type:n.i,inventoryModules:t})}}catch(o){console.log(o)}}}}]);
//# sourceMappingURL=11.d575b6e4.chunk.js.map