(this["webpackJsonp@coreui/coreui-pro-react-admin-template"]=this["webpackJsonp@coreui/coreui-pro-react-admin-template"]||[]).push([[20],{1181:function(e,t,a){"use strict";a.r(t);var l=a(0),n=a.n(l),o=a(12),i=a(44),s=a(129),c=a(16),r=(a(939),a(547)),d=a(218);var m=e=>{let{isNewItem:t,img:a,skuDescription:l,skuNumber:o,activeSku:i,uomValue:s,idx:c,uom:m,onClick:u,data:p}=e;const v=Object(r.l)({data:p}),E=Object(r.c)(p);return n.a.createElement("div",{className:"w-100 sku-item softGreen pl-2 pr-2 pt-2 mb-3 cursor-pointer rounded ".concat(v?"soft-green":null," ").concat(i===c?"border-green":E?"border-red":"border")},n.a.createElement("div",{className:" w-100 d-flex justify-content-end"},n.a.createElement("div",{className:t?"green-dot":"dot"})),n.a.createElement("div",{onKeyDown:e=>Object(d.g)({e:e,idx:c,onClick:u}),onClick:()=>u(),className:"w-100 softGreen d-flex justify-content-between pl-2 pr-2 mb-3 cursor-pointer ".concat(v?"soft-green":null)},n.a.createElement("div",{className:"d-flex align-items-center w-100"},n.a.createElement("div",{className:"d-flex align-items-center"},n.a.createElement("img",{src:a,alt:"sku image",className:"w-5 mr-3 border softGreen rounded"})),n.a.createElement("div",{className:"w-100"},n.a.createElement("div",{className:"mr-3 w-100 d-flex"},n.a.createElement("div",{className:"mr-3 text LatoBold fontSizeTitle"},l)),n.a.createElement("div",{className:"d-flex justify-content-between"},n.a.createElement("div",{className:"text"},o),i,n.a.createElement("div",{className:"green LatoBold"},s," ",n.a.createElement("span",null,"".concat(m?m.toUpperCase():"").concat(s>1?"s":""))))))))},u=a(611),p=a.n(u),v=a(549),E=a(544);var _=e=>{var t,a;let{hideSKUList:o,setActiveSKU:r,activeSku:d,moduleEntry:u,moduleName:_,setUpdateEntry:b}=e;const y=u.jobPost.list.length,g=document.documentElement.clientWidth;let h=document.documentElement.clientHeight;h-=212;const[f,w]=Object(l.useState)(!1),x=Object(i.c)(),I=Object(i.d)(e=>e.thereAreRequest);return n.a.createElement("div",{className:"".concat(o?"w-0":"w-30","  mt-md-0 rounded-bottom rounded-top")},n.a.createElement("div",{style:{padding:17},className:"w-100 bg-white border-top border-left border-right rounded-top border-soft-green text d-flex align-items-center justify-content-between",onClick:()=>g<=500?w(!f):null},n.a.createElement("div",{className:"LatoBold"}," Selected SKU ",n.a.createElement("span",{className:"font-green"},"(".concat(y," SKU").concat(y>1?"s":"",")"))),n.a.createElement("div",{className:"d-flex align-items-center justify-content-between"},n.a.createElement(E.M,{content:"Click to refresh the stock",placement:g<=500?"left":"right"},n.a.createElement("div",null,n.a.createElement("img",{className:"".concat(I>0&&"fa-spin-hover"," mt-1 pointer"),src:p.a,onClick:()=>Object(v.u)({moduleEntry:u,moduleName:_,dispatch:x,setUpdateEntry:b})}))),n.a.createElement(s.b,{tabIndex:"0",className:"sku-item",to:"/inventory-entry/stock-take/weight-entry/remove-sku"},n.a.createElement("div",{className:"fontSizeTitle px-3 emptyTextField iconU-remove"})),n.a.createElement(s.b,{tabIndex:"0",className:"sku-item",to:"/inventory-entry/stock-take/weight-entry/add-sku"},n.a.createElement("div",{onClick:()=>x({type:c.a,["".concat(_,"AddSku")]:!0}),className:"fontSizeTitle emptyTextField text-bold iconU-entryAdd"})))),n.a.createElement("div",{style:{height:!(g<=500)&&h,maxHeight:h},className:" overflow-y w-100 bg-white mr-0 border rounded-bottom border-soft-green pl-3 pr-0 pt-3 ".concat(f?"d-none":null)},null===u||void 0===u||null===(t=u.jobPost)||void 0===t||null===(a=t.list)||void 0===a?void 0:a.map((e,t)=>n.a.createElement(m,{isNewItem:null===e||void 0===e?void 0:e.isNewItem,data:e,idx:t,activeSku:d,skuDescription:null===e||void 0===e?void 0:e.skuName,skuNumber:null===e||void 0===e?void 0:e.skuNumber,uomLabel:null===e||void 0===e?void 0:e.unitOfMeassures,uomValue:null===e||void 0===e?void 0:e.totalQty,uom:null===e||void 0===e?void 0:e.unitOfMeassures,img:null===e||void 0===e?void 0:e.photo,onClick:()=>r(t)}))))},b=a(593),y=a.n(b),g=a(553),h=a(592),f=a(596),w=a(625),x=a(604),I=a(653);var k=e=>{var t,a,l,o,s,c,r,d,m,u,p,v;let{entryListIdx:E,wmsPoSkuInfoId:_,gradeList:b,ripeness:y,inputWidth:k,showTitle:N,item:C,onChange:L,onChangeDropdown:D,uom:P,poListIdx:O,category:S,inputType:j}=e;const T=Object(i.d)(e=>e.ripenessLevel);const U="gram"===(null===C||void 0===C||null===(t=C.grade)||void 0===t||null===(a=t.uom)||void 0===a?void 0:a.toLowerCase())?"kg":(null===C||void 0===C||null===(l=C.grade)||void 0===l?void 0:l.uom)?null===C||void 0===C||null===(o=C.grade)||void 0===o?void 0:o.uom:P,M=null===b||void 0===b?void 0:b.filter(e=>e);return console.log(null===C||void 0===C?void 0:C.grade),n.a.createElement("div",{className:"d-flex w-100 we-m "},n.a.createElement(g.a,{isEmpty:C.gradeIsEmpty,selectedValue:null===C||void 0===C?void 0:C.grade,poListIdx:O,entryListIdx:E,wmsPoSkuInfoId:_,uom:P,show:!0,onChangeDropdown:e=>D({selected:e,name:"grade"}),title:"Grade",placeholder:"Select Grade",options:M,width:"w-30",showTitle:N}),n.a.createElement(g.a,{isEmpty:C.ripenessIsEmpty,selectedValue:null===C||void 0===C?void 0:C.ripeness,grade:null===(s=C.grade)||void 0===s?void 0:s.label,poListIdx:O,entryListIdx:E,wmsPoSkuInfoId:_,uom:P,show:!0,onChangeDropdown:e=>D({selected:e,name:"ripeness"}),title:"Ripeness",placeholder:"Select Ripeness",options:T,width:"w-30",showTitle:N,className:"Waste"===(null===C||void 0===C||null===(c=C.grade)||void 0===c?void 0:c.label)||"Semi Waste"===(null===C||void 0===C||null===(r=C.grade)||void 0===r?void 0:r.label)?"d-none":"Fruits"===S?null:"d-none"}),n.a.createElement(w.a,{hideTooltips:!0,className:"uos"!==j||"kg"!==(null===C||void 0===C||null===(d=C.grade)||void 0===d||null===(m=d.uom)||void 0===m?void 0:m.toLowerCase())&&"gram"!==(null===C||void 0===C||null===(u=C.grade)||void 0===u||null===(p=u.uom)||void 0===p?void 0:p.toLowerCase())?"d-none":"",useCalculator:!0,isEmpty:C.packIsEmpty,poListIdx:O,entryListIdx:E,wmsPoSkuInfoId:_,uom:"PACK",ripeness:y,inputWidth:k,values:null===C||void 0===C?void 0:C.qtyPackSize,showTitle:N,title:"Input Pack",onChange:(e,t)=>L(e,t)}),n.a.createElement(f.a,{useCalculator:!0,isEmpty:C.qtyIsEmpty,poListIdx:O,entryListIdx:E,wmsPoSkuInfoId:_,uom:U,ripeness:y,inputWidth:k,values:null===C||void 0===C?void 0:C.qty,showTitle:N,title:"Input Quantity",onChange:(e,t)=>L(e,t)}),n.a.createElement(h.a,{useCalculator:!0,isEmpty:C.qtyIsEmpty,poListIdx:O,entryListIdx:E,wmsPoSkuInfoId:_,uom:U,ripeness:y,inputWidth:k,values:null===C||void 0===C?void 0:C.qty,title:"Input Weight",showTitle:N,onChange:(e,t)=>L(e,t)}),n.a.createElement(x.a,{isEmpty:C.noteIsEmpty,grade:null===(v=C.grade)||void 0===v?void 0:v.label,poListIdx:O,entryListIdx:E,wmsPoSkuInfoId:_,ripeness:y,inputWidth:"w-30",values:null===C||void 0===C?void 0:C.note,showTitle:N,title:"Note",onChange:e=>L(e)}),n.a.createElement(I.a,{disabled:!0,onClick:e=>D({selected:e,name:"date"}),poListIdx:O,entryListIdx:E,inputWidth:" w-30 ".concat("Fruits"===S||"Vegetables"===S?"d-none":null),text:null===C||void 0===C?void 0:C.expiryDateText,values:null===C||void 0===C?void 0:C.expiryDate,showTitle:!0,title:"Expiry Date",disabled:!0}))},N=(a(940),a(14)),C=a.n(N);const L=e=>{var t,a;let{dispatch:l,moduleEntry:n,moduleName:o,activeSku:i,poListIdx:s}=e,r={...n};const m=null===(t=r.jobPost.list[i].gradeList)||void 0===t?void 0:t.filter(e=>(null===e||void 0===e?void 0:e.value)===r.jobPost.list[i].skuUuid),u=r.jobPost.list[i].poList[s].itemList,p=u[(null===u||void 0===u?void 0:u.length)-1],v=p?p.grade:m[0],{expiryDate:E}=r.jobPost.list[i].poList[s];let _=null;(null===u||void 0===u?void 0:u.length)&&(_=null===(a=u[u.length-1])||void 0===a?void 0:a.ripeness),r.jobPost.list[i].poList[s].itemList.push({qty:"",qtyPackSize:"",qtyUos:null===v||void 0===v?void 0:v.multiplier,grade:v,ripeness:_,expiryDate:E,expiryDateText:Object(d.a)({date:E})}),l({type:c.b,["".concat(o,"EntryData")]:r})};var D=e=>{var t;let{inputWidth:a,activeSku:l,poListIdx:o,poItem:s,moduleEntry:m,moduleName:u,gradeList:p}=e;const v=Object(i.c)(),{expiryDate:E,inboundDate:_,initialWeight:b,inboundQty:g,initialWeightUpdate:h,initialWeightScreenUpdate:f,supplierName:w,uom:x,ripeness:I,edited:N,wmsPoSkuCode:D,category:P,codeGrade:O,isHidden:S}=s,j=isNaN(f)?b:f,T="kg"===x||"gram"===x?"Weight":"Quantity",U=m.jobPost.list[l].gradeList.filter(e=>(null===e||void 0===e?void 0:e.value)===O),M=m.jobPost.areaName,B=m.jobPost.inputType;return n.a.createElement("div",{id:"sku_item_".concat(l,"_").concat(o),tabIndex:"0",className:"".concat(S?"d-none":null," z-0 d-flex flex-column sku-item justify-content-between w-100 mb-3 align-items-center border rounded border-soft-green ").concat(N?"soft-green":null)},n.a.createElement("div",{className:"w-100 border-soft-green mt-3 d-flex align-items-start px-3"},n.a.createElement("div",{className:"d-flex align-items-center LatoBold pr-3"},"".concat(o+1,".")),n.a.createElement("div",{className:"w-100 d-flex justify-content-between align-items-center LatoBold cardheader-m"},n.a.createElement("div",{className:"d-flex align-items-center cardheader-m"},n.a.createElement("div",{className:"d-flex align-items-center mb-3 mr-5"},"Inbound Date",n.a.createElement("span",{className:"ml-2 font-green"},_?Object(d.b)({date:_}):"-"))),n.a.createElement("div",{className:"d-flex align-items-center mb-3"},"Initial ".concat(T),n.a.createElement("span",{className:"ml-2 font-green"}," ".concat(b," ").concat(null===x||void 0===x?void 0:x.toUpperCase()).concat(b>1?"s":""))))),n.a.createElement("div",{className:"w-100 border-soft-green d-flex align-items-start px-3"},n.a.createElement("div",{style:{opacity:0},className:"d-flex align-items-center LatoBold pr-3"},"".concat(o+1,".")),n.a.createElement("div",{className:"w-100 d-flex align-items-center LatoBold cardheader-m"},n.a.createElement("div",{className:"d-flex align-items-center cardheader-m"},n.a.createElement("div",{className:"d-flex align-items-center mb-3 mr-5"},"PO Code",n.a.createElement("span",{className:"ml-2 font-green"}," ".concat(D||"-"))),n.a.createElement("div",{className:"d-flex align-items-center mb-3 mr-5"},"Supplier Name",n.a.createElement("span",{className:"ml-2 font-green"}," ".concat(w)))))),n.a.createElement("div",{className:"w-100 border-bottom border-soft-green mb-3 d-flex align-items-start px-3"},n.a.createElement("div",{style:{opacity:0},className:"d-flex align-items-center LatoBold pr-3"},"".concat(o+1,".")),n.a.createElement("div",{className:"w-100 d-flex align-items-center LatoBold cardheader-m"},n.a.createElement("div",{className:"d-flex align-items-center cardheader-m"},n.a.createElement("div",{className:"d-flex align-items-center mb-3 mr-5"},"Expiry Date",n.a.createElement("span",{className:"ml-2 font-green"},E?Object(d.b)({date:E,noTime:!0}):"-")),n.a.createElement("div",{className:"d-flex align-items-center mb-3 mr-5"},"Inbound Quantity",n.a.createElement("span",{className:"ml-2 font-green"}," ".concat(g||"-"))),n.a.createElement("div",{className:"d-flex align-items-center mb-3 mr-5 ".concat("Waste"===M||"Semi Waste"===M?null:"d-none")},"Grade",n.a.createElement("span",{className:"ml-2 font-green"}," ".concat(U.length?U[0].label:"-")))))),n.a.createElement("div",{className:"d-flex flex-column justify-content-between w-100 align-items-center px-3 z-0"},null===(t=s.itemList)||void 0===t?void 0:t.map((e,t)=>n.a.createElement("div",{className:"d-flex w-100 align-items-center justify-content-between"},n.a.createElement("div",{className:"w-100 d-flex"},n.a.createElement("div",{style:{width:"10px"},className:"input-height d-flex align-items-center mb-3 mr-3 pt-4 mt-2"},"".concat(t+1,".")),n.a.createElement("div",{className:"w-100"},n.a.createElement(k,{inputType:B,category:P,entryListIdx:t,wmsPoSkuInfoId:e.wmsPoSkuInfoId,showTitle:!0,gradeList:p,onChange:(e,a)=>(e=>{var t,a;let{dispatch:l,moduleEntry:n,moduleName:o,activeSku:i,poListIdx:s,entryListIdx:d,e:m,val:u}=e,p=null===m||void 0===m||null===(t=m.target)||void 0===t?void 0:t.name,v=null===m||void 0===m||null===(a=m.target)||void 0===a?void 0:a.value;m||(v=u.value,p=u.name);let E={...n};if(E.jobPost.list[i].isNewItem=!1,"weight"===p||"weightToCompare"===p){let e=/^[0-9\.\x0]+$/;if(console.clear(),!0===e.test(v)&&""!==v){var _;let e=0,t=null===(_=v)||void 0===_?void 0:_.split("."),a=t[0];a>=0&&(a=parseInt(a));let l=t[1];if(null!==l&&void 0!==l)if(l.length>2){var b=l.slice(0,2);e="".concat(a,".").concat(b)}else e="".concat(a,".").concat(l);else e=parseInt(a);"weight"===p&&(E.jobPost.list[i].poList[s].itemList[d].qty=e,E.jobPost.list[i].poList[s].itemList[d].qtyIsEmpty=!1),"weightToCompare"===p&&(E.jobPost.list[i].poList[s].itemList[d].qtyToCompare=e,E.jobPost.list[i].poList[s].itemList[d].qtyToCompareIsEmpty=!1)}else"weight"===p&&(E.jobPost.list[i].poList[s].itemList[d].qty=""),"weightToCompare"===p&&(E.jobPost.list[i].poList[s].itemList[d].qtyToCompare="")}else if("pack"===p){var y;if(!1===/^[0-9.]+$/.test(v)&&""!==v)return;let{qtyUos:e,uom:t}=null===(y=E.jobPost.list[i].poList[s].itemList[d])||void 0===y?void 0:y.grade;e="gram"===t?Number(e)/1e3:Number(e),E.jobPost.list[i].poList[s].itemList[d].qtyUos=e,E.jobPost.list[i].poList[s].itemList[d].qtyPackSize=v>0?parseInt(v):v,E.jobPost.list[i].poList[s].itemList[d].qty=v?Number(v)*e:"",E.jobPost.list[i].poList[s].itemList[d].packIsEmpty=!1}else if("qty"===p){if(!1===/^[0-9.]+$/.test(v)&&""!==v)return;E.jobPost.list[i].poList[s].itemList[d].qty=v?parseInt(v):v,E.jobPost.list[i].poList[s].itemList[d].qtyIsEmpty=!1}"note"===p&&(E.jobPost.list[i].poList[s].itemList[d].note=v,E.jobPost.list[i].poList[s].itemList[d].noteIsEmpty=!1);const g=E.jobPost.list[i].poList[s].inboundQty;let h=g;E.jobPost.list[i].poList[s].edited=!1,E.jobPost.list[i].poList[s].minus=!1,E.jobPost.list[i].poList[s].itemList.map(e=>{(e.qty||0===e.qty)&&(E.jobPost.list[i].poList[s].edited=!0),h-=isNaN(e.qty)?0:e.qty,E.jobPost.list[i].poList[s].initialWeightUpdate=h,h<0?(E.jobPost.list[i].poList[s].minus=!1,E.jobPost.list[i].poList[s].initialWeightUpdate=0):E.jobPost.list[i].poList[s].itemList.filter(e=>e.qtyIsEmpty=!1)});let f=E.jobPost.list[i].poList[s].initialWeight;E.jobPost.list[i].poList[s].itemList.map(e=>{f-=isNaN(e.qty)?0:e.qty,E.jobPost.list[i].poList[s].initialWeightScreenUpdate=f});const w=Object(r.z)({moduleList:E.jobPost.list[i].poList[s].itemList});E.jobPost.list[i].poList[s].initialWeightOver=w>g?w:0,l({type:c.b,["".concat(o,"EntryData")]:E})})({dispatch:v,moduleEntry:m,moduleName:u,activeSku:l,poListIdx:o,entryListIdx:t,e:e,val:a}),onChangeDropdown:e=>{let{selected:a,name:n}=e;return(e=>{let{dispatch:t,moduleEntry:a,moduleName:l,activeSku:n,poListIdx:o,entryListIdx:i,selected:s,name:r}=e,m={...a};if(m.jobPost.list[n].isNewItem=!1,"grade"===r&&(m.jobPost.list[n].poList[o].itemList[i].grade=s,m.jobPost.list[n].poList[o].edited=!0,m.jobPost.list[n].poList[o].itemList[i].uom="gram"===(null===s||void 0===s?void 0:s.uom)?"kg":null===s||void 0===s?void 0:s.uom,m.jobPost.list[n].poList[o].itemList[i].gradeIsEmpty=!1,m.jobPost.list[n].poList[o].itemList[i].qtyUos=null===s||void 0===s?void 0:s.multiplier,m.jobPost.list[n].poList[o].itemList[i].ripeness={label:null,value:null},m.jobPost.list[n].poList[o].itemList[i].ripenessIsEmpty=!1,m.jobPost.list[n].poList[o].itemList[i].note=null,m.jobPost.list[n].poList[o].itemList[i].noteIsEmpty=!1),"ripeness"===r&&(m.jobPost.list[n].poList[o].itemList[i].ripeness=s,m.jobPost.list[n].poList[o].edited=!0,m.jobPost.list[n].poList[o].itemList[i].ripenessIsEmpty=!1,m.jobPost.list[n].poList[o].itemList[i].note=null,m.jobPost.list[n].poList[o].itemList[i].noteIsEmpty=!1),"date"===r){let e=C()(s).valueOf();m.jobPost.list[n].poList[o].itemList[i].expiryDate=e,m.jobPost.list[n].poList[o].itemList[i].expiryDateText=Object(d.a)({date:e}),m.jobPost.list[n].poList[o].edited=!0,m.jobPost.list[n].poList[o].itemList[i].ripenessIsEmpty=!1,m.jobPost.list[n].poList[o].itemList[i].noteIsEmpty=!1}t({type:c.b,["".concat(l,"EntryData")]:m})})({dispatch:v,moduleEntry:m,moduleName:u,activeSku:l,poListIdx:o,entryListIdx:t,selected:a,name:n})},uom:x,ripeness:I,inputWidth:a,item:e,className:I?null:"d-none",poListIdx:o}))),n.a.createElement("div",{className:"d-flex w-10 align-items-center justify-content-end input-height mb-0 p-0"},n.a.createElement("img",{src:y.a,alt:"delete icon",className:"w-1 cursor-pointer ",onClick:e=>Object(r.e)({dispatch:v,moduleEntry:m,moduleName:u,activeSku:l,poListIdx:o,entryListIdx:t,e:e,countQty:r.d})}))))),n.a.createElement("div",{onKeyDown:e=>13===e.keyCode&&L({dispatch:v,moduleEntry:m,moduleName:u,activeSku:l,poListIdx:o}),className:"w-100 ml-5 pl-4 font-green mb-3 LatoBold cursor-pointer ",onClick:()=>L({dispatch:v,moduleEntry:m,moduleName:u,activeSku:l,poListIdx:o})},n.a.createElement("i",{className:"green iconU-entryAdd pr-2"}),"Add ".concat(T," (").concat(Object(d.e)(j)?Object(d.e)(j):j," ").concat(x?x.toUpperCase():"").concat(j>1?"s":""," left)")))},P=a(652),O=a(567),S=a(598),j=a(606),T=a(586),U=a(614),M=a(550);var B=e=>{var t,a;let{setActiveSKU:l,hideSKUList:o,setHideSKUList:s,activeSku:c,moduleEntry:r,moduleName:d,updateEntry:m,setUpdateEntry:u}=e;const p=Object(i.c)(),{height:E,heightAdj:_,dimention:b}=Object(M.d)(),{status:y,setIsSuccess:g,confirmation:h,setConfirmation:f,discard:w,setDiscard:x,isSaved:I,setIsSaved:k,action:N,setAction:C,isRequired:L,setIsRequired:B,hideContent:W,setHideContent:A,isLoading:R,skuName:K,skuNumber:q,poList:z,gradeList:F,unitOfMeassures:H,totalWeight:V,edited:G,postInfo:Q,inputType:J}=Object(M.m)({moduleEntry:r,activeSku:c}),Y=b<=500,$=W?"d-none":null,X=V>1?"s":"",Z=G?"bg-green":"bg-lineGrey",ee="uos"===(null===J||void 0===J?void 0:J.value)?"w-20":"w-30";return n.a.createElement("div",{style:{paddingLeft:Y?0:10},className:"w-100 h-100 mt-3 mt-md-0"},n.a.createElement(T.a,{discard:w,module:"Inventory Entry - Stock Take",moduleEntry:r,close:()=>x(!1),discardEntry:e=>Object(v.n)({id:e,moduleName:d,dispatch:p})}),n.a.createElement(S.a,{updateEntry:m,setUpdateEntry:u,status:y,moduleEntry:r,submit:()=>p({type:"CREATE_JOB_SHEET",["".concat(d,"EntryData")]:null,["".concat(d,"SummaryData")]:null}),confirmation:h,setConfirmation:f,isSaved:I,action:N,setIsSaved:k,moduleName:d,totalSku:null===r||void 0===r||null===(t=r.jobPost)||void 0===t?void 0:t.list.length}),n.a.createElement(j.a,{isRequired:L,module:r,setIsRequired:B,moduleName:d,totalSku:null===r||void 0===r||null===(a=r.jobPost)||void 0===a?void 0:a.list.length}),n.a.createElement(O.b,{isLoading:R,moduleEntry:r,confirmation:h,setConfirmation:f,isSuccess:Q,setAction:C,action:N,save:()=>Object(v.p)({name:"save",moduleEntry:r,moduleName:d,dispatch:p,setIsSuccess:g}),submit:()=>Object(v.p)({name:"submit",moduleEntry:r,moduleName:d,dispatch:p,setIsSuccess:g,submitValidation:P.c,setActiveSKU:l})}),n.a.createElement("div",{className:"mb-3 bg-white rounded-bottom rounded-top"},n.a.createElement("div",{style:{height:E},style:{padding:10},className:"w-100 mr-0 d-flex align-items-center border-top border-left border-right border-bottom rounded-top border-soft-green"},n.a.createElement("div",{className:"d-flex w-100 m-0 p-0",onClick:()=>Y?A(!W):null},n.a.createElement("div",{className:"".concat(o?"iconU-sideBarHideRight":"iconU-sideBarHideLeft"," emptyTextField fontSizeTitle mr-3 m-0 p-0"),onClick:()=>s(!o)}),n.a.createElement("div",{className:"mr-3 pr-1 d-flex align-items-center m-0 p-0 LatoBold"},"Weight Entry"),n.a.createElement("div",{className:"mr-3 iconU-sideBarDot d-flex align-items-center m-0 p-0"}),n.a.createElement("div",{className:"mr-3 d-flex align-items-center font-green LatoBold m-0 p-0"},"".concat(K," (").concat(q,")"))),n.a.createElement(U.a,{moduleEntry:r,moduleName:d,activeSku:c,dispatch:p})),n.a.createElement("div",{style:{height:Y?E:_,minHeight:Y?E:_},className:"w-100 overflow-y mr-0 border-left border-right border-soft-green pl-3 pr-2 pt-3 ".concat($)},null===z||void 0===z?void 0:z.map((e,t)=>n.a.createElement(D,{gradeList:F,inputWidth:ee,activeSku:c,poListIdx:t,poItem:e,moduleEntry:r,moduleName:d}))),n.a.createElement("div",{className:"w-100 d-flex align-items-center p-3 border-left border-right border-bottom rounded-bottom LatoBold ".concat($)},n.a.createElement("button",{tabIndex:"0",type:"button",className:"btn ".concat(Z,"  text-white sku-item px-5 mr-3 LatoBold"),onClick:()=>G?f({show:!0,name:"save"}):null},"Save"),n.a.createElement("div",null,"Total Weight ",n.a.createElement("span",{className:"font-green"},"".concat(V," ").concat(null===H||void 0===H?void 0:H.toUpperCase()).concat(X))))),n.a.createElement("div",{className:"d-flex align-items-center justify-content-end"},n.a.createElement("div",{tabIndex:"0",onClick:()=>x(!0),className:"red pr-3 sku-item fontSizeButton cursor-pointer"},n.a.createElement("i",{className:"iconU-entryTrash"})," Discard"),n.a.createElement("button",{tabIndex:"0",onClick:()=>G?Object(P.c)({setActiveSKU:l,moduleEntry:r,moduleName:d,dispatch:p,setConfirmation:f,setIsRequired:B}):null,className:"btn sku-item px-5 py-2 text-white ".concat(Z," LatoBold no-shadow"),style:{height:"fit-content !important"}},"Submit")))};t.default=()=>{const e=Object(i.d)(e=>e.stockTakeEntryData),[t,a]=Object(l.useState)(!1),[s,c]=Object(l.useState)(0),[r,d]=Object(l.useState)();let m=document.documentElement.clientHeight,u=document.documentElement.clientWidth,p=m-150;return e&&0!==(null===e||void 0===e?void 0:e.jobPost.list.length)?n.a.createElement("div",{style:{height:u<=500?m:p},className:"w-100 d-md-flex justify-content-between scroll-y z-0"},n.a.createElement(_,{hideSKUList:t,activeSku:s,setActiveSKU:c,moduleName:"stockTake",moduleEntry:e,setUpdateEntry:d}),n.a.createElement(B,{setActiveSKU:c,setHideSKUList:a,hideSKUList:t,moduleName:"stockTake",moduleEntry:e,activeSku:s,setUpdateEntry:d,updateEntry:r})):n.a.createElement("div",{className:"d-flex align-items-center justify-content-center text-center w-100 h-screen"},n.a.createElement(o.a,{to:"/inventory-entry/stock-take"},"Please Select At Least 1 SKU"))}},548:function(e,t,a){},551:function(e,t,a){},553:function(e,t,a){"use strict";var l=a(0),n=a.n(l),o=a(587);t.a=e=>{var t,a;let{isEmpty:i,title:s,placeholder:c,options:r,selectedValue:d,showTitle:m,width:u,className:p,entryListIdx:v,onChangeDropdown:E,show:_,poListIdx:b,isDisabled:y,style:g,noMarginBottom:h,resetName:f,isMulti:w,hideResetOpt:x,zInfinity:I}=e;const[k,N]=Object(l.useState)();Object(l.useEffect)(()=>{"empty"===d&&N(!0)},[d,i]);const C=!!i&&(e=>({...e,border:"solid #eb5c5c 1px",":hover":{border:"solid #eb5c5c 1px !important"},":active":{border:"solid #eb5c5c 1px !important"}})),L=null===(t=document)||void 0===t?void 0:t.getElementById("dropdown".concat(v).concat(b));let D=null===L||void 0===L?void 0:L.getBoundingClientRect();Object(l.useEffect)(()=>{D=null===L||void 0===L?void 0:L.getBoundingClientRect()},[k]);const P=document.documentElement.clientWidth;let O=[{label:"-".concat(f||s,"-"),value:null}];r&&(O=[...O,...r]),x&&(O=O.filter(e=>null===e||void 0===e?void 0:e.value));let S=(null===(a=D)||void 0===a?void 0:a.bottom)>600?"top":"bottom";var j;P<=500&&(S=(null===(j=D)||void 0===j?void 0:j.bottom)>400?"top":"bottom","Categories"===s&&(S="top"));return n.a.createElement("div",{style:g,className:"mr-0 ".concat(g?null:"mr-lg-3"," ").concat(h?null:"mb-3"," ").concat(u," ").concat(p," ").concat(_?null:"d-none")},n.a.createElement("div",{className:" pb-1 LatoBold ".concat(m?null:"d-none")},s),n.a.createElement(o.a,{inputId:"".concat(s,"_").concat(b,"_").concat(v),isMulti:w,isSearchable:!(P<500),isDisabled:y||!1,id:"dropdown".concat(v).concat(b),value:((null===d||void 0===d?void 0:d.value)||!!(null===d||void 0===d?void 0:d.length))&&d,menuIsOpen:k,menuPortal:!0,placeholder:f||c,options:O,onMenuOpen:()=>N(!0),onMenuClose:()=>N(!1),onChange:e=>{E(e),N(!1)},menuPortalTarget:document.body,maxMenuHeight:150,menuPlacement:"".concat(S),styles:{menuPortal:e=>({...e,zIndex:I?1e16:9999}),control:C,option:(e,t)=>{let{isFocused:a,isSelected:l}=t;return{...e,backgroundColor:l?"rgb(242, 250, 246, 0)":a?"rgb(242, 250, 246)":null,color:l?"black":"#969696",cursor:"pointer",fontWeight:l?"bold":null,":active":{backgroundColor:"rgb(242, 250, 246) !important",color:"#4abe84"},":hover":{color:l?null:"#4abe84"}}}},theme:e=>({...e,borderRadius:4})}))}},566:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_index_scss__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(588),_index_scss__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_1__),_Display__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(589),_Keypad__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(590),_Button__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(591),Page_StockEntry_GeneralServices__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(550);const Calculator=props=>{var _position,_position2,_position3;const[data,setData]=Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(""),wrapperRef=Object(react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),calculate=onChange=>{try{const result=eval(data),value={value:null===result||void 0===result?void 0:result.toString(),name:props.name};onChange(value)}catch(e){console.log(e),setData("")}};Object(Page_StockEntry_GeneralServices__WEBPACK_IMPORTED_MODULE_5__.e)({wrapperRef:wrapperRef,setShow:props.setShowCalculator,show:props.showCalculator});const{isMobile:isMobile}=Object(Page_StockEntry_GeneralServices__WEBPACK_IMPORTED_MODULE_5__.c)();let elem=null,position=null===elem||void 0===elem?void 0:elem.getBoundingClientRect(),menuOnTop=(null===(_position=position)||void 0===_position?void 0:_position.bottom)>600;isMobile&&(menuOnTop=(null===(_position2=position)||void 0===_position2?void 0:_position2.bottom)>400),console.log(elem),Object(react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{position=null===elem||void 0===elem?void 0:elem.getBoundingClientRect()},[props.showCalculator]);const top=(null===(_position3=position)||void 0===_position3?void 0:_position3.top)-(menuOnTop?isMobile?400:320:-60),handleClick=e=>{const t=e.target.getAttribute("data-value");switch(t){case"clear":const e=null===data||void 0===data?void 0:data.substring(0,(null===data||void 0===data?void 0:data.length)-1);console.log(e),setData(e);break;case"clearall":props.onChange({value:"",name:props.name}),setData("");break;case"equal":calculate(props.onChange),props.setShowCalculator();break;default:setData(data+t)}};return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"".concat(props.useCalculator?null:"d-none"," calculator ").concat(props.className," "),ref:wrapperRef,style:{top:top,left:!!isMobile&&0}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Display__WEBPACK_IMPORTED_MODULE_2__.a,{data:data,setData:setData}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Keypad__WEBPACK_IMPORTED_MODULE_3__.a,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("table",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td",{style:{backgroundColor:"rgba(168, 177, 190, 1)",color:"white"}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_4__.a,{onClick:handleClick,label:"x",value:"*"})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td",{style:{backgroundColor:"rgba(168, 177, 190, 1)",color:"white"}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_4__.a,{onClick:handleClick,label:"/",value:"/"})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td",{style:{backgroundColor:"rgba(168, 177, 190, 1)",color:"white"}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_4__.a,{onClick:handleClick,label:"+",value:"+"})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td",{style:{backgroundColor:"rgba(168, 177, 190, 1)",color:"white"}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_4__.a,{onClick:handleClick,label:"-",value:"-"}))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_4__.a,{onClick:handleClick,label:"7",value:"7"})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_4__.a,{onClick:handleClick,label:"8",value:"8"})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_4__.a,{onClick:handleClick,label:"9",value:"9"})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td",{style:{backgroundColor:"rgba(74, 190, 132, 1)",color:"white"}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_4__.a,{onClick:handleClick,label:"<",value:"clear"}))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_4__.a,{onClick:handleClick,label:"4",value:"4"})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_4__.a,{onClick:handleClick,label:"5",value:"5"})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_4__.a,{onClick:handleClick,label:"6",value:"6"})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td",{style:{backgroundColor:"rgba(74, 190, 132, 1)",color:"white"}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_4__.a,{onClick:handleClick,label:"C",value:"clearall"}))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_4__.a,{onClick:handleClick,label:"1",value:"1"})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_4__.a,{onClick:handleClick,label:"2",value:"2"})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_4__.a,{onClick:handleClick,label:"3",value:"3"})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td",{style:{backgroundColor:"rgba(74, 190, 132, 1)",color:"white"},rowSpan:2},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_4__.a,{onClick:handleClick,label:"=",value:"equal"}))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td",{colSpan:2},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_4__.a,{onClick:handleClick,label:"0",value:"0",twoSpace:!0})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_4__.a,{onClick:handleClick,label:".",value:"."}))))))};__webpack_exports__.a=Calculator},567:function(e,t,a){"use strict";a.d(t,"b",(function(){return d})),a.d(t,"a",(function(){return m}));var l=a(0),n=a.n(l),o=a(544),i=(a(551),a(44)),s=a(597);const c=e=>{let{e:t,state:a,isCaptcha:l,setIsValidated:n,setIsType:o,isType:i,isValidated:s,submit:c}=e;const r=t.key;let d=[...i];if("Enter"===r){if(!s)return;c()}if(["ArrowUp","ArrowDown","Tab","Delete"].includes(r))return 0;if("Backspace"===r){let e=[...i];""==e[a]&&1!==a&&(document.getElementById("t"+(parseInt(a)-1)).focus(),document.getElementById("t"+(parseInt(a)-1)).value="",e[a-1]="",d[a-1]="")}else if("ArrowLeft"===r){if(1!==a)return document.getElementById("t"+(parseInt(a)-1)).focus(),document.getElementById("t"+(parseInt(a)-1)).setSelectionRange(-1,-1),0}else if("ArrowRight"===r){if(3!==a)return document.getElementById("t"+(parseInt(a)+1)).focus(),document.getElementById("t"+(parseInt(a)+1)).setSelectionRange(-1,-1),0}else 3!==a&&document.getElementById("t"+(parseInt(a)+1)).focus();d[a]="Backspace"===r?"":r.toUpperCase();if(!"QWERTYUIOPLKJHGFDSAZXCVBNM1234567890".split("").includes(r.toUpperCase())&&""!=d[a])return 0;document.getElementById("t"+parseInt(a)).value=d[a],o(d);let m=!0;l.map((e,t)=>{d[t+1]!=l[t]&&(m=!1)}),n(m)};var r=a(547);const d=e=>{var t,a,i;let{moduleEntry:c,confirmation:d,setConfirmation:m,save:u,submit:p,isSuccess:v,isLoading:E,moveAll:_,setAction:b,moduleName:y,noSkuChecking:g,singleViewData:h}=e;const f=document.documentElement.clientHeight-300;let w="Submit";"save"===d.name&&(w="Save"),Object(l.useEffect)(()=>{v&&m({show:!1,name:null})},[v]),window.onkeydown=e=>27===e.keyCode?m({show:!1,name:null}):null,Object(l.useEffect)(()=>{b(d.name)},[d]);let x=h&&!_?h:c;const I=null===x||void 0===x||null===(t=x.jobPost)||void 0===t?void 0:t.areaDestinationName,k=null===x||void 0===x||null===(a=x.jobPost)||void 0===a?void 0:a.warehouseDestinationName,N=null===x||void 0===x||null===(i=x.jobPost)||void 0===i?void 0:i.areaName,C=((e,t,a)=>{if(null===e||void 0===e?void 0:e.length){let l=[];e.map(e=>{e.poList.map(n=>{n.itemList.map(n=>{var o,i,c,r,d,m;const{qty:u,grade:p}=n,v=Object(s.a)(u)?parseInt(u):u?parseFloat(u):0,E=t?e.skuName:"waste"===a?(null===(o=n.wasteType)||void 0===o?void 0:o.label)?null===(i=n.wasteType)||void 0===i?void 0:i.label:e.skuName:null===p||void 0===p?void 0:p.label,_="waste"===a?"Semi Waste"===(null===(c=n.wasteType)||void 0===c?void 0:c.label)||"Waste"===(null===(r=n.wasteType)||void 0===r?void 0:r.label):"Waste"===(null===p||void 0===p?void 0:p.label)||"Semi Waste"===(null===p||void 0===p?void 0:p.label),b=t?e.unitOfMeassures:"gram"===(null===p||void 0===p?void 0:p.uom)?"kg":null===p||void 0===p?void 0:p.uom;let y={sku:E,qty:v,uom:b,wqty:0,swqty:0};_&&(y.qty=0,y.sku=e.skuName),("waste"===a?"Waste"===(null===(d=n.wasteType)||void 0===d?void 0:d.label):"Waste"===(null===p||void 0===p?void 0:p.label))&&(y.wqty=v),("waste"===a?"Semi Waste"===(null===(m=n.wasteType)||void 0===m?void 0:m.label):"Semi Waste"===(null===p||void 0===p?void 0:p.label))&&(y.swqty=v);const g=l.findIndex(t=>(null===t||void 0===t?void 0:t.sku)===(_?e.skuName:E));var h,f;("waste"!==a&&(-1===g&&l.push(y),-1!==g&&(_||(l[g].qty+=v),"Semi Waste"===(null===p||void 0===p?void 0:p.label)&&(l[g].swqty+=v),"Waste"===(null===p||void 0===p?void 0:p.label)&&(l[g].wqty+=v))),"waste"===a)&&(-1===g&&l.push(y),-1!==g&&(_||(l[g].qty+=v),"Semi Waste"===(null===(h=n.wasteType)||void 0===h?void 0:h.label)&&(l[g].swqty+=v),"Waste"===(null===(f=n.wasteType)||void 0===f?void 0:f.label)&&(l[g].wqty+=v)))})})});const n=e.length?e[0].skuName:"No SKU",o=l.findIndex(e=>e.sku===n);return l.forEach(e=>{-1!==o&&("Waste"===e.sku&&(l[o].wqty=e.qty),"Semi Waste"===e.sku&&(l[o].swqty=e.qty))}),l}})(null===x||void 0===x?void 0:x.jobPost.list,g,y);return n.a.createElement(o.B,{className:"modalConfirmation "+(d.show?null:"d-none")},n.a.createElement(o.f,null,n.a.createElement(o.s,{show:d.show,closeOnBackdrop:!1},n.a.createElement(o.v,{className:"px-4 pt-5 border-none"},n.a.createElement(o.w,{className:"text LatoBold"},"Confirmation"," ",n.a.createElement("span",null,n.a.createElement("i",{className:"em em-pray"}))),n.a.createElement("label",{tabIndex:"0",onKeyDown:e=>13===e.keyCode&&m({show:!1,name:null}),onClick:()=>m({show:!1,name:null}),className:"sku-item iconU-modalClose"})),n.a.createElement(o.t,{className:"px-4 py-0",style:{minHeight:f}},n.a.createElement("p",{className:"text mb-2"},n.a.createElement("span",null,"Are you sure want to ".concat("Waste"==N?"update":"send"," this Item ")),n.a.createElement("span",{className:" ".concat(I?null:"d-none")}," from"),n.a.createElement("span",{className:"green ".concat(I?null:"d-none")}," ".concat(N," ")),n.a.createElement("span",null,"outbound"==y?"from":"repack"===y?"":"to"," "),n.a.createElement("span",{className:"green ".concat("repack"!==y?null:"d-none")}," ".concat("stockTransfer"===y?k:I||N," "))),n.a.createElement("p",{className:"text"},"Please double check this list, this record will store to database."),n.a.createElement("div",{style:{minHeight:f,maxHeight:f,overflow:"auto",border:"1px solid var(--lineGrey)"}},n.a.createElement("table",null,n.a.createElement("thead",null,n.a.createElement("tr",{style:{borderBottom:"1px solid var(--lineGrey)"}},n.a.createElement("th",{style:{color:"var(--emptyTextField)"}},"SKU List"),n.a.createElement("th",{style:{textAlign:"right",color:"var(--emptyTextField)"}},"Weight"),n.a.createElement("th",{style:{textAlign:"right",color:"var(--emptyTextField)"}},"Semi Waste"),n.a.createElement("th",{style:{textAlign:"right",color:"var(--emptyTextField)"}},"Waste"))),n.a.createElement("tbody",null,null===C||void 0===C?void 0:C.map(e=>n.a.createElement("tr",{style:{borderBottom:"1px solid var(--lineGrey)"}},n.a.createElement("td",{style:{maxWidth:"160px"}},e.sku),n.a.createElement("td",{className:"text-right py-3",style:{textAlign:"right"}},"".concat(Object(r.B)(null===e||void 0===e?void 0:e.qty))),n.a.createElement("td",{className:"text-right text-nowrap",style:{textAlign:"right"}},n.a.createElement("span",{className:"text-nowrap"},"".concat(Object(r.B)(null===e||void 0===e?void 0:e.swqty)," "))),n.a.createElement("td",{className:"text-right",style:{textAlign:"right"}},"".concat(Object(r.B)(null===e||void 0===e?void 0:e.wqty)))))))),n.a.createElement("div",{className:"px-0 pb-5 pt-0 justify-content-start border-none"},n.a.createElement(o.d,{tabIndex:"0",onKeyDown:e=>13===e.keyCode&&m({show:!1,name:null}),className:"bg-background sku-item text no-shadow px-5 mt-4 mb-0 mx-0",onClick:()=>m({show:!1,name:null})},"Cancel"),n.a.createElement(o.d,{tabIndex:"0",onKeyDown:e=>13===e.keyCode&&(E?null:"save"===d.name?u():p()),className:"".concat(E?"bg-softGreen text":"bg-green text-white"," no-shadow px-5 mt-4 sku-item mb-0 ml-3 mr-0"),onClick:()=>E?null:"save"===d.name?u():p()},E?"Processing...":w)," ")))))},m=e=>{let{show:t=!1,setIsShowModal:a,submit:s,submitText:r="Submit"}=e;for(var d="",m="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",u=m.length,p=[],v=0;v<3;v++){let e=m.charAt(Math.floor(Math.random()*u));d+=e,p.push(e)}const E=Object(i.d)(e=>e.csvFileName),[_,b]=n.a.useState(p),[y,g]=n.a.useState(d),[h,f]=n.a.useState(!1),[w,x]=n.a.useState([]);return Object(l.useEffect)(()=>{!0===t&&(document.getElementById("t1").value="",document.getElementById("t2").value="",document.getElementById("t3").value="")},[t]),n.a.createElement(o.B,{className:t?null:"d-none"},n.a.createElement(o.f,null,n.a.createElement(o.s,{show:t,onClose:()=>{a(!1)},size:"lg",style:{height:"400px"}},n.a.createElement(o.v,{className:"px-5 pt-5 border-none"},n.a.createElement(o.w,{className:"text LatoBold"},"Confirmation")),n.a.createElement(o.t,{className:"px-5 py-0"},n.a.createElement("p",{className:"text mb-2"},"Are you sure want to upload ",n.a.createElement("span",{className:"green"},"Edited")," ",E,"?"),n.a.createElement("p",{className:"text"},"Once uploaded this record will store to databases."),n.a.createElement("p",{className:"text mb-2"},"Please type \u2018",y,"\u2019 on the Box to confirm upload file."),n.a.createElement("div",{className:"captcha-box"},n.a.createElement("input",{autocomplete:"off",onKeyUp:e=>{c({e:e,state:1,isCaptcha:_,setIsValidated:f,setIsType:x,isType:w,isValidated:h,submit:s})},id:"t1",type:"text",style:{textTransform:"uppercase"},className:"captcha-input",maxLength:"1",placeholder:_[0]}),n.a.createElement("input",{autocomplete:"off",onKeyUp:e=>{c({e:e,state:2,isCaptcha:_,setIsValidated:f,setIsType:x,isType:w,isValidated:h,submit:s})},id:"t2",type:"text",style:{textTransform:"uppercase"},className:"captcha-input ml-0 mr-0",maxLength:"1",placeholder:_[1]}),n.a.createElement("input",{autocomplete:"off",onKeyUp:e=>{c({e:e,state:3,isCaptcha:_,setIsValidated:f,setIsType:x,isType:w,isValidated:h,submit:s})},id:"t3",type:"text",style:{textTransform:"uppercase"},className:"captcha-input",maxLength:"1",placeholder:_[2]}))),n.a.createElement(o.u,{className:"px-5 pb-5 pt-0 justify-content-start border-none"},n.a.createElement(o.d,{className:"bg-background text no-shadow px-5 mt-4 mb-0 mx-0",onClick:()=>{a(!1)}},"Cancel"),n.a.createElement(o.d,{className:(h?"bg-green":"bg-emptyTextField disabled")+" no-shadow px-5 mt-4 mb-0 ml-3 mr-0",onClick:()=>{s(),f(!1)}},r)," "))))}},586:function(e,t,a){"use strict";var l=a(0),n=a.n(l),o=a(544);a(551);t.a=e=>{let{discard:t,moduleEntry:a,close:l,discardEntry:i,module:s}=e;return n.a.createElement(o.B,{onKeyDown:e=>27===e.keyCode&&l(),className:t?null:"d-none"},n.a.createElement(o.f,{onKeyDown:e=>27===e.keyCode&&l()},n.a.createElement(o.s,{onClose:()=>l(),show:t,size:"lg",closeOnBackdrop:!1},n.a.createElement("div",{className:"d-flex flex-row-reverse pr-3 pt-3 mt-1"},n.a.createElement("i",{onClick:()=>l(),className:"iconU-modalClose"})),n.a.createElement(o.v,{className:"px-5 pb-4 mb-2 pt-4 mt-2 border-none"},n.a.createElement(o.w,{className:"red LatoBold"},"Discard? ",n.a.createElement("span",null,n.a.createElement("i",{className:"em em-astonished"})))),n.a.createElement(o.t,{className:"px-5 pb-5 mb-4 py-0"},n.a.createElement("p",{className:"text mb-3 h5 respon-txt"},"Are you sure you want to discard ",n.a.createElement("span",{className:"green"}," ".concat(null===a||void 0===a?void 0:a.jobPost.list.length," selected SKU ").concat((null===a||void 0===a?void 0:a.jobPost.list.length)>1?"(s)":"")),"from this",n.a.createElement("div",{className:"green h5 pt-2 respon-txt"},s)),n.a.createElement("br",null),n.a.createElement(o.d,{onClick:()=>i(null===a||void 0===a?void 0:a.jobPost.id),className:"bg-background text no-shadow pl-4 pr-5 mr-3 LatoBlack"},"Discard"),n.a.createElement(o.d,{onClick:()=>l(),className:"bg-green no-shadow pl-4 pr-4 LatoBlack"},"Don't Discard")," "))))}},588:function(e,t,a){},589:function(e,t,a){"use strict";var l=a(0),n=a.n(l);t.a=e=>n.a.createElement("div",{className:"display"},e.data)},590:function(e,t,a){"use strict";var l=a(0),n=a.n(l);t.a=e=>n.a.createElement("div",{className:"keypad"},e.children)},591:function(e,t,a){"use strict";var l=a(0),n=a.n(l);t.a=e=>n.a.createElement("div",{className:"button w-100",onClick:e.onClick,"data-size":e.size,"data-value":e.value,"data-twoSpace":e.twoSpace},e.label)},592:function(e,t,a){"use strict";var l=a(0),n=a.n(l),o=a(566),i=a(550);t.a=e=>{let{isEmpty:t,entryListIdx:a,poListIdx:s,uom:c,inputWidth:r,values:d,onChange:m,showTitle:u,title:p,toCompare:v,useCalculator:E,singleView:_}=e;const b="gram"===c||"kg"===c||"KG"===c,[y,g]=Object(l.useState)(),{isMobile:h}=Object(i.c)();return n.a.createElement("div",{style:{position:"relative"},className:" ".concat(r," mb-3 mr-3 ").concat(b?null:"d-none")},n.a.createElement("div",{className:" pb-1 LatoBold ".concat(u?null:"d-none")},p),n.a.createElement("div",{className:"".concat(t?"border-red":"border"," rounded border-soft-green w-100 bg-white d-flex align-items-center input-height px-2 mr-3")},n.a.createElement("input",{readOnly:!(!E||!h),onClick:()=>g(!y),id:"wgt_".concat(s,"_").concat(a),maxLength:"12",autoComplete:"off",type:"text",className:"w-100 plain-input",value:d,name:v?"weightToCompare":"weight",onChange:e=>m(e)}),n.a.createElement("div",{className:"font-soft-grey"},c?"gram"===(null===c||void 0===c?void 0:c.toLowerCase())?"KG":null===c||void 0===c?void 0:c.toUpperCase():"")),n.a.createElement(o.a,{singleView:_,useCalculator:E,className:y?null:"d-none",setShowCalculator:g,showCalculator:y,onChange:e=>m(null,e),name:v?"weightToCompare":"weight",entryListIdx:a,poListIdx:s}))}},593:function(e,t,a){e.exports=a.p+"static/media/trash.121a7b10.png"},595:function(e,t,a){},596:function(e,t,a){"use strict";var l=a(0),n=a.n(l),o=a(566),i=a(550);t.a=e=>{let{isEmpty:t,entryListIdx:a,poListIdx:s,uom:c,inputWidth:r,values:d,onChange:m,showTitle:u,title:p,name:v,useCalculator:E,singleView:_}=e,b="gram"!==c&&"kg"!==c;const[y,g]=Object(l.useState)(),{isMobile:h}=Object(i.c)();return n.a.createElement("div",{style:{position:"relative"},className:" ".concat(r," mb-3 mr-3 ").concat(b?null:"d-none")},n.a.createElement("div",{className:" pb-1 LatoBold ".concat(u?null:"d-none")},p),n.a.createElement("div",{className:"".concat(t?"border-red":"border"," rounded border-soft-green w-100 bg-white d-flex align-items-center input-height px-2 mr-3")},n.a.createElement("input",{readOnly:!(!E||!h),onClick:()=>g(!y),id:"qty_".concat(s,"_").concat(a),maxLength:"10",autoComplete:"off",type:"text",className:"w-100 plain-input",value:d,name:v||"qty",onChange:e=>m(e)}),n.a.createElement("div",{className:"font-soft-grey"},c?c.toUpperCase():"")),n.a.createElement(o.a,{singleView:_,useCalculator:E,className:y?null:"d-none",setShowCalculator:g,showCalculator:y,onChange:e=>m(null,e),name:"qty",entryListIdx:a,poListIdx:s}))}},598:function(e,t,a){"use strict";var l=a(0),n=a.n(l),o=a(544),i=(a(548),a(218));const s=e=>{let{confirmation:t,setIsSaved:a,submit:l,setLocalEntryData:n,moveAll:o}=e;"submit"===t.name?(o&&n(),l(),a()):a()};t.a=e=>{var t,a;let{isSaved:c,moduleName:r,totalSku:d,setIsSaved:m,confirmation:u,setConfirmation:p,submit:v,action:E,moduleEntry:_,complete:b,setLocalEntryData:y,moveAll:g,status:h,updateEntry:f,setUpdateEntry:w}=e;const x={success:{header:"submit"===u.name?"Success ! ":"Saved !",headerIcon:"submit"===u.name?"em em-tada":"em em-camera_with_flash",textColor:"green",date:Object(i.b)({}),sku:d?"".concat(d," ").concat(d>1?"SKU(s)":"SKU"):"",module:r,status:"".concat("submit"===u.name?"Submitted":"Saved"," successfully"),button:"bg-green",buttonText:"Got It !"},failed:{header:"".concat("submit"===u.name?"Submit":"Save"," Failed"),headerIcon:"em em-anguished",textColor:"red",date:Object(i.b)({}),sku:"",module:"Sorry ",status:"item not recorded.",button:"bg-red",buttonText:"Try Again"},updateSuccess:{header:"Updated",headerIcon:"submit"===u.name?"em em-tada":"em em-camera_with_flash",textColor:"green",date:Object(i.b)({}),sku:d?"".concat(d," ").concat(d>1?"SKU(s)":"SKU"):"",module:r,status:" updated successfully.",button:"bg-green",buttonText:"Got It !"},updatedAlready:{header:"Already Updated",headerIcon:"submit"===u.name?"em em-tada":"em em-camera_with_flash",textColor:"green",date:Object(i.b)({}),sku:d?"".concat(d," ").concat(d>1?"SKU(s)":"SKU"):"",module:r,status:" already updated",button:"bg-green",buttonText:"Got It !"}};let I=c?x.success:x.failed;const[k,N]=Object(l.useState)(!1);let C=!0===c||!1===c;!0!==f&&!1!==f||(I=!0===f?x.updateSuccess:!1===f?x.updatedAlready:x.success,f||!1===f?C=!0:"function"===typeof w&&(w(),C=!1));const L=document.getElementById("btn_is_saved");L&&L.focus();const D=k?"iconU-arrowTop":"iconU-arrowBottom",P=c||k?1:0,O=k?"Hide Message":"Show Message",S=()=>{m(),"function"===typeof w&&w()};return n.a.createElement(o.B,{onKeyDown:e=>27===e.keyCode&&m(),className:C?null:"d-none"},n.a.createElement(o.f,null,n.a.createElement(o.s,{className:"".concat(c?null:"popup-saved"),show:C,onClose:()=>{c&&s({confirmation:u,setIsSaved:m,submit:v}),c||m()},size:"lg",style:{minHeight:"280px"},bodyOpenClassName:"p-3",closeOnBackdrop:!1},n.a.createElement("div",{className:"d-flex flex-row-reverse"},n.a.createElement("i",{className:"pr-3 pt-3 iconU-modalClose",onClick:()=>c?s({confirmation:u,setIsSaved:m,submit:v}):S()})),n.a.createElement(o.t,{className:"px-5 mt-3 py-0"},n.a.createElement("label",{className:"".concat(I.textColor," LatoBold mr-2 h5 mb-3")},I.header)," ",n.a.createElement("span",null,n.a.createElement("i",{className:"".concat(I.headerIcon)})),n.a.createElement("div",{className:"mr-1 h5 mb-3"},"Entries ".concat(I.status)),n.a.createElement("div",{className:f?"mb-3 h5":"d-none"},"Please continue your work."),n.a.createElement("div",{onClick:()=>N(!k),className:"d-flex align-items-center mr-1 mb-3 error-message pointer ".concat(c||!0===f||!1===f?"d-none":null)},n.a.createElement("div",{className:"mr-2 ".concat(D)}),n.a.createElement("div",{className:"green"},O)),n.a.createElement("div",{style:{backgroundColor:"#F5F7FA",opacity:P},className:"w-100 border rounded px-3 pt-3 pb-3 mb-3"},n.a.createElement("div",{className:"h5 mb-3 ".concat(c?null:"d-none")},I.date),n.a.createElement("div",{className:"mb-0"},n.a.createElement("label",{className:"mr-1 ".concat(c?null:"d-none")},"".concat((e=>{let{moduleEntry:t,complete:a}=e;if(null===t||void 0===t?void 0:t.jobPost){let e=null;const{areaDestinationName:a,areaName:l}=null===t||void 0===t?void 0:t.jobPost;return e=a?" ".concat(l," reefer ").concat(a," - "):" ".concat(l," - "),e}})({moduleEntry:_,complete:b})," ").concat(I.sku)),n.a.createElement("div",{className:"mr-1 ".concat(c||f?"d-none":null)},n.a.createElement("div",{style:{wordWrap:"break-word !important",opacity:P,height:!k&&0},className:"mr-1 "},"".concat((null===h||void 0===h||null===(t=h.message)||void 0===t?void 0:t.toString())?null===h||void 0===h||null===(a=h.message)||void 0===a?void 0:a.toString():"The transaction cannot be processed. Please update current entries"))))),n.a.createElement("div",{className:"mb-2 h5 ".concat("submit"===u.name||f?"d-none":null)},"Please continue your work"),n.a.createElement("div",{className:"w-100 d-flex "},n.a.createElement(o.d,{onClick:()=>S(),className:"text no-shadow px-5 mr-4 mb-3 ".concat("bg-softGreen ".concat(c?"d-none":null))},"Cancel"),n.a.createElement(o.d,{id:"btn_is_saved",tabIndex:"0",onClick:()=>w(),className:"text-white sku-item no-shadow px-5 mb-3 ".concat(I.button," ").concat(!0===f||!1===f?null:"d-none")},I.buttonText),n.a.createElement(o.d,{id:"btn_is_saved",tabIndex:"0",onClick:()=>c?s({confirmation:u,setIsSaved:m,submit:v,setLocalEntryData:y,moveAll:g}):(e=>{let{setIsSaved:t,setConfirmation:a,action:l,setLocalEntryData:n}=e;t(),a({show:!1,name:l})})({setIsSaved:m,setConfirmation:p,action:E}),className:"text-white sku-item no-shadow px-5 mb-3 ".concat(I.button," ").concat(!0===f||!1===f?"d-none":null)},I.buttonText))))))}},604:function(e,t,a){"use strict";var l=a(0),n=a.n(l);t.a=e=>{let{isEmpty:t,entryListIdx:a,wmsPoSkuInfoId:l,uom:o,inputWidth:i,values:s,onChange:c,showTitle:r,grade:d,title:m,isReadOnly:u,poListIdx:p}=e;return n.a.createElement("div",{className:" ".concat(i," mb-3 mr-3 ").concat("Waste"===d?null:"d-none")},n.a.createElement("div",{className:" pb-1 LatoBold ".concat(r?null:"d-none")},m),n.a.createElement("div",{className:"".concat(t?"border-red":"border"," border rounded border-soft-green w-100 bg-white d-flex align-items-center input-height px-2 mr-3")},n.a.createElement("input",{id:"note_".concat(p,"_").concat(a),readOnly:u,autoComplete:"off",className:"w-100 plain-input",value:s,name:"note",onChange:e=>c(e)}),n.a.createElement("div",{className:"font-soft-grey"},o?o.toUpperCase():"")))}},606:function(e,t,a){"use strict";var l=a(0),n=a.n(l),o=a(218),i=a(544);a(548);let s={header:"Complete All !",headerIcon:"em em-anger",textColor:"red",date:"You are  required to update all entries on the list.",sku:"",module:"",status:"Check several entries left.",button:"bg-green",buttonText:"Check Entries"};const c={header:"Please double check!",headerIcon:"em em-pray",textColor:"red",date:"Some entries are less -20% or exceed 50% the excess percentage.",sku:"",module:"",status:"Please check again. If you\u2019re sure enough, click Submit anyway.",button:"bg-green",buttonText:"Check Entries"},r={header:"Something wrong!",headerIcon:"em em-thinking_face",textColor:"red",date:"Add Weight should not exceed Initial Weight",sku:"",module:"",status:"Please check again and edit the Weight field or Pack field?",button:"bg-green",buttonText:"Check Entries"};var d=a(553);t.a=e=>{var t,a,m,u,p,v,E,_;let b,{isRequired:y,setIsRequired:g,moduleName:h,module:f,totalSku:w,invalidThreshold:x,setInvalidThreshold:I,submit:k,totalEmptyThreshold:N,traceEmptyRow:C}=e,L=s;const D=document.documentElement.clientHeight-400;(!y&&x||y&&x)&&(L=c),"stockTake"!==h&&(b=Object(o.f)(f),b&&(L=r));const P=document.getElementById("btn_is_required");P&&P.focus();const[O,S]=Object(l.useState)({value:0,label:"All Exceed"});return n.a.createElement(i.B,{className:y||x?null:"d-none"},n.a.createElement(i.f,{className:"required"},n.a.createElement(i.s,{show:y||x,onClose:()=>{g(!1),x&&I(!1)},size:"lg",style:{minHeight:"280px"},bodyOpenClassName:"p-3",closeOnBackdrop:!1},n.a.createElement("div",{className:"d-flex flex-row-reverse"},n.a.createElement("i",{className:"pr-3 pt-3 iconU-modalClose",onClick:()=>{g(!1),x&&I(!1)}})),n.a.createElement(i.t,{className:"px-5 mt-3 py-0"},n.a.createElement("div",{className:"d-flex align-items-center mb-5"},n.a.createElement("label",{className:"".concat(null===(t=L)||void 0===t?void 0:t.textColor," LatoBold mr-2 h5")},null===(a=L)||void 0===a?void 0:a.header)," ",n.a.createElement("span",null,n.a.createElement("i",{className:"".concat(null===(m=L)||void 0===m?void 0:m.headerIcon)}))),n.a.createElement("div",{style:{backgroundColor:"#F5F7FA"},className:"w-100 border rounded px-3 pt-4 pb-3 mb-4"},n.a.createElement("div",{className:"h5 mb-3 ".concat(y||x?null:"d-none")},null===(u=L)||void 0===u?void 0:u.date),n.a.createElement("div",{className:"mb-0"},n.a.createElement("label",{className:"mr-1 h5"},"".concat(null===(p=L)||void 0===p?void 0:p.status)))),n.a.createElement("div",{className:"border-all w-100 hide-scrollbar",style:{maxHeight:D,minHeight:D,overflow:"scroll",display:(null===N||void 0===N?void 0:N.length)&&"repack"===h?null:"none"}},n.a.createElement("table",{className:"w-100"},n.a.createElement("tr",{className:"emptyTextField",style:{borderBottom:"1px solid #e4e4e4"}},n.a.createElement("th",{className:"w-50 px-3 py-1"},"SKU List"),n.a.createElement("td",{className:"w-50 px-3 py-1",style:{textAlign:"right"}},n.a.createElement(d.a,{noMarginBottom:!0,zInfinity:!0,show:!0,showTitle:!1,options:[{value:1,label:"Less than -20%"},{value:2,label:"More than 50%"}],onChangeDropdown:e=>S(e),title:"All Exceed",placeholder:"Exceed",moduleName:h,width:"w-100",selectedValue:O}))),n.a.createElement("tbody",{className:"w-100"},null===N||void 0===N||null===(v=N.filter(e=>{const{value:t}=O;return 1===t?e.excess<-20:2===t?e.excess>50:e}))||void 0===v?void 0:v.map(e=>n.a.createElement("tr",{onClick:()=>(e=>{let{setIsRequired:t,traceEmptyRow:a,data:l,invalidThreshold:n,setInvalidThreshold:o}=e;n&&o(!1),t(!1),"function"===typeof a&&a(l)})({setIsRequired:g,traceEmptyRow:C,data:e,invalidThreshold:x,setInvalidThreshold:I}),style:{borderBottom:"1px solid #e4e4e4"},className:"cursor-pointer excess-row py-3"},n.a.createElement("td",{className:"p-3"},e.skuName),n.a.createElement("td",{style:{textAlign:"right"},className:"red p-3"},"".concat(e.excess," %"),n.a.createElement("span",{className:"iconU-arrowRightAfter text"})))))))),n.a.createElement(i.u,{className:"px-5 pb-5 pt-0 w-100 ".concat(x?"justify-content-between":"justify-content-start","  border-none d-flex mt-2")},n.a.createElement("div",null,n.a.createElement(i.d,{id:"btn_is_required",tabIndex:"0",onClick:()=>{g(!1),x&&I(!1)},className:"text-white no-shadow ".concat(null===(E=L)||void 0===E?void 0:E.button)},null===(_=L)||void 0===_?void 0:_.buttonText)),n.a.createElement("div",null,n.a.createElement(i.d,{style:{backgroundColor:"#F5F7FA"},id:"btn_is_required",tabIndex:"0",onClick:()=>{g(!1),x&&I(!1),"function"===typeof k&&k()},className:"text LatoBold no-shadow ".concat(x?null:"d-none"," ")},"Submit anyway"))))))}},611:function(e,t,a){e.exports=a.p+"static/media/refreshIcon.de5bc1ae.svg"},612:function(e,t,a){e.exports=a.p+"static/media/asc.2efa55d2.svg"},613:function(e,t,a){e.exports=a.p+"static/media/desc.9a26f927.svg"},614:function(e,t,a){"use strict";var l=a(0),n=a.n(l),o=a(218),i=a(618);a(616),a(617),a(595);var s=e=>{let{showDate:t,selectDate:a,setShowDate:o}=e;const[s,c]=Object(l.useState)({startDate:new Date,endDate:new Date,key:"selection"}),[r,d]=Object(l.useState)(new Date),[m,u]=Object(l.useState)(),p=m?"text":"bg-green text-white",v=m?"bg-green text-white":"text",E=Object(l.useRef)(null);!function(e){let{wrapperRef:t,showDate:a,setShowDate:n,selectDate:o}=e;Object(l.useEffect)(()=>{function e(e){a&&t.current&&!t.current.contains(e.target)&&(n(!a),o())}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[t,a])}({wrapperRef:E,showDate:t,setShowDate:o,selectDate:a}),Object(l.useEffect)(()=>{c({startDate:new Date,endDate:new Date,key:"selection"}),d(new Date)},[m]);return n.a.createElement("div",{ref:E,style:{width:"350px"},className:" mt-5 position-fixed bg-white border border-soft-green rounded z-100 d-flex flex-column justify-content-center ".concat(t?null:"d-none")},n.a.createElement("div",{className:"d-flex justify-content-between w-100 cursor-pointer p-3"},n.a.createElement("div",{className:" border border-soft-green d-flex rounded justify-content-between w-100 cursor-pointer"},n.a.createElement("span",{onClick:()=>u(!m),className:" ".concat(p," w-50  ").concat(m?"rounded-left":"rounded"," text-center p-2")},"Single Date"),n.a.createElement("span",{onClick:()=>u(!m),className:" ".concat(v," w-50 ").concat(m?"rounded":"rounded-right"," text-center p-2")},"Ranged Date"))),n.a.createElement(i.DateRangePicker,{className:m?null:"d-none",ranges:[s],onChange:e=>(e=>{let{newdate:t,dateRange:a,setDateRange:l}=e,n={...a};n.startDate=t.selection.startDate,n.endDate=t.selection.endDate,l(n)})({newdate:e,dateRange:s,setDateRange:c})}),n.a.createElement(i.Calendar,{className:m?"d-none":null,date:r,onChange:e=>d(e)}),n.a.createElement("div",{className:"d-flex justify-content-between w-100 cursor-pointer p-3"},n.a.createElement("span",{onClick:()=>{t&&(a(m?s:r),o())},className:" bg-green text-white w-100 border border-soft-green rounded text-center p-2"},"Confirm")))},c=a(612),r=a.n(c),d=a(613),m=a.n(d);t.a=e=>{var t;let{moduleEntry:a,moduleName:i,activeSku:c,dispatch:d}=e;const[u,p]=Object(l.useState)(),[v,E]=Object(l.useState)(),[_,b]=Object(l.useState)(),[y,g]=Object(l.useState)();let h;const f=document.documentElement.clientWidth;return h=Object(o.a)({date:v,datePicker:!0}),(null===(t=h)||void 0===t?void 0:t.startDate)&&(h="".concat(h.startDate," - ").concat(h.endDate)),Object(l.useEffect)(()=>{Object(o.h)({moduleEntry:a,moduleName:i,activeSku:c,dispatch:d,sortBy:u})},[u,c]),Object(l.useEffect)(e=>{_||Object(o.d)({moduleEntry:a,moduleName:i,activeSku:c,dispatch:d,date:v})},[v,_,c]),Object(l.useEffect)(e=>{p(),E()},[y,c]),n.a.createElement("div",{className:"w-25 d-flex justify-content-end"},n.a.createElement("div",{style:{height:40},className:"".concat("repack"===i?"d-none":null," border-soft-green border-top border-bottom border-left m-0 rounded-left green h6 d-flex align-items-center justify-content-center px-2 text-nowrap ").concat(f>500&&v?null:"d-none")},h),n.a.createElement("div",{style:{height:40,minWidth:40},className:"".concat(v?"iconU-modalClose red":"iconU-filterDate emptyTextField"," border-soft-green border ").concat(v?"rounded-right":"rounded"," ").concat("repack"===i?"d-none":null," d-flex align-items-center justify-content-center mr-3 cursor-pointer"),onClick:()=>v?g(e=>!e):b(e=>!e)}),n.a.createElement(s,{showDate:_,selectDate:e=>E(e),setShowDate:e=>b(e)}),n.a.createElement("img",{style:{height:40,minWidth:40},src:u?m.a:r.a,onClick:()=>p(!u),className:"p-2 border rounded border-soft-green cursor-pointer"}))}},625:function(e,t,a){"use strict";var l=a(0),n=a.n(l),o=a(44),i=a(566);const s=(e,t,a)=>{e(t&&a?1:0)};t.a=e=>{var t,a,c,r,d,m,u,p,v,E,_,b;let{isEmpty:y,entryListIdx:g,poListIdx:h,uom:f,inputWidth:w,values:x,onChange:I,showTitle:k,placeholder:N,title:C,className:L,useCalculator:D,singleView:P,grade:O,table:S,activeTab:j,activeSku:T,withTooltips:U}=e;const M="gram"!==f&&"kg"!==f,[B,W]=Object(l.useState)(),[A,R]=Object(l.useState)(0);let K=Object(o.d)(e=>{var t,a,l,n,o;return null===(t=e.repackEntryData)||void 0===t||null===(a=t.jobPost)||void 0===a||null===(l=a.list[T])||void 0===l||null===(n=l.poList[h])||void 0===n||null===(o=n.itemList)||void 0===o?void 0:o.filter(e=>null===e||void 0===e?void 0:e.pack)});(null===(t=K)||void 0===t?void 0:t.length)&&(K=K[(null===(a=K)||void 0===a?void 0:a.length)-1]);let q=null===S||void 0===S||null===(c=S.data)||void 0===c||null===(r=c.filter(e=>e.grade===(null===O||void 0===O?void 0:O.label)&&Number(e.slot)===Number(j))[0])||void 0===r?void 0:r.repackTargetRemaining;var z,F;(null===(d=q)||void 0===d?void 0:d.length)&&(null===(m=q)||void 0===m?void 0:m.includes("+"))&&(q=null===(z=q)||void 0===z||null===(F=z.split("+"))||void 0===F?void 0:F.join(""));Object(l.useEffect)(e=>{var t,a,l,n,o;Number(q)>0&&(null===(t=K)||void 0===t?void 0:t.pack)===x&&(null===(a=K)||void 0===a||null===(l=a.grade)||void 0===l?void 0:l.label)===(null===O||void 0===O?void 0:O.label)&&Number(null===(n=K)||void 0===n||null===(o=n.slot)||void 0===o?void 0:o.value)===Number(j)?R(1):R(0)},[Number(q)>0,x,null===(u=K)||void 0===u?void 0:u.pack,null===O||void 0===O?void 0:O.label,Number(j)]);const H=Number(q)>0&&(null===(p=K)||void 0===p?void 0:p.pack)===x&&(null===(v=K)||void 0===v||null===(E=v.grade)||void 0===E?void 0:E.label)===(null===O||void 0===O?void 0:O.label)&&Number(null===(_=K)||void 0===_||null===(b=_.slot)||void 0===b?void 0:b.value)===Number(j);return n.a.createElement("div",{style:{position:"relative"},className:" ".concat(w," mb-3 mr-3 ").concat(L," ").concat(M?null:"d-none")},n.a.createElement("div",{className:" pb-1 LatoBold ".concat(k?null:"d-none")},C),n.a.createElement("div",{className:"".concat(y?"border-red":"border"," rounded relative border-soft-green w-100 bg-white d-flex align-items-center input-height px-2 mr-3")},n.a.createElement("input",{onMouseOver:()=>s(R,H,!0),onMouseLeave:()=>s(R,H),onBlur:()=>s(R,H),onClick:()=>W(!B),id:"pack_".concat(h,"_").concat(g),maxLength:"10",autoComplete:"off",type:"text",className:"w-100 plain-input",value:x,name:"pack",placeholder:N,onChange:e=>I(e)}),n.a.createElement("div",{className:"font-soft-grey"},f),n.a.createElement("div",{className:"popover-style ".concat(U?null:"d-none"),style:{opacity:A,transition:"ease-in-out opacity 0.2s",transitionDuration:.2}},n.a.createElement("div",{className:"popover-content"},"Because Slot ",j," is full, the remaining ",n.a.createElement("span",{className:"green"},q)," pack will go to next slot automatically"))),n.a.createElement(i.a,{singleView:P,useCalculator:D,className:B?null:"d-none",setShowCalculator:W,showCalculator:B,onChange:e=>I(null,e),name:"pack",entryListIdx:g,poListIdx:h}))}},652:function(e,t,a){"use strict";a.d(t,"b",(function(){return d})),a.d(t,"a",(function(){return m})),a.d(t,"c",(function(){return u}));var l=a(14),n=a.n(l),o=a(16),i=a(549),s=a(559),c=a(218),r=a(547);const d=async e=>{var t;let{idx:a,checked:l,dispatch:d,setLocalEntryData:m,moduleName:u,moduleSummary:p,moduleEntry:v,warehouseUuid:E,areaId:_,inputType:b,zeroQuantity:y}=e,g=[...p];g[a].checked=l,d({type:o.c,["".concat(u,"summaryData")]:g,finish:!1});const h=null===g||void 0===g?void 0:g.filter(e=>{if(e.checked)return e});let f=[];v&&v.jobPost.list.map(e=>{const t=(e=>{let{skuUuid:t}=e;return{skuUuid:t}})(e);t.skuUuid&&f.push(t.skuUuid)});let w=[];const x=h.map(async(e,t)=>{if(!f.includes(e.skuUuid)){const t=await Object(s.a)({skuId:e.skuUuid});e.gradeList=t;const a=await Object(i.e)({skuId:e.skuUuid,warehouseUuid:E,dispatch:d,areaId:_.value,moduleName:u,zeroQuantity:y});if(a){const t=e.gradeList.filter(t=>(null===t||void 0===t?void 0:t.value)===e.skuUuid),l=a.map(a=>{a.itemList=[{qty:a.initialWeight,qtyPackSize:"",grade:t[0],qtyUos:"",expiryDate:null===a||void 0===a?void 0:a.expiryDate,expiryDateText:Object(c.a)({date:null===a||void 0===a?void 0:a.expiryDate})}],a.initialWeightUpdate=a.inboundQty-a.initialWeight,a.initialWeightScreenUpdate=parseInt(0);const l=a.expiryDate?n()(a.expiryDate).valueOf():null,o=a.inboundDate?n()(a.inboundDate).valueOf():null;return a.expiryDate=l,a.inboundDate=o,a.skuUuid=e.skuUuid,a.uom=e.unitOfMeassures,a.category=e.category,a.initialWeight=Number.isInteger(a.initialWeight)?parseInt(a.initialWeight):parseFloat(a.initialWeight),a});e.poList=l,w.push(e)}}});await Promise.all(x);d({type:o.g,finish:!0});let I=[];v&&(I=v.jobPost.list.concat(w)),v||(I=w);const k=g[a];k.checked||(I=I.filter(e=>e.skuUuid!==k.skuUuid));const N=null===v||void 0===v||null===(t=v.jobPost)||void 0===t?void 0:t.id,C={jobPost:{id:N||0,inputType:b,warehouseSource:E,warehouseDestination:E,areaSource:parseInt(null===_||void 0===_?void 0:_.value),areaName:null===_||void 0===_?void 0:_.label,areaDestination:parseInt(null===_||void 0===_?void 0:_.value),list:I.sort((function(e,t){return Object(r.g)(e,t)}))}};0===I.length&&d({type:o.b,["".concat(u,"EntryData")]:null}),m(C)},m=async e=>{let{zeroQuantity:t,idx:a,checked:l,dispatch:o,moduleName:r,moduleSummary:d,moduleEntry:m,warehouseUuid:u,areaId:p,preAddHandler:v}=e,E=[...d];E[a].checked=l;const _=null===E||void 0===E?void 0:E.filter(e=>{if(e.checked)return e});let b=[];m&&m.map(e=>{const t=(e=>{let{skuUuid:t}=e;return{skuUuid:t}})(e);t.skuUuid&&b.push(t.skuUuid)});let y=[];const g=_.map(async(e,a)=>{if(!b.includes(e.skuUuid)){const a=await Object(s.a)({skuId:e.skuUuid});e.gradeList=a;const l=await Object(i.e)({skuId:e.skuUuid,warehouseUuid:u,dispatch:o,areaId:p.value,moduleName:r,zeroQuantity:t});if(l){const t=e.gradeList.filter(t=>(null===t||void 0===t?void 0:t.value)===e.skuUuid),a=l.map(a=>{a.itemList=[{qty:a.initialWeight,qtyPackSize:"",grade:t[0],qtyUos:"",expiryDate:null===a||void 0===a?void 0:a.expiryDate,expiryDateText:Object(c.a)({date:null===a||void 0===a?void 0:a.expiryDate})}],a.initialWeightScreenUpdate=parseInt(0),a.initialWeightUpdate=a.inboundQty-a.initialWeight;const l=a.expiryDate?n()(a.expiryDate).valueOf():null,o=a.inboundDate?n()(a.inboundDate).valueOf():null;return a.expiryDate=l,a.inboundDate=o,a.skuUuid=e.skuUuid,a.uom=e.unitOfMeassures,a.category=e.category,a.initialWeight=Object(c.e)(a.initialWeight)?Object(c.e)(a.initialWeight):a.initialWeight,a});e.poList=a,e.isNewItem=!0,y.push(e)}}});await Promise.all(g);let h=[];m&&(h=m.concat(y)),m||(h=y);const f=E[a];f.checked||(h=h.filter(e=>e.skuUuid!==f.skuUuid)),v(h)},u=e=>{let{setActiveSKU:t,moduleEntry:a,moduleName:l,setConfirmation:n,dispatch:i,setIsRequired:s}=e,c=[],d={...a};const m=a.jobPost.list.map(e=>(e.poList.map(e=>(e.itemList.map(t=>{var l;const{qty:n,grade:o,ripeness:i,note:s,qtyPackSize:r}=t;var d,m,u,p,v,E,_,b,y,g,h,f;"Fruits"===e.category?0!=n&&!isNaN(n)||null!==(null===o||void 0===o?void 0:o.value)?"Waste"===(null===t||void 0===t||null===(d=t.grade)||void 0===d?void 0:d.label)||"Semi Waste"===(null===t||void 0===t||null===(m=t.grade)||void 0===m?void 0:m.label)?(isNaN(n)||""===n||null===n?t.qtyIsEmpty=!0:t.qtyIsEmpty=!1,(null===o||void 0===o?void 0:o.value)?t.gradeIsEmpty=!1:t.gradeIsEmpty=!0,"Waste"!==(null===o||void 0===o?void 0:o.label)||s?t.noteIsEmpty=!1:t.noteIsEmpty=!0):(isNaN(n)||""===n||null===n?t.qtyIsEmpty=!0:t.qtyIsEmpty=!1,(null===o||void 0===o?void 0:o.value)?t.gradeIsEmpty=!1:t.gradeIsEmpty=!0,(null===i||void 0===i?void 0:i.value)?t.ripenessIsEmpty=!1:t.ripenessIsEmpty=!0,"Waste"!==(null===o||void 0===o?void 0:o.label)||s?t.noteIsEmpty=!1:t.noteIsEmpty=!0,"uos"!==(null===(u=a.jobPost)||void 0===u?void 0:u.inputType)||"kg"!==(null===t||void 0===t||null===(p=t.grade)||void 0===p||null===(v=p.uom)||void 0===v?void 0:v.toLowerCase())&&"gram"!==(null===t||void 0===t||null===(E=t.grade)||void 0===E||null===(_=E.uom)||void 0===_?void 0:_.toLowerCase())||(isNaN(r)||0==r||""===r||null===r?t.packIsEmpty=!0:t.packIsEmpty=!1)):(t.qtyIsEmpty=!1,t.gradeIsEmpty=!1,t.ripenessIsEmpty=!1,t.noteIsEmpty=!1,t.packIsEmpty=!1):0!=n&&!isNaN(n)||null!==(null===o||void 0===o?void 0:o.value)?(isNaN(n)||""===n||null===n?t.qtyIsEmpty=!0:t.qtyIsEmpty=!1,(null===o||void 0===o?void 0:o.value)?t.gradeIsEmpty=!1:t.gradeIsEmpty=!0,"Waste"!==(null===o||void 0===o?void 0:o.label)||s?t.noteIsEmpty=!1:t.noteIsEmpty=!0,"uos"!==(null===(b=a.jobPost)||void 0===b?void 0:b.inputType)||"kg"!==(null===t||void 0===t||null===(y=t.grade)||void 0===y||null===(g=y.uom)||void 0===g?void 0:g.toLowerCase())&&"gram"!==(null===t||void 0===t||null===(h=t.grade)||void 0===h||null===(f=h.uom)||void 0===f?void 0:f.toLowerCase())||(isNaN(r)||0==r||""===r||null===r?t.packIsEmpty=!0:t.packIsEmpty=!1)):(t.qtyIsEmpty=!1,t.gradeIsEmpty=!1,t.ripenessIsEmpty=!1,t.noteIsEmpty=!1,t.packIsEmpty=!1);return"uos"!==(null===(l=a.jobPost)||void 0===l?void 0:l.inputType)&&(t.packIsEmpty=!1),(null===t||void 0===t?void 0:t.qtyIsEmpty)||(null===t||void 0===t?void 0:t.gradeIsEmpty)||(null===t||void 0===t?void 0:t.ripenessIsEmpty)||(null===t||void 0===t?void 0:t.noteIsEmpty)||(null===t||void 0===t?void 0:t.qtyToCompareIsEmpty)||(null===t||void 0===t?void 0:t.packIsEmpty)?c.push(!1):c.push(!0),t}),e)),e));let u=!1;m.map(e=>{e.poList.map(e=>{e.itemList.map(e=>{(null===e||void 0===e?void 0:e.qty)>=0&&(u=!0)})})}),d.jobPost.list=m,i({type:o.b,["".concat(l,"EntryData")]:d}),!c.includes(!1)&&u?"function"===typeof n&&n({show:!0,name:"submit"}):("function"===typeof n&&n({show:!1,name:null}),"function"===typeof s&&s(!0)),Object(r.b)({setActiveSKU:t,moduleEntry:a,moduleName:l})}},653:function(e,t,a){"use strict";var l=a(0),n=a.n(l),o=(a(616),a(617),a(595),a(618));t.a=e=>{var t,a;let{placeholder:i,inputWidth:s,values:c,text:r,showTitle:d,title:m,isEmpty:u,onChange:p,onClick:v,disabled:E,entryListIdx:_,poListIdx:b}=e;const[y,g]=Object(l.useState)(),h=null===(t=document)||void 0===t?void 0:t.getElementById("date".concat(_).concat(b));let f=document.documentElement.clientWidth,w=null===h||void 0===h?void 0:h.getBoundingClientRect();Object(l.useEffect)(()=>{w=null===h||void 0===h?void 0:h.getBoundingClientRect()},[y]);let x=(null===(a=w)||void 0===a?void 0:a.top)+50,I=!1;if(f>500){var k,N;if((null===(k=w)||void 0===k?void 0:k.bottom)>450)x=(null===(N=w)||void 0===N?void 0:N.top)-320}else{var C,L,D,P;if((null===(C=w)||void 0===C?void 0:C.bottom)>400)I=30,x=(null===(D=w)||void 0===D?void 0:D.top)-200;if((null===(L=w)||void 0===L?void 0:L.bottom)<400)I=30,x=(null===(P=w)||void 0===P?void 0:P.top)+120}const O=Object(l.useRef)(null);return function(e){let{wrapperRef:t,show:a,setShow:n}=e;Object(l.useEffect)(()=>{function e(e){a&&t.current&&!t.current.contains(e.target)&&n(!a)}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[t,a])}({wrapperRef:O,show:y,setShow:g}),n.a.createElement("div",{className:" ".concat(s," mb-3 mr-3 ")},n.a.createElement("div",{className:" pb-1 LatoBold ".concat(d?null:"d-none")},m),n.a.createElement("div",{tabIndex:"0",id:"date".concat(_).concat(b),onClick:()=>g(e=>!e),className:"".concat(u?"border-red":"border"," rounded mb-2 sku-item border-soft-green w-100 w-lg-50 bg-white d-flex align-items-center input-height px-2 mr-3 ").concat("function"===typeof v?"cursor-pointer":null)},n.a.createElement("input",{disabled:E,autoComplete:"off",type:"text",className:"w-100 plain-input ".concat("function"===typeof v?"cursor-pointer":null),value:r}),n.a.createElement("span",{className:"iconU-filterDate emptyTextField"})),n.a.createElement("div",{style:{top:x,right:I,zIndex:9},className:"position-fixed border border-soft-green rounded shadow ".concat(y?null:"d-none"," "),ref:O},n.a.createElement(o.Calendar,{classNames:"p-1",date:c,onChange:e=>{v(e),g(!1)}})))}},939:function(e,t,a){},940:function(e,t,a){}}]);
//# sourceMappingURL=20.5a07f597.chunk.js.map