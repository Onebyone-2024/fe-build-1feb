(this["webpackJsonp@coreui/coreui-pro-react-admin-template"]=this["webpackJsonp@coreui/coreui-pro-react-admin-template"]||[]).push([[21],{1120:function(e,t,a){},1121:function(e,t,a){},1184:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(12),s=a(44),i=a(129),c=a(16),r=(a(1120),a(547)),d=a(218);var m=e=>{let{isNewItem:t,img:a,skuDescription:n,skuNumber:o,activeSku:s,uomValue:i,idx:c,uom:m,onClick:u,data:p}=e;const _=Object(r.l)({data:p}),E=Object(r.c)(p);return l.a.createElement("div",{onKeyDown:e=>Object(d.g)({e:e,idx:c,onClick:u}),className:"w-100 sku-item softGreen pl-2 pr-2 pt-2 mb-3 cursor-pointer rounded ".concat(_?"soft-green":null," ").concat(s===c?"border-green":E?"border-red":"border")},l.a.createElement("div",{className:" w-100 d-flex justify-content-end"},l.a.createElement("div",{className:t?"green-dot":"dot"})),l.a.createElement("div",{onClick:()=>u(),className:"w-100 softGreen d-flex justify-content-between pl-2 pr-2 mb-3 cursor-pointer ".concat(_?"soft-green":null)},l.a.createElement("div",{className:"d-flex align-items-center w-100"},l.a.createElement("div",{className:"d-flex align-items-center"},l.a.createElement("img",{src:a,alt:"sku image",className:"w-5 mr-3 border softGreen rounded"})),l.a.createElement("div",{className:"w-100"},l.a.createElement("div",{className:"mr-3 w-100 d-flex"},l.a.createElement("div",{className:"mr-3 text LatoBold fontSizeTitle"},n)),l.a.createElement("div",{className:"d-flex justify-content-between"},l.a.createElement("div",{className:"text"},o),s,l.a.createElement("div",{className:"green LatoBold"},i," ",l.a.createElement("span",null,"".concat(m?m.toUpperCase():"").concat(i>1?"s":""))))))))},u=a(611),p=a.n(u),_=a(549),E=a(544);var b=e=>{var t,a;let{hideSKUList:o,setActiveSKU:r,activeSku:d,moduleEntry:u,moduleName:b,setUpdateEntry:v}=e;const h=u.jobPost.list.length,y=document.documentElement.clientWidth;let g=document.documentElement.clientHeight;g-=212;const[f,w]=Object(n.useState)(!1),x=Object(s.c)(),C=Object(s.d)(e=>e.thereAreRequest);return l.a.createElement("div",{className:"".concat(o?"w-0":"w-30","  mt-md-0 rounded-bottom rounded-top")},l.a.createElement("div",{style:{padding:17},className:"w-100 bg-white border-top border-left border-right rounded-top border-soft-green text d-flex align-items-center justify-content-between",onClick:()=>y<=500?w(!f):null},l.a.createElement("div",{className:"LatoBold"}," Selected SKU ",l.a.createElement("span",{className:"font-green"},"(".concat(h," SKU").concat(h>1?"s":"",")"))),l.a.createElement("div",{className:"d-flex align-items-center justify-content-between"},l.a.createElement(E.M,{content:"Click to refresh the stock",placement:y<=500?"left":"right"},l.a.createElement("div",null,l.a.createElement("img",{className:"".concat(C>0&&"fa-spin-hover"," mt-1 pointer"),src:p.a,onClick:()=>Object(_.w)({moduleEntry:u,moduleName:b,dispatch:x,setUpdateEntry:v})}))),l.a.createElement(i.b,{to:"/inventory-entry/waste/weight-entry/remove-sku"},l.a.createElement("div",{className:"fontSizeTitle px-3 emptyTextField iconU-remove"})),l.a.createElement(i.b,{to:"/inventory-entry/waste/weight-entry/add-sku"},l.a.createElement("div",{onClick:()=>x({type:c.a,["".concat(b,"AddSku")]:!0}),className:"fontSizeTitle emptyTextField text-bold iconU-entryAdd"})))),l.a.createElement("div",{style:{height:!(y<=500)&&g,maxHeight:g},className:" overflow-y w-100 bg-white mr-0 border rounded-bottom border-soft-green pl-3 pr-0 pt-3 ".concat(f?"d-none":null)},null===u||void 0===u||null===(t=u.jobPost)||void 0===t||null===(a=t.list)||void 0===a?void 0:a.map((e,t)=>l.a.createElement(m,{isNewItem:null===e||void 0===e?void 0:e.isNewItem,data:e,idx:t,activeSku:d,skuDescription:null===e||void 0===e?void 0:e.skuName,skuNumber:null===e||void 0===e?void 0:e.skuNumber,uomLabel:null===e||void 0===e?void 0:e.unitOfMeassures,uomValue:null===e||void 0===e?void 0:e.totalQty,uom:null===e||void 0===e?void 0:e.unitOfMeassures,img:null===e||void 0===e?void 0:e.photo,onClick:()=>r(t)}))))},v=a(593),h=a.n(v),y=a(553),g=a(592),f=a(596),w=a(604),x=a(626);var C=e=>{let{entryListIdx:t,wmsPoSkuInfoId:a,gradeList:n,ripeness:o,inputWidth:s,showTitle:i,item:c,onChange:r,onChangeDropdown:d,uom:m,poListIdx:u,category:p}=e;return l.a.createElement("div",{className:"d-flex w-100 we-m"},l.a.createElement(y.a,{isEmpty:c.wasteTypeIsEmpty,selectedValue:null===c||void 0===c?void 0:c.wasteType,poListIdx:u,entryListIdx:t,wmsPoSkuInfoId:a,uom:m,show:!0,onChangeDropdown:e=>d({selected:e,name:"grade"}),title:"Waste",placeholder:"Select Waste",options:n,width:"w-30",showTitle:i,className:null}),l.a.createElement(f.a,{isEmpty:c.qtyIsEmpty,poListIdx:u,entryListIdx:t,wmsPoSkuInfoId:a,uom:m,ripeness:o,inputWidth:s,values:null===c||void 0===c?void 0:c.qty,showTitle:i,title:"Input Quantity",onChange:e=>r(e)}),l.a.createElement(g.a,{isEmpty:c.qtyIsEmpty,poListIdx:u,entryListIdx:t,wmsPoSkuInfoId:a,uom:m,ripeness:o,inputWidth:s,values:null===c||void 0===c?void 0:c.qty,title:"Input Weight",showTitle:i,onChange:e=>r(e)}),l.a.createElement(w.a,{isEmpty:c.noteIsEmpty,grade:"Waste",poListIdx:u,entryListIdx:t,wmsPoSkuInfoId:a,inputWidth:"w-30",values:null===c||void 0===c?void 0:c.note,showTitle:i,title:"Note",onChange:e=>r(e)}),l.a.createElement(x.a,{isEmpty:c.uploadPhotoIsEmpty,uom:"PACK",inputWidth:"fit-content",values:c.uploadPhoto,onChange:e=>r(e),showTitle:!0,title:"Add Photos"}))};a(1121);var N=e=>{var t;let{inputWidth:a,activeSku:n,poListIdx:o,poItem:i,moduleEntry:m,moduleName:u,gradeList:p}=e;const E=Object(s.c)(),{expiryDate:b,inboundDate:v,initialWeight:y,inboundQty:g,initialWeightUpdate:f,initialWeightScreenUpdate:w,supplierName:x,uom:N,ripeness:I,edited:k,wmsPoSkuCode:O,codeGrade:D,isHidden:P}=i,L=isNaN(w)?y:w,M="kg"===N||"gram"===N?"Weight":"Quantity",U=m.jobPost.list[n].gradeList.filter(e=>(null===e||void 0===e?void 0:e.value)===D);return l.a.createElement("div",{className:"".concat(P?"d-none":null," z-0 d-flex flex-column justify-content-between w-100 mb-3 align-items-center border rounded border-soft-green ").concat(k?"soft-green":null)},l.a.createElement("div",{className:"w-100 border-soft-green mt-3 d-flex align-items-start px-3"},l.a.createElement("div",{className:"d-flex align-items-center LatoBold pr-3"},"".concat(o+1,".")),l.a.createElement("div",{className:"w-100 d-flex justify-content-between align-items-center LatoBold cardheader-m"},l.a.createElement("div",{className:"d-flex align-items-center cardheader-m"},l.a.createElement("div",{className:"d-flex align-items-center mb-3 mr-5"},"Inbound Date",l.a.createElement("span",{className:"ml-2 font-green"},v?Object(d.b)({date:v}):"-"))),l.a.createElement("div",{className:"d-flex align-items-center mb-3"},"Initial ".concat(M),l.a.createElement("span",{className:"ml-2 font-green"}," ".concat(y," ").concat(null===N||void 0===N?void 0:N.toUpperCase()).concat(y>1?"s":""))))),l.a.createElement("div",{className:"w-100 border-soft-green d-flex align-items-start px-3"},l.a.createElement("div",{style:{opacity:0},className:"d-flex align-items-center LatoBold pr-3"},"".concat(o+1,".")),l.a.createElement("div",{className:"w-100 d-flex align-items-center LatoBold cardheader-m"},l.a.createElement("div",{className:"d-flex align-items-center cardheader-m"},l.a.createElement("div",{className:"d-flex align-items-center mb-3 mr-5"},"PO Code",l.a.createElement("span",{className:"ml-2 font-green"}," ".concat(O||"-"))),l.a.createElement("div",{className:"d-flex align-items-center mb-3 mr-5"},"Supplier Name",l.a.createElement("span",{className:"ml-2 font-green"}," ".concat(x)))))),l.a.createElement("div",{className:"w-100 border-bottom border-soft-green mb-3 d-flex align-items-start px-3"},l.a.createElement("div",{style:{opacity:0},className:"d-flex align-items-center LatoBold pr-3"},"".concat(o+1,".")),l.a.createElement("div",{className:"w-100 d-flex align-items-center LatoBold cardheader-m"},l.a.createElement("div",{className:"d-flex align-items-center cardheader-m"},l.a.createElement("div",{className:"d-flex align-items-center mb-3 mr-5"},"Expiry Date",l.a.createElement("span",{className:"ml-2 font-green"},b?Object(d.b)({date:b,noTime:!0}):"-")),l.a.createElement("div",{className:"d-flex align-items-center mb-3 mr-5"},"Grade",l.a.createElement("span",{className:"ml-2 font-green"}," ".concat(U.length?U[0].label:"-"))),l.a.createElement("div",{className:"d-flex align-items-center mb-3 mr-5"},"Inbound Quantity",l.a.createElement("span",{className:"ml-2 font-green"}," ".concat(g||"-")))))),l.a.createElement("div",{className:"d-flex flex-column justify-content-between w-100 align-items-center px-3 z-0"},null===(t=i.itemList)||void 0===t?void 0:t.map((e,t)=>l.a.createElement("div",{className:"d-flex w-100 align-items-center justify-content-between"},l.a.createElement("div",{className:"w-100 d-flex"},l.a.createElement("div",{style:{width:"10px"},className:"input-height d-flex align-items-center mb-3 mr-3 pt-4 mt-2"},"".concat(t+1,".")),l.a.createElement("div",{className:"w-100"},l.a.createElement(C,{entryListIdx:t,wmsPoSkuInfoId:e.wmsPoSkuInfoId,showTitle:!0,gradeList:p,onChange:e=>(async e=>{var t,a;let{dispatch:n,moduleEntry:l,moduleName:o,activeSku:s,poListIdx:i,entryListIdx:d,e:m}=e;const u=null===m||void 0===m||null===(t=m.target)||void 0===t?void 0:t.name;let p=null===m||void 0===m||null===(a=m.target)||void 0===a?void 0:a.value,E={...l};if(E.jobPost.list[s].isNewItem=!1,!u)return E.jobPost.list[s].poList[i].itemList[d].uploadPhoto=null,void n({type:c.b,["".concat(o,"EntryData")]:E});if("upload"===u){const e=await Object(_.o)({e:m,dispatch:n});return E.jobPost.list[s].poList[i].itemList[d].uploadPhoto=e,E.jobPost.list[s].poList[i].itemList[d].uploadPhotoIsEmpty=!1,void n({type:c.b,["".concat(o,"EntryData")]:E})}if("weight"===u||"weightToCompare"===u){let e=/^[0-9\.\x0]+$/;if(console.clear(),!0===e.test(p)&&""!==p){let e=0,t=null===p||void 0===p?void 0:p.split("."),a=t[0];a>=0&&(a=parseInt(a));let n=t[1];if(null!==n&&void 0!==n)if(n.length>2){var b=n.slice(0,2);e="".concat(a,".").concat(b)}else e="".concat(a,".").concat(n);else e=parseInt(a);"weight"===u&&(E.jobPost.list[s].poList[i].itemList[d].qty=e,E.jobPost.list[s].poList[i].itemList[d].qtyIsEmpty=!1),"weightToCompare"===u&&(E.jobPost.list[s].poList[i].itemList[d].qtyToCompare=e,E.jobPost.list[s].poList[i].itemList[d].qtyToCompareIsEmpty=!1)}else"weight"===u&&(E.jobPost.list[s].poList[i].itemList[d].qty=""),"weightToCompare"===u&&(E.jobPost.list[s].poList[i].itemList[d].qtyToCompare="")}else if("qty"===u){if(!1===/^[0-9.]+$/.test(p)&&""!==p)return;E.jobPost.list[s].poList[i].itemList[d].qty=p?parseInt(p):p,E.jobPost.list[s].poList[i].itemList[d].qtyIsEmpty=!1}"note"===u&&(E.jobPost.list[s].poList[i].itemList[d].note=p,E.jobPost.list[s].poList[i].itemList[d].noteIsEmpty=!1);const v=E.jobPost.list[s].poList[i].inboundQty;let h=v;E.jobPost.list[s].poList[i].edited=!1,E.jobPost.list[s].poList[i].minus=!1,E.jobPost.list[s].poList[i].itemList.map(e=>{e.qty&&(E.jobPost.list[s].poList[i].edited=!0),h-=isNaN(e.qty)?0:e.qty,E.jobPost.list[s].poList[i].initialWeightUpdate=h,h<0?(E.jobPost.list[s].poList[i].minus=!1,E.jobPost.list[s].poList[i].initialWeightUpdate=0):E.jobPost.list[s].poList[i].itemList.filter(e=>e.qtyIsEmpty=!1)});let y=E.jobPost.list[s].poList[i].initialWeight;E.jobPost.list[s].poList[i].itemList.map(e=>{y-=isNaN(e.qty)?0:e.qty,E.jobPost.list[s].poList[i].initialWeightScreenUpdate=y});const g=Object(r.z)({moduleList:E.jobPost.list[s].poList[i].itemList});E.jobPost.list[s].poList[i].initialWeightOver=g>v?g:0,n({type:c.b,["".concat(o,"EntryData")]:E})})({dispatch:E,moduleEntry:m,moduleName:u,activeSku:n,poListIdx:o,entryListIdx:t,e:e}),onChangeDropdown:e=>{let{selected:a,name:l}=e;return(e=>{let{dispatch:t,moduleEntry:a,moduleName:n,activeSku:l,poListIdx:o,entryListIdx:s,selected:i,name:r}=e,d={...a};d.jobPost.list[l].isNewItem=!1,"grade"===r&&(d.jobPost.list[l].poList[o].itemList[s].wasteType=i,d.jobPost.list[l].poList[o].edited=!0,d.jobPost.list[l].poList[o].itemList[s].wasteTypeIsEmpty=!1),"ripeness"===r&&(d.jobPost.list[l].poList[o].itemList[s].ripeness=i,d.jobPost.list[l].poList[o].edited=!0,d.jobPost.list[l].poList[o].itemList[s].ripenessIsEmpty=!1),t({type:c.b,["".concat(n,"EntryData")]:d})})({dispatch:E,moduleEntry:m,moduleName:u,activeSku:n,poListIdx:o,entryListIdx:t,selected:a,name:l})},uom:N,ripeness:I,inputWidth:a,item:e,className:I?null:"d-none",poListIdx:o}))),l.a.createElement("div",{className:"d-flex w-10 align-items-center justify-content-end input-height mb-0 p-0"},l.a.createElement("img",{src:h.a,alt:"delete icon",className:"w-1 cursor-pointer",onClick:e=>Object(r.e)({dispatch:E,moduleEntry:m,moduleName:u,activeSku:n,poListIdx:o,entryListIdx:t,e:e,countQty:r.d})}))))),l.a.createElement("div",{className:"w-100 ml-5 pl-4 font-green mb-3 LatoBold cursor-pointer",onClick:()=>(e=>{let{dispatch:t,moduleEntry:a,moduleName:n,activeSku:l,poListIdx:o}=e,s={...a};const i=s.jobPost.list[l].poList[o].codeGrade,r=s.jobPost.list[l].gradeList.filter(e=>(null===e||void 0===e?void 0:e.value)===i),d=s.jobPost.list[l].poList[o].itemList,m=d[(null===d||void 0===d?void 0:d.length)-1],u=m?m.grade:r[0];s.jobPost.list[l].poList[o].itemList.push({qty:"",grade:u,note:"",uploadPhoto:null,wasteType:null}),t({type:c.b,["".concat(n,"EntryData")]:s})})({dispatch:E,moduleEntry:m,moduleName:u,activeSku:n,poListIdx:o})},l.a.createElement("i",{className:"green iconU-entryAdd pr-2"}),"Add ".concat(M," (").concat(Object(d.e)(L)?Object(d.e)(L):L," ").concat(N?N.toUpperCase():"").concat(L>1?"s":""," left)")))},I=a(687),k=a(567),O=a(598),D=a(606),P=a(586),L=a(614),M=a(550);var U=e=>{var t,a;let{setActiveSKU:n,hideSKUList:o,setHideSKUList:i,activeSku:c,moduleEntry:r,moduleName:d,updateEntry:m,setUpdateEntry:u}=e;const p=Object(s.c)(),{dimention:E,height:b,heightAdj:v}=Object(M.d)(),{setIsSuccess:h,confirmation:y,setConfirmation:g,discard:f,setDiscard:w,isSaved:x,setIsSaved:C,action:U,setAction:S,isRequired:T,setIsRequired:B,hideContent:j,setHideContent:W,isLoading:A,skuName:K,skuNumber:R,poList:q,gradeList:F,unitOfMeassures:H,totalWeight:z,edited:G,postInfo:V,status:Q}=Object(M.r)({moduleEntry:r,activeSku:c}),J=E<=500,Y=j?"d-none":null,$=z>1?"s":"",X=G?"bg-green":"bg-lineGrey";return l.a.createElement("div",{style:{paddingLeft:J?0:10},className:"w-100 h-100 mt-3 mt-md-0"},l.a.createElement(P.a,{discard:f,module:"Inventory Entry - Waste",moduleEntry:r,close:()=>w(!1),discardEntry:e=>Object(_.n)({id:e,moduleName:d,dispatch:p})}),l.a.createElement(O.a,{updateEntry:m,setUpdateEntry:u,status:Q,moduleEntry:r,submit:()=>p({type:"CREATE_JOB_SHEET",["".concat(d,"EntryData")]:null,["".concat(d,"SummaryData")]:null}),confirmation:y,setConfirmation:g,isSaved:x,action:U,setIsSaved:C,moduleName:d,totalSku:null===r||void 0===r||null===(t=r.jobPost)||void 0===t?void 0:t.list.length}),l.a.createElement(D.a,{isRequired:T,module:r,setIsRequired:B,moduleName:d,totalSku:null===r||void 0===r||null===(a=r.jobPost)||void 0===a?void 0:a.list.length}),l.a.createElement(k.b,{moduleName:d,isLoading:A,moduleEntry:r,confirmation:y,setConfirmation:g,isSuccess:V,setAction:S,action:U,save:()=>Object(_.p)({name:"save",moduleEntry:r,moduleName:d,dispatch:p,setIsSuccess:h}),submit:()=>Object(_.p)({name:"submit",moduleEntry:r,moduleName:d,dispatch:p,setIsSuccess:h,submitValidation:I.c,setActiveSKU:n})}),l.a.createElement("div",{className:"mb-3 bg-white rounded-bottom rounded-top"},l.a.createElement("div",{style:{height:b},style:{padding:10},className:"w-100 mr-0 d-flex align-items-center border-top border-left border-right border-bottom rounded-top border-soft-green"},l.a.createElement("div",{className:"d-flex w-100 m-0 p-0",onClick:()=>J?W(!j):null},l.a.createElement("div",{className:"".concat(o?"iconU-sideBarHideRight":"iconU-sideBarHideLeft"," emptyTextField fontSizeTitle mr-3 m-0 p-0"),onClick:()=>i(!o)}),l.a.createElement("div",{className:"mr-3 pr-1 d-flex align-items-center m-0 p-0 LatoBold"},"Weight Entry"),l.a.createElement("div",{className:"mr-3 iconU-sideBarDot d-flex align-items-center m-0 p-0"}),l.a.createElement("div",{className:"mr-3 d-flex align-items-center font-green LatoBold m-0 p-0"},"".concat(K," (").concat(R,")"))),l.a.createElement(L.a,{moduleEntry:r,moduleName:d,activeSku:c,dispatch:p})),l.a.createElement("div",{style:{height:J?b:v,minHeight:J?b:v},className:"w-100 overflow-y mr-0 border-left border-right border-soft-green pl-3 pr-2 pt-3 ".concat(Y)},null===q||void 0===q?void 0:q.map((e,t)=>l.a.createElement(N,{gradeList:F,inputWidth:"input-w-100",activeSku:c,poListIdx:t,poItem:e,moduleEntry:r,moduleName:d}))),l.a.createElement("div",{className:"w-100 d-flex align-items-center p-3 border-left border-right border-bottom rounded-bottom LatoBold"},l.a.createElement("button",{type:"button",className:"btn ".concat(X,"  text-white px-5 mr-3 LatoBold"),onClick:()=>G?g({show:!0,name:"save"}):null},"Save"),l.a.createElement("div",null,"Total Weight ",l.a.createElement("span",{className:"font-green"},"".concat(z," ").concat(null===H||void 0===H?void 0:H.toUpperCase()).concat($))))),l.a.createElement("div",{className:"d-flex align-items-center justify-content-end"},l.a.createElement("div",{onClick:()=>w(!0),className:"red pr-3 fontSizeButton cursor-pointer"},l.a.createElement("i",{className:"iconU-entryTrash"})," Discard"),l.a.createElement("button",{onClick:()=>G?Object(I.c)({setActiveSKU:n,moduleEntry:r,moduleName:d,dispatch:p,setConfirmation:g,setIsRequired:B}):null,className:"btn px-5 py-2 text-white ".concat(X," LatoBold no-shadow"),style:{height:"fit-content !important"}},"Submit")))};t.default=()=>{const e=Object(s.d)(e=>e.wasteEntryData),[t,a]=Object(n.useState)(!1),[i,c]=Object(n.useState)(0),[r,d]=Object(n.useState)();let m=document.documentElement.clientHeight,u=document.documentElement.clientWidth,p=m-150;return e&&0!==(null===e||void 0===e?void 0:e.jobPost.list.length)?l.a.createElement("div",{style:{height:u<=500?m:p},className:"w-100 d-md-flex justify-content-between scroll-y z-0"},l.a.createElement(b,{hideSKUList:t,activeSku:i,setActiveSKU:c,moduleName:"waste",moduleEntry:e,setUpdateEntry:d}),l.a.createElement(U,{setActiveSKU:c,setHideSKUList:a,hideSKUList:t,moduleName:"waste",moduleEntry:e,activeSku:i,setUpdateEntry:d,updateEntry:r})):l.a.createElement("div",{className:"d-flex align-items-center justify-content-center text-center w-100 h-screen"},l.a.createElement(o.a,{to:"/inventory-entry/waste"},"Please Select At Least 1 SKU"))}},548:function(e,t,a){},551:function(e,t,a){},553:function(e,t,a){"use strict";var n=a(0),l=a.n(n),o=a(587);t.a=e=>{var t,a;let{isEmpty:s,title:i,placeholder:c,options:r,selectedValue:d,showTitle:m,width:u,className:p,entryListIdx:_,onChangeDropdown:E,show:b,poListIdx:v,isDisabled:h,style:y,noMarginBottom:g,resetName:f,isMulti:w,hideResetOpt:x,zInfinity:C}=e;const[N,I]=Object(n.useState)();Object(n.useEffect)(()=>{"empty"===d&&I(!0)},[d,s]);const k=!!s&&(e=>({...e,border:"solid #eb5c5c 1px",":hover":{border:"solid #eb5c5c 1px !important"},":active":{border:"solid #eb5c5c 1px !important"}})),O=null===(t=document)||void 0===t?void 0:t.getElementById("dropdown".concat(_).concat(v));let D=null===O||void 0===O?void 0:O.getBoundingClientRect();Object(n.useEffect)(()=>{D=null===O||void 0===O?void 0:O.getBoundingClientRect()},[N]);const P=document.documentElement.clientWidth;let L=[{label:"-".concat(f||i,"-"),value:null}];r&&(L=[...L,...r]),x&&(L=L.filter(e=>null===e||void 0===e?void 0:e.value));let M=(null===(a=D)||void 0===a?void 0:a.bottom)>600?"top":"bottom";var U;P<=500&&(M=(null===(U=D)||void 0===U?void 0:U.bottom)>400?"top":"bottom","Categories"===i&&(M="top"));return l.a.createElement("div",{style:y,className:"mr-0 ".concat(y?null:"mr-lg-3"," ").concat(g?null:"mb-3"," ").concat(u," ").concat(p," ").concat(b?null:"d-none")},l.a.createElement("div",{className:" pb-1 LatoBold ".concat(m?null:"d-none")},i),l.a.createElement(o.a,{inputId:"".concat(i,"_").concat(v,"_").concat(_),isMulti:w,isSearchable:!(P<500),isDisabled:h||!1,id:"dropdown".concat(_).concat(v),value:((null===d||void 0===d?void 0:d.value)||!!(null===d||void 0===d?void 0:d.length))&&d,menuIsOpen:N,menuPortal:!0,placeholder:f||c,options:L,onMenuOpen:()=>I(!0),onMenuClose:()=>I(!1),onChange:e=>{E(e),I(!1)},menuPortalTarget:document.body,maxMenuHeight:150,menuPlacement:"".concat(M),styles:{menuPortal:e=>({...e,zIndex:C?1e16:9999}),control:k,option:(e,t)=>{let{isFocused:a,isSelected:n}=t;return{...e,backgroundColor:n?"rgb(242, 250, 246, 0)":a?"rgb(242, 250, 246)":null,color:n?"black":"#969696",cursor:"pointer",fontWeight:n?"bold":null,":active":{backgroundColor:"rgb(242, 250, 246) !important",color:"#4abe84"},":hover":{color:n?null:"#4abe84"}}}},theme:e=>({...e,borderRadius:4})}))}},566:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_index_scss__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(588),_index_scss__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_1__),_Display__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(589),_Keypad__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(590),_Button__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(591),Page_StockEntry_GeneralServices__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(550);const Calculator=props=>{var _position,_position2,_position3;const[data,setData]=Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(""),wrapperRef=Object(react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),calculate=onChange=>{try{const result=eval(data),value={value:null===result||void 0===result?void 0:result.toString(),name:props.name};onChange(value)}catch(e){console.log(e),setData("")}};Object(Page_StockEntry_GeneralServices__WEBPACK_IMPORTED_MODULE_5__.e)({wrapperRef:wrapperRef,setShow:props.setShowCalculator,show:props.showCalculator});const{isMobile:isMobile}=Object(Page_StockEntry_GeneralServices__WEBPACK_IMPORTED_MODULE_5__.c)();let elem=null,position=null===elem||void 0===elem?void 0:elem.getBoundingClientRect(),menuOnTop=(null===(_position=position)||void 0===_position?void 0:_position.bottom)>600;isMobile&&(menuOnTop=(null===(_position2=position)||void 0===_position2?void 0:_position2.bottom)>400),console.log(elem),Object(react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{position=null===elem||void 0===elem?void 0:elem.getBoundingClientRect()},[props.showCalculator]);const top=(null===(_position3=position)||void 0===_position3?void 0:_position3.top)-(menuOnTop?isMobile?400:320:-60),handleClick=e=>{const t=e.target.getAttribute("data-value");switch(t){case"clear":const e=null===data||void 0===data?void 0:data.substring(0,(null===data||void 0===data?void 0:data.length)-1);console.log(e),setData(e);break;case"clearall":props.onChange({value:"",name:props.name}),setData("");break;case"equal":calculate(props.onChange),props.setShowCalculator();break;default:setData(data+t)}};return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"".concat(props.useCalculator?null:"d-none"," calculator ").concat(props.className," "),ref:wrapperRef,style:{top:top,left:!!isMobile&&0}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Display__WEBPACK_IMPORTED_MODULE_2__.a,{data:data,setData:setData}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Keypad__WEBPACK_IMPORTED_MODULE_3__.a,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("table",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td",{style:{backgroundColor:"rgba(168, 177, 190, 1)",color:"white"}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_4__.a,{onClick:handleClick,label:"x",value:"*"})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td",{style:{backgroundColor:"rgba(168, 177, 190, 1)",color:"white"}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_4__.a,{onClick:handleClick,label:"/",value:"/"})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td",{style:{backgroundColor:"rgba(168, 177, 190, 1)",color:"white"}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_4__.a,{onClick:handleClick,label:"+",value:"+"})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td",{style:{backgroundColor:"rgba(168, 177, 190, 1)",color:"white"}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_4__.a,{onClick:handleClick,label:"-",value:"-"}))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_4__.a,{onClick:handleClick,label:"7",value:"7"})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_4__.a,{onClick:handleClick,label:"8",value:"8"})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_4__.a,{onClick:handleClick,label:"9",value:"9"})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td",{style:{backgroundColor:"rgba(74, 190, 132, 1)",color:"white"}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_4__.a,{onClick:handleClick,label:"<",value:"clear"}))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_4__.a,{onClick:handleClick,label:"4",value:"4"})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_4__.a,{onClick:handleClick,label:"5",value:"5"})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_4__.a,{onClick:handleClick,label:"6",value:"6"})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td",{style:{backgroundColor:"rgba(74, 190, 132, 1)",color:"white"}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_4__.a,{onClick:handleClick,label:"C",value:"clearall"}))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_4__.a,{onClick:handleClick,label:"1",value:"1"})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_4__.a,{onClick:handleClick,label:"2",value:"2"})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_4__.a,{onClick:handleClick,label:"3",value:"3"})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td",{style:{backgroundColor:"rgba(74, 190, 132, 1)",color:"white"},rowSpan:2},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_4__.a,{onClick:handleClick,label:"=",value:"equal"}))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td",{colSpan:2},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_4__.a,{onClick:handleClick,label:"0",value:"0",twoSpace:!0})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_4__.a,{onClick:handleClick,label:".",value:"."}))))))};__webpack_exports__.a=Calculator},567:function(e,t,a){"use strict";a.d(t,"b",(function(){return d})),a.d(t,"a",(function(){return m}));var n=a(0),l=a.n(n),o=a(544),s=(a(551),a(44)),i=a(597);const c=e=>{let{e:t,state:a,isCaptcha:n,setIsValidated:l,setIsType:o,isType:s,isValidated:i,submit:c}=e;const r=t.key;let d=[...s];if("Enter"===r){if(!i)return;c()}if(["ArrowUp","ArrowDown","Tab","Delete"].includes(r))return 0;if("Backspace"===r){let e=[...s];""==e[a]&&1!==a&&(document.getElementById("t"+(parseInt(a)-1)).focus(),document.getElementById("t"+(parseInt(a)-1)).value="",e[a-1]="",d[a-1]="")}else if("ArrowLeft"===r){if(1!==a)return document.getElementById("t"+(parseInt(a)-1)).focus(),document.getElementById("t"+(parseInt(a)-1)).setSelectionRange(-1,-1),0}else if("ArrowRight"===r){if(3!==a)return document.getElementById("t"+(parseInt(a)+1)).focus(),document.getElementById("t"+(parseInt(a)+1)).setSelectionRange(-1,-1),0}else 3!==a&&document.getElementById("t"+(parseInt(a)+1)).focus();d[a]="Backspace"===r?"":r.toUpperCase();if(!"QWERTYUIOPLKJHGFDSAZXCVBNM1234567890".split("").includes(r.toUpperCase())&&""!=d[a])return 0;document.getElementById("t"+parseInt(a)).value=d[a],o(d);let m=!0;n.map((e,t)=>{d[t+1]!=n[t]&&(m=!1)}),l(m)};var r=a(547);const d=e=>{var t,a,s;let{moduleEntry:c,confirmation:d,setConfirmation:m,save:u,submit:p,isSuccess:_,isLoading:E,moveAll:b,setAction:v,moduleName:h,noSkuChecking:y,singleViewData:g}=e;const f=document.documentElement.clientHeight-300;let w="Submit";"save"===d.name&&(w="Save"),Object(n.useEffect)(()=>{_&&m({show:!1,name:null})},[_]),window.onkeydown=e=>27===e.keyCode?m({show:!1,name:null}):null,Object(n.useEffect)(()=>{v(d.name)},[d]);let x=g&&!b?g:c;const C=null===x||void 0===x||null===(t=x.jobPost)||void 0===t?void 0:t.areaDestinationName,N=null===x||void 0===x||null===(a=x.jobPost)||void 0===a?void 0:a.warehouseDestinationName,I=null===x||void 0===x||null===(s=x.jobPost)||void 0===s?void 0:s.areaName,k=((e,t,a)=>{if(null===e||void 0===e?void 0:e.length){let n=[];e.map(e=>{e.poList.map(l=>{l.itemList.map(l=>{var o,s,c,r,d,m;const{qty:u,grade:p}=l,_=Object(i.a)(u)?parseInt(u):u?parseFloat(u):0,E=t?e.skuName:"waste"===a?(null===(o=l.wasteType)||void 0===o?void 0:o.label)?null===(s=l.wasteType)||void 0===s?void 0:s.label:e.skuName:null===p||void 0===p?void 0:p.label,b="waste"===a?"Semi Waste"===(null===(c=l.wasteType)||void 0===c?void 0:c.label)||"Waste"===(null===(r=l.wasteType)||void 0===r?void 0:r.label):"Waste"===(null===p||void 0===p?void 0:p.label)||"Semi Waste"===(null===p||void 0===p?void 0:p.label),v=t?e.unitOfMeassures:"gram"===(null===p||void 0===p?void 0:p.uom)?"kg":null===p||void 0===p?void 0:p.uom;let h={sku:E,qty:_,uom:v,wqty:0,swqty:0};b&&(h.qty=0,h.sku=e.skuName),("waste"===a?"Waste"===(null===(d=l.wasteType)||void 0===d?void 0:d.label):"Waste"===(null===p||void 0===p?void 0:p.label))&&(h.wqty=_),("waste"===a?"Semi Waste"===(null===(m=l.wasteType)||void 0===m?void 0:m.label):"Semi Waste"===(null===p||void 0===p?void 0:p.label))&&(h.swqty=_);const y=n.findIndex(t=>(null===t||void 0===t?void 0:t.sku)===(b?e.skuName:E));var g,f;("waste"!==a&&(-1===y&&n.push(h),-1!==y&&(b||(n[y].qty+=_),"Semi Waste"===(null===p||void 0===p?void 0:p.label)&&(n[y].swqty+=_),"Waste"===(null===p||void 0===p?void 0:p.label)&&(n[y].wqty+=_))),"waste"===a)&&(-1===y&&n.push(h),-1!==y&&(b||(n[y].qty+=_),"Semi Waste"===(null===(g=l.wasteType)||void 0===g?void 0:g.label)&&(n[y].swqty+=_),"Waste"===(null===(f=l.wasteType)||void 0===f?void 0:f.label)&&(n[y].wqty+=_)))})})});const l=e.length?e[0].skuName:"No SKU",o=n.findIndex(e=>e.sku===l);return n.forEach(e=>{-1!==o&&("Waste"===e.sku&&(n[o].wqty=e.qty),"Semi Waste"===e.sku&&(n[o].swqty=e.qty))}),n}})(null===x||void 0===x?void 0:x.jobPost.list,y,h);return l.a.createElement(o.B,{className:"modalConfirmation "+(d.show?null:"d-none")},l.a.createElement(o.f,null,l.a.createElement(o.s,{show:d.show,closeOnBackdrop:!1},l.a.createElement(o.v,{className:"px-4 pt-5 border-none"},l.a.createElement(o.w,{className:"text LatoBold"},"Confirmation"," ",l.a.createElement("span",null,l.a.createElement("i",{className:"em em-pray"}))),l.a.createElement("label",{tabIndex:"0",onKeyDown:e=>13===e.keyCode&&m({show:!1,name:null}),onClick:()=>m({show:!1,name:null}),className:"sku-item iconU-modalClose"})),l.a.createElement(o.t,{className:"px-4 py-0",style:{minHeight:f}},l.a.createElement("p",{className:"text mb-2"},l.a.createElement("span",null,"Are you sure want to ".concat("Waste"==I?"update":"send"," this Item ")),l.a.createElement("span",{className:" ".concat(C?null:"d-none")}," from"),l.a.createElement("span",{className:"green ".concat(C?null:"d-none")}," ".concat(I," ")),l.a.createElement("span",null,"outbound"==h?"from":"repack"===h?"":"to"," "),l.a.createElement("span",{className:"green ".concat("repack"!==h?null:"d-none")}," ".concat("stockTransfer"===h?N:C||I," "))),l.a.createElement("p",{className:"text"},"Please double check this list, this record will store to database."),l.a.createElement("div",{style:{minHeight:f,maxHeight:f,overflow:"auto",border:"1px solid var(--lineGrey)"}},l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",{style:{borderBottom:"1px solid var(--lineGrey)"}},l.a.createElement("th",{style:{color:"var(--emptyTextField)"}},"SKU List"),l.a.createElement("th",{style:{textAlign:"right",color:"var(--emptyTextField)"}},"Weight"),l.a.createElement("th",{style:{textAlign:"right",color:"var(--emptyTextField)"}},"Semi Waste"),l.a.createElement("th",{style:{textAlign:"right",color:"var(--emptyTextField)"}},"Waste"))),l.a.createElement("tbody",null,null===k||void 0===k?void 0:k.map(e=>l.a.createElement("tr",{style:{borderBottom:"1px solid var(--lineGrey)"}},l.a.createElement("td",{style:{maxWidth:"160px"}},e.sku),l.a.createElement("td",{className:"text-right py-3",style:{textAlign:"right"}},"".concat(Object(r.B)(null===e||void 0===e?void 0:e.qty))),l.a.createElement("td",{className:"text-right text-nowrap",style:{textAlign:"right"}},l.a.createElement("span",{className:"text-nowrap"},"".concat(Object(r.B)(null===e||void 0===e?void 0:e.swqty)," "))),l.a.createElement("td",{className:"text-right",style:{textAlign:"right"}},"".concat(Object(r.B)(null===e||void 0===e?void 0:e.wqty)))))))),l.a.createElement("div",{className:"px-0 pb-5 pt-0 justify-content-start border-none"},l.a.createElement(o.d,{tabIndex:"0",onKeyDown:e=>13===e.keyCode&&m({show:!1,name:null}),className:"bg-background sku-item text no-shadow px-5 mt-4 mb-0 mx-0",onClick:()=>m({show:!1,name:null})},"Cancel"),l.a.createElement(o.d,{tabIndex:"0",onKeyDown:e=>13===e.keyCode&&(E?null:"save"===d.name?u():p()),className:"".concat(E?"bg-softGreen text":"bg-green text-white"," no-shadow px-5 mt-4 sku-item mb-0 ml-3 mr-0"),onClick:()=>E?null:"save"===d.name?u():p()},E?"Processing...":w)," ")))))},m=e=>{let{show:t=!1,setIsShowModal:a,submit:i,submitText:r="Submit"}=e;for(var d="",m="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",u=m.length,p=[],_=0;_<3;_++){let e=m.charAt(Math.floor(Math.random()*u));d+=e,p.push(e)}const E=Object(s.d)(e=>e.csvFileName),[b,v]=l.a.useState(p),[h,y]=l.a.useState(d),[g,f]=l.a.useState(!1),[w,x]=l.a.useState([]);return Object(n.useEffect)(()=>{!0===t&&(document.getElementById("t1").value="",document.getElementById("t2").value="",document.getElementById("t3").value="")},[t]),l.a.createElement(o.B,{className:t?null:"d-none"},l.a.createElement(o.f,null,l.a.createElement(o.s,{show:t,onClose:()=>{a(!1)},size:"lg",style:{height:"400px"}},l.a.createElement(o.v,{className:"px-5 pt-5 border-none"},l.a.createElement(o.w,{className:"text LatoBold"},"Confirmation")),l.a.createElement(o.t,{className:"px-5 py-0"},l.a.createElement("p",{className:"text mb-2"},"Are you sure want to upload ",l.a.createElement("span",{className:"green"},"Edited")," ",E,"?"),l.a.createElement("p",{className:"text"},"Once uploaded this record will store to databases."),l.a.createElement("p",{className:"text mb-2"},"Please type \u2018",h,"\u2019 on the Box to confirm upload file."),l.a.createElement("div",{className:"captcha-box"},l.a.createElement("input",{autocomplete:"off",onKeyUp:e=>{c({e:e,state:1,isCaptcha:b,setIsValidated:f,setIsType:x,isType:w,isValidated:g,submit:i})},id:"t1",type:"text",style:{textTransform:"uppercase"},className:"captcha-input",maxLength:"1",placeholder:b[0]}),l.a.createElement("input",{autocomplete:"off",onKeyUp:e=>{c({e:e,state:2,isCaptcha:b,setIsValidated:f,setIsType:x,isType:w,isValidated:g,submit:i})},id:"t2",type:"text",style:{textTransform:"uppercase"},className:"captcha-input ml-0 mr-0",maxLength:"1",placeholder:b[1]}),l.a.createElement("input",{autocomplete:"off",onKeyUp:e=>{c({e:e,state:3,isCaptcha:b,setIsValidated:f,setIsType:x,isType:w,isValidated:g,submit:i})},id:"t3",type:"text",style:{textTransform:"uppercase"},className:"captcha-input",maxLength:"1",placeholder:b[2]}))),l.a.createElement(o.u,{className:"px-5 pb-5 pt-0 justify-content-start border-none"},l.a.createElement(o.d,{className:"bg-background text no-shadow px-5 mt-4 mb-0 mx-0",onClick:()=>{a(!1)}},"Cancel"),l.a.createElement(o.d,{className:(g?"bg-green":"bg-emptyTextField disabled")+" no-shadow px-5 mt-4 mb-0 ml-3 mr-0",onClick:()=>{i(),f(!1)}},r)," "))))}},586:function(e,t,a){"use strict";var n=a(0),l=a.n(n),o=a(544);a(551);t.a=e=>{let{discard:t,moduleEntry:a,close:n,discardEntry:s,module:i}=e;return l.a.createElement(o.B,{onKeyDown:e=>27===e.keyCode&&n(),className:t?null:"d-none"},l.a.createElement(o.f,{onKeyDown:e=>27===e.keyCode&&n()},l.a.createElement(o.s,{onClose:()=>n(),show:t,size:"lg",closeOnBackdrop:!1},l.a.createElement("div",{className:"d-flex flex-row-reverse pr-3 pt-3 mt-1"},l.a.createElement("i",{onClick:()=>n(),className:"iconU-modalClose"})),l.a.createElement(o.v,{className:"px-5 pb-4 mb-2 pt-4 mt-2 border-none"},l.a.createElement(o.w,{className:"red LatoBold"},"Discard? ",l.a.createElement("span",null,l.a.createElement("i",{className:"em em-astonished"})))),l.a.createElement(o.t,{className:"px-5 pb-5 mb-4 py-0"},l.a.createElement("p",{className:"text mb-3 h5 respon-txt"},"Are you sure you want to discard ",l.a.createElement("span",{className:"green"}," ".concat(null===a||void 0===a?void 0:a.jobPost.list.length," selected SKU ").concat((null===a||void 0===a?void 0:a.jobPost.list.length)>1?"(s)":"")),"from this",l.a.createElement("div",{className:"green h5 pt-2 respon-txt"},i)),l.a.createElement("br",null),l.a.createElement(o.d,{onClick:()=>s(null===a||void 0===a?void 0:a.jobPost.id),className:"bg-background text no-shadow pl-4 pr-5 mr-3 LatoBlack"},"Discard"),l.a.createElement(o.d,{onClick:()=>n(),className:"bg-green no-shadow pl-4 pr-4 LatoBlack"},"Don't Discard")," "))))}},588:function(e,t,a){},589:function(e,t,a){"use strict";var n=a(0),l=a.n(n);t.a=e=>l.a.createElement("div",{className:"display"},e.data)},590:function(e,t,a){"use strict";var n=a(0),l=a.n(n);t.a=e=>l.a.createElement("div",{className:"keypad"},e.children)},591:function(e,t,a){"use strict";var n=a(0),l=a.n(n);t.a=e=>l.a.createElement("div",{className:"button w-100",onClick:e.onClick,"data-size":e.size,"data-value":e.value,"data-twoSpace":e.twoSpace},e.label)},592:function(e,t,a){"use strict";var n=a(0),l=a.n(n),o=a(566),s=a(550);t.a=e=>{let{isEmpty:t,entryListIdx:a,poListIdx:i,uom:c,inputWidth:r,values:d,onChange:m,showTitle:u,title:p,toCompare:_,useCalculator:E,singleView:b}=e;const v="gram"===c||"kg"===c||"KG"===c,[h,y]=Object(n.useState)(),{isMobile:g}=Object(s.c)();return l.a.createElement("div",{style:{position:"relative"},className:" ".concat(r," mb-3 mr-3 ").concat(v?null:"d-none")},l.a.createElement("div",{className:" pb-1 LatoBold ".concat(u?null:"d-none")},p),l.a.createElement("div",{className:"".concat(t?"border-red":"border"," rounded border-soft-green w-100 bg-white d-flex align-items-center input-height px-2 mr-3")},l.a.createElement("input",{readOnly:!(!E||!g),onClick:()=>y(!h),id:"wgt_".concat(i,"_").concat(a),maxLength:"12",autoComplete:"off",type:"text",className:"w-100 plain-input",value:d,name:_?"weightToCompare":"weight",onChange:e=>m(e)}),l.a.createElement("div",{className:"font-soft-grey"},c?"gram"===(null===c||void 0===c?void 0:c.toLowerCase())?"KG":null===c||void 0===c?void 0:c.toUpperCase():"")),l.a.createElement(o.a,{singleView:b,useCalculator:E,className:h?null:"d-none",setShowCalculator:y,showCalculator:h,onChange:e=>m(null,e),name:_?"weightToCompare":"weight",entryListIdx:a,poListIdx:i}))}},593:function(e,t,a){e.exports=a.p+"static/media/trash.121a7b10.png"},595:function(e,t,a){},596:function(e,t,a){"use strict";var n=a(0),l=a.n(n),o=a(566),s=a(550);t.a=e=>{let{isEmpty:t,entryListIdx:a,poListIdx:i,uom:c,inputWidth:r,values:d,onChange:m,showTitle:u,title:p,name:_,useCalculator:E,singleView:b}=e,v="gram"!==c&&"kg"!==c;const[h,y]=Object(n.useState)(),{isMobile:g}=Object(s.c)();return l.a.createElement("div",{style:{position:"relative"},className:" ".concat(r," mb-3 mr-3 ").concat(v?null:"d-none")},l.a.createElement("div",{className:" pb-1 LatoBold ".concat(u?null:"d-none")},p),l.a.createElement("div",{className:"".concat(t?"border-red":"border"," rounded border-soft-green w-100 bg-white d-flex align-items-center input-height px-2 mr-3")},l.a.createElement("input",{readOnly:!(!E||!g),onClick:()=>y(!h),id:"qty_".concat(i,"_").concat(a),maxLength:"10",autoComplete:"off",type:"text",className:"w-100 plain-input",value:d,name:_||"qty",onChange:e=>m(e)}),l.a.createElement("div",{className:"font-soft-grey"},c?c.toUpperCase():"")),l.a.createElement(o.a,{singleView:b,useCalculator:E,className:h?null:"d-none",setShowCalculator:y,showCalculator:h,onChange:e=>m(null,e),name:"qty",entryListIdx:a,poListIdx:i}))}},598:function(e,t,a){"use strict";var n=a(0),l=a.n(n),o=a(544),s=(a(548),a(218));const i=e=>{let{confirmation:t,setIsSaved:a,submit:n,setLocalEntryData:l,moveAll:o}=e;"submit"===t.name?(o&&l(),n(),a()):a()};t.a=e=>{var t,a;let{isSaved:c,moduleName:r,totalSku:d,setIsSaved:m,confirmation:u,setConfirmation:p,submit:_,action:E,moduleEntry:b,complete:v,setLocalEntryData:h,moveAll:y,status:g,updateEntry:f,setUpdateEntry:w}=e;const x={success:{header:"submit"===u.name?"Success ! ":"Saved !",headerIcon:"submit"===u.name?"em em-tada":"em em-camera_with_flash",textColor:"green",date:Object(s.b)({}),sku:d?"".concat(d," ").concat(d>1?"SKU(s)":"SKU"):"",module:r,status:"".concat("submit"===u.name?"Submitted":"Saved"," successfully"),button:"bg-green",buttonText:"Got It !"},failed:{header:"".concat("submit"===u.name?"Submit":"Save"," Failed"),headerIcon:"em em-anguished",textColor:"red",date:Object(s.b)({}),sku:"",module:"Sorry ",status:"item not recorded.",button:"bg-red",buttonText:"Try Again"},updateSuccess:{header:"Updated",headerIcon:"submit"===u.name?"em em-tada":"em em-camera_with_flash",textColor:"green",date:Object(s.b)({}),sku:d?"".concat(d," ").concat(d>1?"SKU(s)":"SKU"):"",module:r,status:" updated successfully.",button:"bg-green",buttonText:"Got It !"},updatedAlready:{header:"Already Updated",headerIcon:"submit"===u.name?"em em-tada":"em em-camera_with_flash",textColor:"green",date:Object(s.b)({}),sku:d?"".concat(d," ").concat(d>1?"SKU(s)":"SKU"):"",module:r,status:" already updated",button:"bg-green",buttonText:"Got It !"}};let C=c?x.success:x.failed;const[N,I]=Object(n.useState)(!1);let k=!0===c||!1===c;!0!==f&&!1!==f||(C=!0===f?x.updateSuccess:!1===f?x.updatedAlready:x.success,f||!1===f?k=!0:"function"===typeof w&&(w(),k=!1));const O=document.getElementById("btn_is_saved");O&&O.focus();const D=N?"iconU-arrowTop":"iconU-arrowBottom",P=c||N?1:0,L=N?"Hide Message":"Show Message",M=()=>{m(),"function"===typeof w&&w()};return l.a.createElement(o.B,{onKeyDown:e=>27===e.keyCode&&m(),className:k?null:"d-none"},l.a.createElement(o.f,null,l.a.createElement(o.s,{className:"".concat(c?null:"popup-saved"),show:k,onClose:()=>{c&&i({confirmation:u,setIsSaved:m,submit:_}),c||m()},size:"lg",style:{minHeight:"280px"},bodyOpenClassName:"p-3",closeOnBackdrop:!1},l.a.createElement("div",{className:"d-flex flex-row-reverse"},l.a.createElement("i",{className:"pr-3 pt-3 iconU-modalClose",onClick:()=>c?i({confirmation:u,setIsSaved:m,submit:_}):M()})),l.a.createElement(o.t,{className:"px-5 mt-3 py-0"},l.a.createElement("label",{className:"".concat(C.textColor," LatoBold mr-2 h5 mb-3")},C.header)," ",l.a.createElement("span",null,l.a.createElement("i",{className:"".concat(C.headerIcon)})),l.a.createElement("div",{className:"mr-1 h5 mb-3"},"Entries ".concat(C.status)),l.a.createElement("div",{className:f?"mb-3 h5":"d-none"},"Please continue your work."),l.a.createElement("div",{onClick:()=>I(!N),className:"d-flex align-items-center mr-1 mb-3 error-message pointer ".concat(c||!0===f||!1===f?"d-none":null)},l.a.createElement("div",{className:"mr-2 ".concat(D)}),l.a.createElement("div",{className:"green"},L)),l.a.createElement("div",{style:{backgroundColor:"#F5F7FA",opacity:P},className:"w-100 border rounded px-3 pt-3 pb-3 mb-3"},l.a.createElement("div",{className:"h5 mb-3 ".concat(c?null:"d-none")},C.date),l.a.createElement("div",{className:"mb-0"},l.a.createElement("label",{className:"mr-1 ".concat(c?null:"d-none")},"".concat((e=>{let{moduleEntry:t,complete:a}=e;if(null===t||void 0===t?void 0:t.jobPost){let e=null;const{areaDestinationName:a,areaName:n}=null===t||void 0===t?void 0:t.jobPost;return e=a?" ".concat(n," reefer ").concat(a," - "):" ".concat(n," - "),e}})({moduleEntry:b,complete:v})," ").concat(C.sku)),l.a.createElement("div",{className:"mr-1 ".concat(c||f?"d-none":null)},l.a.createElement("div",{style:{wordWrap:"break-word !important",opacity:P,height:!N&&0},className:"mr-1 "},"".concat((null===g||void 0===g||null===(t=g.message)||void 0===t?void 0:t.toString())?null===g||void 0===g||null===(a=g.message)||void 0===a?void 0:a.toString():"The transaction cannot be processed. Please update current entries"))))),l.a.createElement("div",{className:"mb-2 h5 ".concat("submit"===u.name||f?"d-none":null)},"Please continue your work"),l.a.createElement("div",{className:"w-100 d-flex "},l.a.createElement(o.d,{onClick:()=>M(),className:"text no-shadow px-5 mr-4 mb-3 ".concat("bg-softGreen ".concat(c?"d-none":null))},"Cancel"),l.a.createElement(o.d,{id:"btn_is_saved",tabIndex:"0",onClick:()=>w(),className:"text-white sku-item no-shadow px-5 mb-3 ".concat(C.button," ").concat(!0===f||!1===f?null:"d-none")},C.buttonText),l.a.createElement(o.d,{id:"btn_is_saved",tabIndex:"0",onClick:()=>c?i({confirmation:u,setIsSaved:m,submit:_,setLocalEntryData:h,moveAll:y}):(e=>{let{setIsSaved:t,setConfirmation:a,action:n,setLocalEntryData:l}=e;t(),a({show:!1,name:n})})({setIsSaved:m,setConfirmation:p,action:E}),className:"text-white sku-item no-shadow px-5 mb-3 ".concat(C.button," ").concat(!0===f||!1===f?"d-none":null)},C.buttonText))))))}},604:function(e,t,a){"use strict";var n=a(0),l=a.n(n);t.a=e=>{let{isEmpty:t,entryListIdx:a,wmsPoSkuInfoId:n,uom:o,inputWidth:s,values:i,onChange:c,showTitle:r,grade:d,title:m,isReadOnly:u,poListIdx:p}=e;return l.a.createElement("div",{className:" ".concat(s," mb-3 mr-3 ").concat("Waste"===d?null:"d-none")},l.a.createElement("div",{className:" pb-1 LatoBold ".concat(r?null:"d-none")},m),l.a.createElement("div",{className:"".concat(t?"border-red":"border"," border rounded border-soft-green w-100 bg-white d-flex align-items-center input-height px-2 mr-3")},l.a.createElement("input",{id:"note_".concat(p,"_").concat(a),readOnly:u,autoComplete:"off",className:"w-100 plain-input",value:i,name:"note",onChange:e=>c(e)}),l.a.createElement("div",{className:"font-soft-grey"},o?o.toUpperCase():"")))}},606:function(e,t,a){"use strict";var n=a(0),l=a.n(n),o=a(218),s=a(544);a(548);let i={header:"Complete All !",headerIcon:"em em-anger",textColor:"red",date:"You are  required to update all entries on the list.",sku:"",module:"",status:"Check several entries left.",button:"bg-green",buttonText:"Check Entries"};const c={header:"Please double check!",headerIcon:"em em-pray",textColor:"red",date:"Some entries are less -20% or exceed 50% the excess percentage.",sku:"",module:"",status:"Please check again. If you\u2019re sure enough, click Submit anyway.",button:"bg-green",buttonText:"Check Entries"},r={header:"Something wrong!",headerIcon:"em em-thinking_face",textColor:"red",date:"Add Weight should not exceed Initial Weight",sku:"",module:"",status:"Please check again and edit the Weight field or Pack field?",button:"bg-green",buttonText:"Check Entries"};var d=a(553);t.a=e=>{var t,a,m,u,p,_,E,b;let v,{isRequired:h,setIsRequired:y,moduleName:g,module:f,totalSku:w,invalidThreshold:x,setInvalidThreshold:C,submit:N,totalEmptyThreshold:I,traceEmptyRow:k}=e,O=i;const D=document.documentElement.clientHeight-400;(!h&&x||h&&x)&&(O=c),"stockTake"!==g&&(v=Object(o.f)(f),v&&(O=r));const P=document.getElementById("btn_is_required");P&&P.focus();const[L,M]=Object(n.useState)({value:0,label:"All Exceed"});return l.a.createElement(s.B,{className:h||x?null:"d-none"},l.a.createElement(s.f,{className:"required"},l.a.createElement(s.s,{show:h||x,onClose:()=>{y(!1),x&&C(!1)},size:"lg",style:{minHeight:"280px"},bodyOpenClassName:"p-3",closeOnBackdrop:!1},l.a.createElement("div",{className:"d-flex flex-row-reverse"},l.a.createElement("i",{className:"pr-3 pt-3 iconU-modalClose",onClick:()=>{y(!1),x&&C(!1)}})),l.a.createElement(s.t,{className:"px-5 mt-3 py-0"},l.a.createElement("div",{className:"d-flex align-items-center mb-5"},l.a.createElement("label",{className:"".concat(null===(t=O)||void 0===t?void 0:t.textColor," LatoBold mr-2 h5")},null===(a=O)||void 0===a?void 0:a.header)," ",l.a.createElement("span",null,l.a.createElement("i",{className:"".concat(null===(m=O)||void 0===m?void 0:m.headerIcon)}))),l.a.createElement("div",{style:{backgroundColor:"#F5F7FA"},className:"w-100 border rounded px-3 pt-4 pb-3 mb-4"},l.a.createElement("div",{className:"h5 mb-3 ".concat(h||x?null:"d-none")},null===(u=O)||void 0===u?void 0:u.date),l.a.createElement("div",{className:"mb-0"},l.a.createElement("label",{className:"mr-1 h5"},"".concat(null===(p=O)||void 0===p?void 0:p.status)))),l.a.createElement("div",{className:"border-all w-100 hide-scrollbar",style:{maxHeight:D,minHeight:D,overflow:"scroll",display:(null===I||void 0===I?void 0:I.length)&&"repack"===g?null:"none"}},l.a.createElement("table",{className:"w-100"},l.a.createElement("tr",{className:"emptyTextField",style:{borderBottom:"1px solid #e4e4e4"}},l.a.createElement("th",{className:"w-50 px-3 py-1"},"SKU List"),l.a.createElement("td",{className:"w-50 px-3 py-1",style:{textAlign:"right"}},l.a.createElement(d.a,{noMarginBottom:!0,zInfinity:!0,show:!0,showTitle:!1,options:[{value:1,label:"Less than -20%"},{value:2,label:"More than 50%"}],onChangeDropdown:e=>M(e),title:"All Exceed",placeholder:"Exceed",moduleName:g,width:"w-100",selectedValue:L}))),l.a.createElement("tbody",{className:"w-100"},null===I||void 0===I||null===(_=I.filter(e=>{const{value:t}=L;return 1===t?e.excess<-20:2===t?e.excess>50:e}))||void 0===_?void 0:_.map(e=>l.a.createElement("tr",{onClick:()=>(e=>{let{setIsRequired:t,traceEmptyRow:a,data:n,invalidThreshold:l,setInvalidThreshold:o}=e;l&&o(!1),t(!1),"function"===typeof a&&a(n)})({setIsRequired:y,traceEmptyRow:k,data:e,invalidThreshold:x,setInvalidThreshold:C}),style:{borderBottom:"1px solid #e4e4e4"},className:"cursor-pointer excess-row py-3"},l.a.createElement("td",{className:"p-3"},e.skuName),l.a.createElement("td",{style:{textAlign:"right"},className:"red p-3"},"".concat(e.excess," %"),l.a.createElement("span",{className:"iconU-arrowRightAfter text"})))))))),l.a.createElement(s.u,{className:"px-5 pb-5 pt-0 w-100 ".concat(x?"justify-content-between":"justify-content-start","  border-none d-flex mt-2")},l.a.createElement("div",null,l.a.createElement(s.d,{id:"btn_is_required",tabIndex:"0",onClick:()=>{y(!1),x&&C(!1)},className:"text-white no-shadow ".concat(null===(E=O)||void 0===E?void 0:E.button)},null===(b=O)||void 0===b?void 0:b.buttonText)),l.a.createElement("div",null,l.a.createElement(s.d,{style:{backgroundColor:"#F5F7FA"},id:"btn_is_required",tabIndex:"0",onClick:()=>{y(!1),x&&C(!1),"function"===typeof N&&N()},className:"text LatoBold no-shadow ".concat(x?null:"d-none"," ")},"Submit anyway"))))))}},611:function(e,t,a){e.exports=a.p+"static/media/refreshIcon.de5bc1ae.svg"},612:function(e,t,a){e.exports=a.p+"static/media/asc.2efa55d2.svg"},613:function(e,t,a){e.exports=a.p+"static/media/desc.9a26f927.svg"},614:function(e,t,a){"use strict";var n=a(0),l=a.n(n),o=a(218),s=a(618);a(616),a(617),a(595);var i=e=>{let{showDate:t,selectDate:a,setShowDate:o}=e;const[i,c]=Object(n.useState)({startDate:new Date,endDate:new Date,key:"selection"}),[r,d]=Object(n.useState)(new Date),[m,u]=Object(n.useState)(),p=m?"text":"bg-green text-white",_=m?"bg-green text-white":"text",E=Object(n.useRef)(null);!function(e){let{wrapperRef:t,showDate:a,setShowDate:l,selectDate:o}=e;Object(n.useEffect)(()=>{function e(e){a&&t.current&&!t.current.contains(e.target)&&(l(!a),o())}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[t,a])}({wrapperRef:E,showDate:t,setShowDate:o,selectDate:a}),Object(n.useEffect)(()=>{c({startDate:new Date,endDate:new Date,key:"selection"}),d(new Date)},[m]);return l.a.createElement("div",{ref:E,style:{width:"350px"},className:" mt-5 position-fixed bg-white border border-soft-green rounded z-100 d-flex flex-column justify-content-center ".concat(t?null:"d-none")},l.a.createElement("div",{className:"d-flex justify-content-between w-100 cursor-pointer p-3"},l.a.createElement("div",{className:" border border-soft-green d-flex rounded justify-content-between w-100 cursor-pointer"},l.a.createElement("span",{onClick:()=>u(!m),className:" ".concat(p," w-50  ").concat(m?"rounded-left":"rounded"," text-center p-2")},"Single Date"),l.a.createElement("span",{onClick:()=>u(!m),className:" ".concat(_," w-50 ").concat(m?"rounded":"rounded-right"," text-center p-2")},"Ranged Date"))),l.a.createElement(s.DateRangePicker,{className:m?null:"d-none",ranges:[i],onChange:e=>(e=>{let{newdate:t,dateRange:a,setDateRange:n}=e,l={...a};l.startDate=t.selection.startDate,l.endDate=t.selection.endDate,n(l)})({newdate:e,dateRange:i,setDateRange:c})}),l.a.createElement(s.Calendar,{className:m?"d-none":null,date:r,onChange:e=>d(e)}),l.a.createElement("div",{className:"d-flex justify-content-between w-100 cursor-pointer p-3"},l.a.createElement("span",{onClick:()=>{t&&(a(m?i:r),o())},className:" bg-green text-white w-100 border border-soft-green rounded text-center p-2"},"Confirm")))},c=a(612),r=a.n(c),d=a(613),m=a.n(d);t.a=e=>{var t;let{moduleEntry:a,moduleName:s,activeSku:c,dispatch:d}=e;const[u,p]=Object(n.useState)(),[_,E]=Object(n.useState)(),[b,v]=Object(n.useState)(),[h,y]=Object(n.useState)();let g;const f=document.documentElement.clientWidth;return g=Object(o.a)({date:_,datePicker:!0}),(null===(t=g)||void 0===t?void 0:t.startDate)&&(g="".concat(g.startDate," - ").concat(g.endDate)),Object(n.useEffect)(()=>{Object(o.h)({moduleEntry:a,moduleName:s,activeSku:c,dispatch:d,sortBy:u})},[u,c]),Object(n.useEffect)(e=>{b||Object(o.d)({moduleEntry:a,moduleName:s,activeSku:c,dispatch:d,date:_})},[_,b,c]),Object(n.useEffect)(e=>{p(),E()},[h,c]),l.a.createElement("div",{className:"w-25 d-flex justify-content-end"},l.a.createElement("div",{style:{height:40},className:"".concat("repack"===s?"d-none":null," border-soft-green border-top border-bottom border-left m-0 rounded-left green h6 d-flex align-items-center justify-content-center px-2 text-nowrap ").concat(f>500&&_?null:"d-none")},g),l.a.createElement("div",{style:{height:40,minWidth:40},className:"".concat(_?"iconU-modalClose red":"iconU-filterDate emptyTextField"," border-soft-green border ").concat(_?"rounded-right":"rounded"," ").concat("repack"===s?"d-none":null," d-flex align-items-center justify-content-center mr-3 cursor-pointer"),onClick:()=>_?y(e=>!e):v(e=>!e)}),l.a.createElement(i,{showDate:b,selectDate:e=>E(e),setShowDate:e=>v(e)}),l.a.createElement("img",{style:{height:40,minWidth:40},src:u?m.a:r.a,onClick:()=>p(!u),className:"p-2 border rounded border-soft-green cursor-pointer"}))}},626:function(e,t,a){"use strict";var n=a(0),l=a.n(n);t.a=e=>{let{isEmpty:t,uom:a,inputWidth:o,values:s,onChange:i,showTitle:c,title:r}=e;const[d,m]=Object(n.useState)(),u="gram"!==a&&"kg"!==a;return l.a.createElement("div",{name:"upload",className:" ".concat(o," mb-3 mr-3 ").concat(u?null:"d-none"),onClick:()=>d&&s?i():null},l.a.createElement("div",{className:" pb-1 LatoBold text-nowrap ".concat(c?null:"d-none")},r),l.a.createElement("div",{onMouseLeave:()=>m(),onMouseEnter:()=>m(!0),style:{backgroundImage:"url(".concat(s,")"),backgroundSize:"cover",opacity:.7,width:!!s&&42},id:"input-img",className:"".concat(t?"border-red":"border"," rounded border-soft-green bg-white d-flex w-fit-content px-2 justify-content-center align-items-center input-height d-flex mr-3")},s&&d?l.a.createElement("div",{className:"hand-cursor",style:{margin:0}},l.a.createElement("span",{style:{fontSize:!!s&&25},className:"photo_text hidden-xs ".concat(s?d?"iconU-entryTrash css-2613qy-menu":null:" iconU-entryPhotos")})):l.a.createElement("label",{className:"hand-cursor",style:{margin:0}},l.a.createElement("input",{name:"upload",type:"file","nv-file-select":!0,uploader:"$ctrl.uploader",accept:"image/x-png,image/gif,image/jpeg",onChange:e=>i(e)}),l.a.createElement("span",{className:"fa fa-camera"}),l.a.createElement("span",{style:{fontSize:!!s&&25},className:"photo_text hidden-xs ".concat(s?d?"iconU-entryTrash css-2613qy-menu":null:" iconU-entryPhotos")}))))}},687:function(e,t,a){"use strict";a.d(t,"b",(function(){return d})),a.d(t,"a",(function(){return m})),a.d(t,"c",(function(){return u}));var n=a(14),l=a.n(n),o=a(16),s=a(549),i=a(559),c=a(218),r=a(547);const d=async e=>{var t;let{idx:a,checked:n,dispatch:c,setLocalEntryData:d,moduleName:m,moduleSummary:u,moduleEntry:p,warehouseUuid:_,areaId:E}=e,b=[...u];b[a].checked=n,c({type:o.c,["".concat(m,"summaryData")]:b});const v=null===b||void 0===b?void 0:b.filter(e=>{if(e.checked)return e});let h=[];p&&p.jobPost.list.map(e=>{const t=(e=>{let{skuUuid:t}=e;return{skuUuid:t}})(e);t.skuUuid&&h.push(t.skuUuid)});let y=[];const g=v.map(async(e,t)=>{if(!h.includes(e.skuUuid)){const t=await Object(i.a)({skuId:e.skuUuid});e.gradeList=null===t||void 0===t?void 0:t.filter(e=>"Waste"===(null===e||void 0===e?void 0:e.label)||"Semi Waste"===(null===e||void 0===e?void 0:e.label));const a=await Object(s.e)({skuId:e.skuUuid,warehouseUuid:_,dispatch:c,areaId:E.value,moduleName:m});if(a){const t=a.map(t=>{t.itemList=[];const a=t.expiryDate?l()(t.expiryDate).valueOf():null,n=t.inboundDate?l()(t.inboundDate).valueOf():null;return t.expiryDate=a,t.inboundDate=n,t.skuUuid=e.skuUuid,t.uom=e.unitOfMeassures,t.category=e.category,t.initialWeight=Number.isInteger(t.initialWeight)?parseInt(t.initialWeight):parseFloat(t.initialWeight),t});e.poList=t,y.push(e)}}});await Promise.all(g);let f=[];p&&(f=p.jobPost.list.concat(y)),p||(f=y);const w=b[a];w.checked||(f=f.filter(e=>e.skuUuid!==w.skuUuid));const x=null===p||void 0===p||null===(t=p.jobPost)||void 0===t?void 0:t.id,C={jobPost:{id:x||0,warehouseSource:_,warehouseDestination:_,areaSource:parseInt(null===E||void 0===E?void 0:E.value),areaName:null===E||void 0===E?void 0:E.label,areaDestination:parseInt(null===E||void 0===E?void 0:E.value),list:f.sort((function(e,t){return Object(r.g)(e,t)}))}};0===f.length&&c({type:o.b,["".concat(m,"EntryData")]:null}),d(C)},m=async e=>{let{idx:t,checked:a,dispatch:n,moduleName:o,moduleSummary:r,moduleEntry:d,warehouseUuid:m,areaId:u,preAddHandler:p}=e,_=[...r];_[t].checked=a;const E=null===_||void 0===_?void 0:_.filter(e=>{if(e.checked)return e});let b=[];d&&d.map(e=>{const t=(e=>{let{skuUuid:t}=e;return{skuUuid:t}})(e);t.skuUuid&&b.push(t.skuUuid)});let v=[];const h=E.map(async(e,t)=>{if(!b.includes(e.skuUuid)){const t=await Object(i.a)({skuId:e.skuUuid});e.gradeList=null===t||void 0===t?void 0:t.filter(e=>"Waste"===(null===e||void 0===e?void 0:e.label)||"Semi Waste"===(null===e||void 0===e?void 0:e.label));const a=await Object(s.e)({skuId:e.skuUuid,warehouseUuid:m,dispatch:n,areaId:u.value,moduleName:o});if(a){const t=a.map(t=>{t.itemList=[];const a=t.expiryDate?l()(t.expiryDate).valueOf():null,n=t.inboundDate?l()(t.inboundDate).valueOf():null;return t.expiryDate=a,t.inboundDate=n,t.skuUuid=e.skuUuid,t.uom=e.unitOfMeassures,t.category=e.category,t.initialWeight=Object(c.e)(t.initialWeight)?Object(c.e)(t.initialWeight):t.initialWeight,t});e.poList=t,e.isNewItem=!0,v.push(e)}}});await Promise.all(h);let y=[];d&&(y=d.concat(v)),d||(y=v);const g=_[t];g.checked||(y=y.filter(e=>e.skuUuid!==g.skuUuid)),p(y)},u=e=>{let{setActiveSKU:t,moduleEntry:a,moduleName:n,setConfirmation:l,dispatch:s,setIsRequired:i}=e,c=[],d={...a};const m=a.jobPost.list.map(e=>(e.poList.map(e=>{const t=Object(r.z)({moduleList:e.itemList});return e.itemList.map(a=>{const{qty:n,wasteType:l,note:o}=a;return 0!=n&&!isNaN(n)||null!==(null===l||void 0===l?void 0:l.value)?(isNaN(n)||0==n||""===n||null===n?a.qtyIsEmpty=!0:a.qtyIsEmpty=!1,(null===l||void 0===l?void 0:l.value)?a.wasteTypeIsEmpty=!1:a.wasteTypeIsEmpty=!0,a.noteIsEmpty=!o):(a.qtyIsEmpty=!1,a.wasteTypeIsEmpty=!1,a.uploadPhotoIsEmpty=!1,a.noteIsEmpty=!1),a.qtyIsEmpty||(Number(t)>Number(e.initialWeight)?a.qtyIsEmpty=!0:a.qtyIsEmpty=!1),(null===a||void 0===a?void 0:a.qtyIsEmpty)||(null===a||void 0===a?void 0:a.wasteTypeIsEmpty)||(null===a||void 0===a?void 0:a.uploadPhotoIsEmpty)||(null===a||void 0===a?void 0:a.noteIsEmpty)?c.push(!1):c.push(!0),a}),e}),e));let u=!1;m.map(e=>{e.poList.map(e=>{e.itemList.map(e=>{e.qty&&(u=!0)})})}),d.jobPost.list=m,s({type:o.b,["".concat(n,"EntryData")]:d}),!c.includes(!1)&&u?"function"===typeof l&&l({show:!0,name:"submit"}):("function"===typeof l&&l({show:!1,name:null}),"function"===typeof i&&i(!0)),Object(r.b)({setActiveSKU:t,moduleEntry:a,moduleName:n})}}}]);
//# sourceMappingURL=21.ef1a37d5.chunk.js.map