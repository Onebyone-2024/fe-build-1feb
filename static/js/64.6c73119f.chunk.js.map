{"version":3,"sources":["Page/StockEntry/AdditionalInbound/Upload/Result.jsx","Component/BootstrapTable/index.jsx"],"names":["withRouter","props","useDispatch","selectorCsvFileName","useSelector","state","csvFileName","selectorCsvDataResult","csvDataResult","selectorCsvFieldResult","csvFieldResult","isHiddenRows","setIsHiddenRows","React","useState","isShowErrorOnly","setIsShowErrorOnly","useEffect","setTimeout","console","log","undefined","history","push","createElement","className","TableResult","columns","tableClass","data","type","style","backgroundColor","onClick","lineHeight","length","TableEditable","Component","constructor","_this","super","this","changeOutboundReason","row","elem","document","getElementById","concat","classList","add","innerHTML","changeWarehouseUuid","value","column","columnName","warehouseCodeList","warehouseUuidList","warehouseNameList","setCsvDataTmp","globalData","tmpdata","index","findIndex","obj","id","i","indexOf","clear","async","validatePOSKU","idColumn","setIsValidate","transaction","url","elemspan","axios","method","then","response","_response$data","isExist","wmsPoSkuCode","wmsPoSkuCodeStatus","wmsPoSkuCodeReason","expiryDate","inboundDate","supplierName","supplierUuid","uom","photos","remove","error","validatePOSKUStockTransfer","newValue","key","payloadPO","poSkuCode","skuNumber","skuUuid","warehouseSource","areaSource","qty","_response$data2","_data$2","_data$3","_data$4","_data$5","_data$6","_data$7","_data$8","_data$9","_data$10","_data$11","_data$","isValid","errorMessage","_response$data3","_response$data4","_response$data5","message","skuDescription","tmpKey","keyy","setState","validateOutbountReason","tmp_data","datax","toUpperCase","validateOutbountType","validateSKUNumber","rowData","arguments","stats","newSkuData","skuList","_response$data6","isSuccess","photo","imageMd","newGradeUom","validateStatus","validateResult","rowCount","triggerRender","bind","render","hiddenRows","warehouseArea","outboundType","setCheckingCsv","editable","warehousesData","_warehousesData$data","map","d","code","name","wh_area_label","label","wh_area_value","wh_outboundtype_label","wh_outboundtype_value","newFormat","validator","done","dataField","keyStatus","keyReason","stat","reason","includes","arr_grade","checkType","parseInt","isNaN","text","regex_date","match","valid","formatter","cell","txt","sortOption","sortFunc","sortCaret","order","CCard","BootstrapTable","keyField","sort","classes","cellEdit","cellEditFactory","mode","blurToSave","nonEditableRows","dataDoubleRow","bordered"],"mappings":"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","file":"static/js/64.6c73119f.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\n\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { withRouter } from \"react-router\";\nimport { TableResult } from \"Component/BootstrapTable\";\nimport \"../index.scss\";\n\nconst Result = (props) => {\n  const dispatch = useDispatch();\n\n  //selector\n  const selectorCsvFileName = useSelector((state) => state.csvFileName);\n  const selectorCsvDataResult = useSelector((state) => state.csvDataResult);\n  const selectorCsvFieldResult = useSelector((state) => state.csvFieldResult);\n\n  //state \n  const [isHiddenRows, setIsHiddenRows] = React.useState(null);\n  const [isShowErrorOnly, setIsShowErrorOnly] = React.useState(true);\n\n  useEffect(() => { }, [selectorCsvDataResult]);\n\n\n  setTimeout(() => {\n    console.log(selectorCsvDataResult)\n  }, 3000);\n  if (selectorCsvDataResult === undefined || selectorCsvDataResult === null) {\n    props.history.push(\"/inventory-entry/additional-inbound/CSV-upload\"); \n    return 0;\n  }\n\n  return (\n    <div className=\"w-100 d-flex flex-column stock-take-summary\">\n\n      <TableResult\n        columns={selectorCsvFieldResult}\n        tableClass=\"reviewTable\"\n        data={selectorCsvDataResult}\n      />\n\n      <div className=\"row pt-3\">\n        <div className=\"col-4\">\n          <button\n            type=\"button\"\n            className=\"btn px-3 mr-3 text no-shadow\"\n            style={{ backgroundColor: \"#fff\" }}\n            onClick={() => props.history.push(\"/inventory-entry/additional-inbound/CSV-upload\")}\n          >\n            Upload Another File\n          </button>\n        </div>\n\n        <div className=\"col-4\" style={{ lineHeight: \"40px\" }}>\n          Review your imported file: {selectorCsvFileName} (\n          {selectorCsvDataResult.length || 0} Lines)\n        </div>\n      </div>\n\n    </div>\n  );\n};\n\nexport default withRouter(Result);\n","import React from \"react\";\nimport { CCard } from \"@coreui/react\";\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport \"./bootstrapTable-style.scss\";\nimport \"react-bootstrap-table-next/dist/react-bootstrap-table2.min.css\";\nimport axios from \"axios\";\n\n//cell editable\n//doc : https://react-bootstrap-table.github.io/react-bootstrap-table2/storybook/index.html?selectedKind=Cell%20Editing&selectedStory=Click%20to%20Edit&full=0&addons=1&stories=1&panelRight=0&addonPanel=storybook%2Factions%2Factions-panel\nimport cellEditFactory from \"react-bootstrap-table2-editor\";\n\nclass TableEditable extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      validateStatus: false,\n      validateResult: \"Please Wait...\",\n      globalData: this.props.globalData,\n      rowCount: 0,\n      keyy: 0,\n      triggerRender: 0\n    };  \n    this.validatePOSKUStockTransfer = this.validatePOSKUStockTransfer.bind(this);\n    this.validateSKUNumber = this.validateSKUNumber.bind(this);\n    \n  } \n  changeOutboundReason = (row) => {\n    setTimeout(() => {\n      let elem = document.getElementById(`row${row}-outboundReason`);\n      elem.classList.add(\"red\", \"tooltip-custom\");\n      elem.innerHTML = `Outbound Reason Can't be empty<span class=\"tooltiptext\">Outbound Reason Can't be empty if Outbound type = 'Lainnya'</span>`;\n    }, 300);\n  }\n\n  changeWarehouseUuid = (\n    value,\n    column,\n    columnName,\n    row,\n    warehouseCodeList,\n    warehouseUuidList,\n    warehouseNameList\n  ) => {\n    const { setCsvDataTmp, globalData } = this.props;\n    let tmpdata = globalData;\n    var index = tmpdata.findIndex((obj) => obj.id == row);\n    let i = warehouseCodeList.indexOf(value);\n    tmpdata[index][column] = warehouseUuidList[i];\n    tmpdata[index][columnName] = warehouseNameList[i];\n\n    console.clear() \n    setTimeout(async () => {\n      setCsvDataTmp(tmpdata);\n    }, 400);\n  };\n\n  validatePOSKU = async (id, row, idColumn) => {\n    const { setCsvDataTmp, globalData, setIsValidate, transaction } = this.props;\n    if(transaction==\"additional_inbound\"){\n      return;\n    }\n\n    let tmpdata = globalData;\n    try {\n      setIsValidate(false);\n      const url = \"/stocktake/rowValidationUpload\";\n      let elem = null;\n      let elemspan = null;\n      setTimeout(async () => {\n        elem = document.getElementById(`${idColumn}`);\n        elemspan = document.getElementById(`${idColumn}span`);\n        if (elem === null || elem === undefined) {\n          return 0;\n        }\n        elemspan.innerHTML = \"Validating\";\n        elem.classList.add(\"red\");\n        await axios({\n          method: \"post\",\n          url: url,\n          data: { data: [id] },\n        }).then(function (response) {\n          let data = response?.data?.data;\n          var index = tmpdata.findIndex((obj) => obj.id == row);\n          if (data[0] && data[0].isExist === true) {\n            tmpdata[index].wmsPoSkuCode = data[0].wmsPoSkuCode;\n            tmpdata[index].wmsPoSkuCodeStatus = true;\n            tmpdata[index].wmsPoSkuCodeReason = \"PO SKU Code Not Found\";\n            tmpdata[index].expiryDate = data[0].expiryDate;\n            tmpdata[index].inboundDate = data[0].inboundDate;\n            tmpdata[index].supplierName = data[0].supplierName;\n            tmpdata[index].supplierUuid = data[0].supplierUuid;\n            tmpdata[index].uom = data[0].uom;\n            tmpdata[index].photos = data[0].photos;\n            elem.classList.remove(\"red\");\n            elem.classList.add(\"hiddenTooltip\");\n          } else {\n            tmpdata[index].wmsPoSkuCodeStatus = false;\n            tmpdata[index].wmsPoSkuCodeReason = \"PO SKU Code Not Found\";\n            tmpdata[index].expiryDate = \"\";\n            tmpdata[index].inboundDate = \"\";\n            tmpdata[index].supplierName = \"\";\n            tmpdata[index].supplierUuid = \"\";\n            elem.classList.add(\"red\");\n            elem.classList.remove(\"hiddenTooltip\");\n            elemspan.innerHTML = \"PO SKU Code Not Found\";\n          }\n          setCsvDataTmp(tmpdata);\n        });\n      }, 400);\n    } catch (error) {\n      return false;\n    }\n  };\n\n  validatePOSKUStockTransfer = async (newValue, row, idColumn, key) => {\n    const { setCsvDataTmp, globalData, setIsValidate, transaction } = this.props;  \n    let tmpdata = globalData;\n    \n    var index = tmpdata.findIndex((obj) => obj.id == row.id); \n    // console.log(tmpdata)\n    // console.log(row.id, row)\n    // console.log(index)\n\n    try {\n      const url = \"/stocktransfer/rowValidationUpload\";\n      let elem = null;\n      let elemspan = null;\n      let payloadPO = [{\n        \"id\": row.id,\n        \"poSkuCode\": key==\"wmsPoSkuCode\" ? newValue : (row.poSkuCode?row.poSkuCode:\"\"),\n        \"skuNumber\": key==\"skuNumber\"? newValue?.skuNumber: row.skuNumber,\n        \"skuUuid\": key==\"skuNumber\"? newValue?.skuUuid:row.skuUuid,\n        \"warehouseSource\": row.warehouseSource,\n        \"areaSource\": row.areaSource,\n        \"weight\": key==\"qty\"?newValue:row.qty\n      }]; \n\n      setTimeout(async () => {\n        //setvalidate false\n        setIsValidate(false);\n\n        //elemen column\n        elem = document.getElementById(`${idColumn}`);\n        elemspan = document.getElementById(`${idColumn}span`);\n\n        if (elem === null || elem === undefined) {\n          return 0;\n        }\n        elemspan.innerHTML = \"Validating\";\n        // elem.classList.remove(\"hiddenTooltip\");\n        // elem.classList.add(\"red\");  \n        await axios({\n          method: \"post\",\n          url: url,\n          data: { data: payloadPO },\n        }).then(function (response) {\n          let data = response?.data?.data;\n          if (data[0]) {\n            if(data[0].isExist === true && data[0].isValid === true){\n              tmpdata[index]['rowStatus'] = true;\n              tmpdata[index]['rowReason'] = \"\";\n              elem.classList.remove(\"red\");\n              elem.classList.add(\"hiddenTooltip\");\n            }else{\n              tmpdata[index]['rowStatus'] = false;\n              tmpdata[index]['rowReason'] = data[0]?.errorMessage;\n            }\n            tmpdata[index]['wmsPoSkuCode'] = data[0]?.wmsPoSkuCode ;\n            tmpdata[index]['wmsPoSkuCodeStatus'] = data[0]?.isExist && data[0]?.isValid;\n            tmpdata[index]['wmsPoSkuCodeReason'] = data[0]?.errorMessage;\n            tmpdata[index]['expiryDate'] = data[0]?.expiryDate;\n            tmpdata[index]['inboundDate'] = data[0]?.inboundDate;\n            tmpdata[index]['supplierName'] = data[0]?.supplierName;\n            tmpdata[index]['supplierUuid'] = data[0]?.supplierUuid;\n            tmpdata[index]['uom'] = data[0]?.uom;\n            tmpdata[index]['photos'] = data[0]?.photos;\n          } else {\n            tmpdata[index]['wmsPoSkuCodeStatus'] = false;\n            tmpdata[index]['wmsPoSkuCodeReason'] = response?.data?.message;\n            tmpdata[index]['expiryDate'] = \"\";\n            tmpdata[index]['inboundDate'] = \"\";\n            tmpdata[index]['supplierName'] = \"\";\n            tmpdata[index]['supplierUuid'] = \"\";\n            tmpdata[index]['rowStatus'] = false;\n            tmpdata[index]['rowReason'] = response?.data?.message;\n            elem.classList.add(\"red\");\n            elem.classList.remove(\"hiddenTooltip\");\n            elemspan.innerHTML = response?.data?.message;\n          } \n\n          if(key==\"skuNumber\"){ \n            tmpdata[index][\"skuNumber\"] = newValue.skuNumber;\n            tmpdata[index][\"skuNumberReason\"] = newValue.skuDescription;\n            tmpdata[index][\"skuNumberStatus\"] = true;\n            tmpdata[index][\"skuUuid\"] = newValue.skuUuid;\n          }\n          setCsvDataTmp(tmpdata); \n        }); \n        let tmpKey = this.state.keyy + 1; \n        this.setState({keyy: tmpKey}); \n      }, 500);\n    } catch (error) {\n      return false;\n    }\n  };\n\n  validateOutbountReason = (value, row, idColumn) => {\n    const { globalData } = this.props;\n    let tmp_data = globalData;\n    var index = tmp_data.findIndex((obj) => obj.id == row);\n    let datax = tmp_data[index];\n    if (value == \"\" && datax[\"outboundType\"].toUpperCase() == \"LAINNYA\") {\n      this.changeOutboundReason(row)\n    }\n  };\n\n  validateOutbountType = (value, row, idColumn) => {\n    const { globalData, setIsValidate } = this.props;\n    let tmp_data = globalData;\n    setIsValidate(false);\n    if (value.toUpperCase() !== \"LAINNYA\") {\n      setIsValidate(true);\n      return 0;\n    }\n\n    var index = tmp_data.findIndex((obj) => obj.id == row);\n    let datax = tmp_data[index];\n    if (datax[\"outboundReason\"] == \"\") {\n      this.changeOutboundReason(row);\n    }\n  };\n\n  validateSKUNumber = async (id, row, idColumn, key, rowData = null) => {\n    const { globalData, setCsvDataTmp, setIsValidate,transaction } = this.props;\n    let tmp_data = globalData;\n    try {\n      setIsValidate(false);\n      const url = \"/oss/skuByNumbers\";\n      let elem = null;\n      let elemspan = null;\n      \n      // for validating stock transfer\n      let stats = false;\n      let newSkuData = {} \n      setTimeout(async () => {\n        elem = document.getElementById(`${idColumn}`);\n        elemspan = document.getElementById(`${idColumn}span`);\n        if (elem === null || elem === undefined) {\n          return 0;\n        }\n        elemspan.innerHTML = \"Validating\";\n        await axios({\n          method: \"post\",\n          url: url,\n          data: { skuList: [id] },\n        }).then(function (response) {\n          let data = response?.data?.data;\n          let isSuccess = response.data.isSuccess;\n          var index = tmp_data.findIndex((obj) => obj.id == row);\n          if (isSuccess === true && data.length > 0) {\n            stats = true;\n            tmp_data[index][key] = data[0].skuNumber;\n            tmp_data[index][key + \"Reason\"] = data[0].skuDescription;\n            tmp_data[index][key + \"Status\"] = true;\n            tmp_data[index][key + \"Uuid\"] = data[0].id;\n            newSkuData = {\n              skuUuid: data[0].id,\n              skuNumber: data[0].skuNumber,\n              skuDescription: data[0].skuDescription,\n              photo: data[0].photo\n            }\n\n            //custom\n            if (key == \"skuNumber\") {\n              tmp_data[index].skuUuid = data[0].id;\n              tmp_data[index].photo = data[0].imageMd;\n            }\n\n            if (key == \"newGrade\") {\n              tmp_data[index].newGradeUom = data[0].uom;\n            }\n            \n            if(transaction==\"additional_inbound\"){\n              tmp_data[index].uom = data[0].uom;\n            }\n\n            \n            if(transaction!==\"stockTransfer\"){\n              elem.classList.remove(\"red\");\n              elem.classList.add(\"hiddenTooltip\");\n            }\n\n          } else {\n            stats = false;\n            tmp_data[index][key] = id;\n            tmp_data[index][key + \"Reason\"] = \"SKU Number Not Found\";\n            tmp_data[index][key + \"Status\"] = false;\n            tmp_data[index][key + \"Uuid\"] = null;\n            elem.classList.add(\"red\");\n            elem.classList.remove(\"hiddenTooltip\");\n            elemspan.innerHTML = \"SKU Number Not Found\";\n\n            if (key == \"skuNumber\") {\n              tmp_data[index].skuUuid = \"\";\n              tmp_data[index].photo = \"\";\n            }\n            if (key == \"newGrade\") {\n              tmp_data[index].newGradeUom = null;\n            }\n            if(transaction==\"additional_inbound\"){\n              tmp_data[index].uom = \"\";\n            }\n          } \n        });\n\n        if(transaction==\"stockTransfer\" && stats === true){ \n          this.validatePOSKUStockTransfer(newSkuData, rowData, idColumn, 'skuNumber')\n        }else{\n          setCsvDataTmp(tmp_data);\n        }\n      }, 400);\n    } catch (error) {\n      return false;\n    }\n  };\n\n  render() {\n    const {\n      columns,\n      hiddenRows,\n      tableClass,\n      warehouseArea,\n      outboundType,\n      setCheckingCsv, \n      editable = true,\n      warehousesData = [],\n      transaction,\n      globalData\n    } = this.props;\n    let { validateStatus,  keyy } = this.state;\n    \n    //wh\n    let warehouseCodeList = [];\n    let warehouseUuidList = [];\n    let warehouseNameList = [];\n    if (warehousesData) {\n      let tmp = warehousesData?.data?.map((d) => {\n        warehouseCodeList.push(d.code);\n        warehouseUuidList.push(d.id);\n        warehouseNameList.push(d.name);\n      });\n    }\n\n    //wh area\n    let wh_area_label =\n      warehouseArea.map((data) => data.label.toUpperCase()) || [];\n    let wh_area_value = warehouseArea.map((data) => data.value) || [];\n    let wh_outboundtype_label = !outboundType\n      ? []\n      : outboundType.map((data) => data.label.toUpperCase());\n    let wh_outboundtype_value = !outboundType\n      ? []\n      : outboundType.map((data) => data.value);\n    const newFormat = columns.map((data, index) => {\n      data.validator = (newValue, row, column, done) => {\n        let key = data.dataField;\n        let keyStatus = key + \"Status\";\n        let keyReason = key + \"Reason\";\n        let stat = true;\n        let reason = null;\n        let idColumn = \"row\" + row[\"id\"] + \"-\" + key;\n\n        let stockTransferColumnCheck = ['wmsPoSkuCode', 'qty']\n        if (stockTransferColumnCheck.includes(key) && transaction==\"stockTransfer\") {\n          this.validatePOSKUStockTransfer(newValue, row, idColumn, key);\n          stat = true;\n        }else if(key == \"wmsPoSkuCode\" ){\n          this.validatePOSKU(newValue, row.id, idColumn, key);\n          stat = true; \n        }\n\n        if (key == \"skuNumber\") {\n          this.validateSKUNumber(newValue, row.id, idColumn, key, row);\n          stat = true;\n        }\n\n        let arr_grade = [\"WASTE\", \"SEMI WASTE\"];\n        if (key == \"newGrade\" && this.props.transaction == \"waste\") {\n          if (!arr_grade.includes(newValue.toUpperCase())) {\n            reason = \"Waste Type not found\";\n            checkType = false;\n            stat = false;\n          } else {\n            row[\"newGradeUuid\"] = newValue;\n            row[\"newGradeUom\"] = null;\n          }\n        } else if (key == \"newGrade\") {\n          if (!arr_grade.includes(newValue.toUpperCase())) {\n            //if not waste or semi waste\n            if (parseInt(newValue)) {\n              //if number\n              stat = true;\n              this.validateSKUNumber(newValue, row.id, idColumn, key);\n            } else if (newValue == \"\") {\n              row[\"newGradeUuid\"] = null;\n              row[\"newGradeUom\"] = null;\n              stat = true;\n            } else {\n              //if not number => undefined\n              reason = \"Grade Undefined\";\n              checkType = false;\n              stat = false;\n            }\n          } else {\n            row[\"newGradeUuid\"] = newValue;\n            row[\"newGradeUom\"] = null;\n          }\n        }\n\n        if (key == \"outboundType\" && wh_outboundtype_value.length > 0) {\n          if (!wh_outboundtype_label.includes(newValue.toUpperCase())) {\n            stat = false;\n            reason = `Outbound Type Not Found`;\n          } else {\n            let i = wh_outboundtype_label.indexOf(newValue.toUpperCase());\n            row[\"outboundTypeCode\"] = wh_outboundtype_value[i];\n            stat = true;\n            this.validateOutbountType(newValue, row.id, idColumn);\n          }\n        }\n\n        if (key == \"outboundReason\") {\n          this.validateOutbountReason(newValue, row.id, idColumn);\n        }\n\n        if (key == \"warehouse\") {\n          if (!warehouseCodeList.includes(newValue)) {\n            stat = false;\n            reason = `Warehouse Not Found`;\n          } else {\n            stat = true;\n            this.changeWarehouseUuid(\n              newValue,\n              \"warehouseUuid\",\n              \"warehouseName\",\n              row.id,\n              warehouseCodeList,\n              warehouseUuidList,\n              warehouseNameList\n            );\n          }\n        }\n        if (key == \"warehouseDestination\") {\n          if (!warehouseCodeList.includes(newValue)) {\n            stat = false;\n            reason = `Warehouse Not Found`;\n          } else {\n            stat = true;\n            this.changeWarehouseUuid(\n              newValue,\n              \"warehouseDestinationUuid\",\n              \"warehouseDestinationName\",\n              row.id,\n              warehouseCodeList,\n              warehouseUuidList,\n              warehouseNameList\n            );\n          } \n        }\n\n        if (key == \"areaName\" || key == \"areaNameDestination\") {\n          if (!wh_area_label.includes(newValue.toUpperCase())) {\n            stat = false;\n            reason = `Warehouse Area Not Found`;\n          } else {\n            let i = wh_area_label.indexOf(newValue.toUpperCase());\n            if (key == \"areaNameDestination\") {\n              row[\"areaDestination\"] = wh_area_value[i];\n            } else {\n              row[\"areaSource\"] = wh_area_value[i];\n            }\n            stat = true;\n          }\n        }\n\n        if (key == \"newPack\") {\n          let checkTypenewPack = isNaN(newValue) ? false : true;\n          if (!checkTypenewPack) {\n            stat = false;\n            reason = `Pack Should be a number`;\n          } else {\n            stat = true;\n          }\n        } \n        \n\n        let checkType = null;\n        if (data.type == \"number\") {\n          checkType = isNaN(newValue) ? false : true;\n        } else {\n          checkType = true;\n        }\n        if (checkType === false) {\n          reason = `${data.text} Should be a ${data.type}`;\n        } \n\n        \n        if (key == \"wmsPoSkuCode\" && transaction == \"stockTransfer\") {\n          if(isNaN(newValue)){\n            checkType = false;\n            reason = `${data.text} Should be a number`;\n            stat = false;\n          } \n        } \n\n        //some field can null\n        let canNull = [\n          \"grade\",\n          \"outboundReason\",\n          \"ripenessLevel\",\n          \"newRipeness\",\n          \"reason\",\n          \"expiryDate\"\n        ]; \n\n        if (canNull.includes(key) && newValue === \"\") {\n          reason = \"\";\n          checkType = true;\n          stat = true;\n        } else if (key == \"grade\") {\n          if (!arr_grade.includes(newValue.toUpperCase())) {\n            reason = \"Waste Type Not Found\";\n            checkType = false;\n            stat = false;\n          }\n        }\n\n        //check ripenesslevel\n        if (key == \"ripenessLevel\" || key == \"newRipeness\") {\n          let allowedRipenessLevel = [0, 1, 2, 3];\n          if (\n            allowedRipenessLevel.includes(parseInt(newValue)) ||\n            newValue == \"\"\n          ) {\n            checkType = true;\n            stat = true;\n            reason = \"\";\n            if (newValue == \"\") {\n              newValue = \"\";\n            }\n          } else {\n            checkType = false;\n            stat = false;\n            reason = \"Undefined Ripeness Level\";\n          }\n        }\n\n        //check date\n        if (data.type == \"date_indo\") {\n          //checking date\n          let regex_date = /(0[1-9]|[12][0-9]|3[01])[-.](0[1-9]|1[012])[-.](19|20)\\d\\d/;\n          if (newValue.match(regex_date)) {\n            checkType = true;\n            stat = true;\n          } else if (newValue == \"\") {\n            checkType = true;\n            stat = true;\n          } else {\n            reason = `Date format must be 'dd-mm-yyyy'`;\n            checkType = false;\n            stat = false;\n          }\n        }\n\n        //set notif\n        row[keyReason] = reason;\n        if (stat && checkType) {\n          let specialKey = [\"wmsPoSkuCode\", \"skuNumber\"];\n          if (!specialKey.includes(key)) {\n            //some key have their own checking, so if not in array do checking error\n            row[keyStatus] = true;\n            setCheckingCsv();\n          }\n        } \n         \n        return {\n          valid: stat && checkType ? true : false,\n          message: reason,\n        };\n      };\n\n      data.formatter = (cell, row, index) => {\n        let key = data.dataField;\n        let keyStatus = key + \"Status\";\n        let keyReason = key + \"Reason\";\n        let stat = true;\n        let idColumn = \"row\" + row[\"id\"] + \"-\" + key;\n        let txt = row[keyReason];\n        \n        // if status column = false\n        // that mean there's error or not valid data in some column\n        if (row[keyStatus] === false) {\n          validateStatus = false;\n          stat = false;\n          return (\n            <div id={idColumn} className=\"tooltip-custom red\">\n              {cell}\n              <span id={idColumn + \"span\"} className=\"tooltiptext\">\n                {txt}\n              </span>\n            </div>\n          );\n        }\n\n        // if global row status = false\n        // that mean there's wmsposkucode validation error, and makes 1 line become red colour\n        // for now is only for stock transfer  \n        if ( transaction==\"stockTransfer\" &&  row['rowStatus'] === false) { \n          validateStatus = false;\n          stat = false;\n          return (\n            <div id={idColumn} className=\"tooltip-custom red\">\n              {cell}\n              <span id={idColumn + \"span\"} className=\"tooltiptext\">\n                {row['rowReason']}\n              </span>\n            </div>\n          );\n        }\n\n        \n        // if status column = true\n        // No problem \n        return (\n          <div id={idColumn} className=\"tooltip-custom hiddenTooltip\">\n            {cell}\n            <span id={idColumn + \"span\"} className=\"tooltiptext\">\n              {txt}\n            </span>\n          </div>\n        );\n      };\n      return data;\n    });\n\n    const sortOption = {\n      // No need to configure sortFunc per column\n      sortFunc: this.sortFunc,\n      // No need to configure sortCaret per column\n      sortCaret: (order, column) => {\n        if (!order) return <i className=\"iconU-tableSortingNull ml-2\"></i>;\n        else if (order === \"asc\")\n          return <i className=\"iconU-tableSortingTop ml-2\"></i>;\n        else if (order === \"desc\")\n          return <i className=\"iconU-tableSortingBottom ml-2\"></i>;\n        return null;\n      },\n    };\n    console.clear();  \n    console.log(globalData)\n    return (\n      <CCard className=\"table-responsive\">\n        <BootstrapTable\n          keyField=\"id\"\n          data={globalData}\n          columns={newFormat}\n          sort={sortOption}\n          classes={tableClass || null}\n          cellEdit={\n            editable === true\n              ? cellEditFactory({\n                  mode: \"click\",\n                  blurToSave: true,\n                  nonEditableRows: () => this.props.dataDoubleRow || [],\n                })\n              : null\n          }\n          bordered={false}\n          hiddenRows={hiddenRows}\n          key={keyy}\n        />\n      </CCard>\n    );\n  }\n}\n\nclass TableResult extends React.Component {\n  render() {\n    const { columns, tableClass, data } = this.props;\n\n    const newFormat = columns.map((data, index) => {\n      data.formatter = (cell, row, index) => {\n        let key = data.dataField;\n        if (key == \"uploadStatus\" && row[\"uploadStatus\"] === \"Failed\") {\n          return (\n            <div className=\"tooltip-custom red\">\n              {cell}\n              <span className=\"tooltiptext\">{row[\"uploadStatusReason\"]}</span>\n            </div>\n          );\n        } else if (key == \"uploadStatus\" && row[\"uploadStatus\"] === \"Success\") {\n          return (\n            <div className=\"green\">\n              {cell}\n              <span></span>\n            </div>\n          );\n        }\n\n        return (\n          <div>\n            {cell}\n            <span></span>\n          </div>\n        );\n      };\n      return data;\n    });\n\n    const sortOption = {\n      // No need to configure sortFunc per column\n      sortFunc: this.sortFunc,\n      // No need to configure sortCaret per column\n      sortCaret: (order, column) => {\n        if (!order) return <i className=\"iconU-tableSortingNull ml-2\"></i>;\n        else if (order === \"asc\")\n          return <i className=\"iconU-tableSortingTop ml-2\"></i>;\n        else if (order === \"desc\")\n          return <i className=\"iconU-tableSortingBottom ml-2\"></i>;\n        return null;\n      },\n    };\n\n    return (\n      <CCard className=\"table-responsive\">\n        <BootstrapTable\n          keyField=\"id\"\n          data={data}\n          columns={newFormat}\n          sort={sortOption}\n          classes={tableClass || null}\n          bordered={false}\n        />\n      </CCard>\n    );\n  }\n}\n\nexport { TableResult, TableEditable };\n"],"sourceRoot":""}